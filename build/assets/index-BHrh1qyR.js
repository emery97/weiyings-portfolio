(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function e(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(r){if(r.ep)return;r.ep=!0;const a=e(r);fetch(r.href,a)}})();function by(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var mu={exports:{}},Ur={},gu={exports:{}},Rt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fm;function ox(){if(fm)return Rt;fm=1;var s=Symbol.for("react.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;function y(I){return I===null||typeof I!="object"?null:(I=m&&I[m]||I["@@iterator"],typeof I=="function"?I:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,x={};function S(I,H,J){this.props=I,this.context=H,this.refs=x,this.updater=J||w}S.prototype.isReactComponent={},S.prototype.setState=function(I,H){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,H,"setState")},S.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function E(){}E.prototype=S.prototype;function T(I,H,J){this.props=I,this.context=H,this.refs=x,this.updater=J||w}var _=T.prototype=new E;_.constructor=T,b(_,S.prototype),_.isPureReactComponent=!0;var P=Array.isArray,k=Object.prototype.hasOwnProperty,D={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function L(I,H,J){var st,mt={},wt=null,et=null;if(H!=null)for(st in H.ref!==void 0&&(et=H.ref),H.key!==void 0&&(wt=""+H.key),H)k.call(H,st)&&!N.hasOwnProperty(st)&&(mt[st]=H[st]);var Ct=arguments.length-2;if(Ct===1)mt.children=J;else if(1<Ct){for(var kt=Array(Ct),Tt=0;Tt<Ct;Tt++)kt[Tt]=arguments[Tt+2];mt.children=kt}if(I&&I.defaultProps)for(st in Ct=I.defaultProps,Ct)mt[st]===void 0&&(mt[st]=Ct[st]);return{$$typeof:s,type:I,key:wt,ref:et,props:mt,_owner:D.current}}function $(I,H){return{$$typeof:s,type:I.type,key:H,ref:I.ref,props:I.props,_owner:I._owner}}function K(I){return typeof I=="object"&&I!==null&&I.$$typeof===s}function Z(I){var H={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(J){return H[J]})}var ft=/\/+/g;function dt(I,H){return typeof I=="object"&&I!==null&&I.key!=null?Z(""+I.key):H.toString(36)}function nt(I,H,J,st,mt){var wt=typeof I;(wt==="undefined"||wt==="boolean")&&(I=null);var et=!1;if(I===null)et=!0;else switch(wt){case"string":case"number":et=!0;break;case"object":switch(I.$$typeof){case s:case t:et=!0}}if(et)return et=I,mt=mt(et),I=st===""?"."+dt(et,0):st,P(mt)?(J="",I!=null&&(J=I.replace(ft,"$&/")+"/"),nt(mt,H,J,"",function(Tt){return Tt})):mt!=null&&(K(mt)&&(mt=$(mt,J+(!mt.key||et&&et.key===mt.key?"":(""+mt.key).replace(ft,"$&/")+"/")+I)),H.push(mt)),1;if(et=0,st=st===""?".":st+":",P(I))for(var Ct=0;Ct<I.length;Ct++){wt=I[Ct];var kt=st+dt(wt,Ct);et+=nt(wt,H,J,kt,mt)}else if(kt=y(I),typeof kt=="function")for(I=kt.call(I),Ct=0;!(wt=I.next()).done;)wt=wt.value,kt=st+dt(wt,Ct++),et+=nt(wt,H,J,kt,mt);else if(wt==="object")throw H=String(I),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.");return et}function xt(I,H,J){if(I==null)return I;var st=[],mt=0;return nt(I,st,"","",function(wt){return H.call(J,wt,mt++)}),st}function G(I){if(I._status===-1){var H=I._result;H=H(),H.then(function(J){(I._status===0||I._status===-1)&&(I._status=1,I._result=J)},function(J){(I._status===0||I._status===-1)&&(I._status=2,I._result=J)}),I._status===-1&&(I._status=0,I._result=H)}if(I._status===1)return I._result.default;throw I._result}var U={current:null},j={transition:null},tt={ReactCurrentDispatcher:U,ReactCurrentBatchConfig:j,ReactCurrentOwner:D};function Y(){throw Error("act(...) is not supported in production builds of React.")}return Rt.Children={map:xt,forEach:function(I,H,J){xt(I,function(){H.apply(this,arguments)},J)},count:function(I){var H=0;return xt(I,function(){H++}),H},toArray:function(I){return xt(I,function(H){return H})||[]},only:function(I){if(!K(I))throw Error("React.Children.only expected to receive a single React element child.");return I}},Rt.Component=S,Rt.Fragment=e,Rt.Profiler=r,Rt.PureComponent=T,Rt.StrictMode=n,Rt.Suspense=h,Rt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tt,Rt.act=Y,Rt.cloneElement=function(I,H,J){if(I==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+I+".");var st=b({},I.props),mt=I.key,wt=I.ref,et=I._owner;if(H!=null){if(H.ref!==void 0&&(wt=H.ref,et=D.current),H.key!==void 0&&(mt=""+H.key),I.type&&I.type.defaultProps)var Ct=I.type.defaultProps;for(kt in H)k.call(H,kt)&&!N.hasOwnProperty(kt)&&(st[kt]=H[kt]===void 0&&Ct!==void 0?Ct[kt]:H[kt])}var kt=arguments.length-2;if(kt===1)st.children=J;else if(1<kt){Ct=Array(kt);for(var Tt=0;Tt<kt;Tt++)Ct[Tt]=arguments[Tt+2];st.children=Ct}return{$$typeof:s,type:I.type,key:mt,ref:wt,props:st,_owner:et}},Rt.createContext=function(I){return I={$$typeof:l,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},I.Provider={$$typeof:a,_context:I},I.Consumer=I},Rt.createElement=L,Rt.createFactory=function(I){var H=L.bind(null,I);return H.type=I,H},Rt.createRef=function(){return{current:null}},Rt.forwardRef=function(I){return{$$typeof:c,render:I}},Rt.isValidElement=K,Rt.lazy=function(I){return{$$typeof:p,_payload:{_status:-1,_result:I},_init:G}},Rt.memo=function(I,H){return{$$typeof:d,type:I,compare:H===void 0?null:H}},Rt.startTransition=function(I){var H=j.transition;j.transition={};try{I()}finally{j.transition=H}},Rt.unstable_act=Y,Rt.useCallback=function(I,H){return U.current.useCallback(I,H)},Rt.useContext=function(I){return U.current.useContext(I)},Rt.useDebugValue=function(){},Rt.useDeferredValue=function(I){return U.current.useDeferredValue(I)},Rt.useEffect=function(I,H){return U.current.useEffect(I,H)},Rt.useId=function(){return U.current.useId()},Rt.useImperativeHandle=function(I,H,J){return U.current.useImperativeHandle(I,H,J)},Rt.useInsertionEffect=function(I,H){return U.current.useInsertionEffect(I,H)},Rt.useLayoutEffect=function(I,H){return U.current.useLayoutEffect(I,H)},Rt.useMemo=function(I,H){return U.current.useMemo(I,H)},Rt.useReducer=function(I,H,J){return U.current.useReducer(I,H,J)},Rt.useRef=function(I){return U.current.useRef(I)},Rt.useState=function(I){return U.current.useState(I)},Rt.useSyncExternalStore=function(I,H,J){return U.current.useSyncExternalStore(I,H,J)},Rt.useTransition=function(){return U.current.useTransition()},Rt.version="18.3.1",Rt}var pm;function Ch(){return pm||(pm=1,gu.exports=ox()),gu.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mm;function ax(){if(mm)return Ur;mm=1;var s=Ch(),t=Symbol.for("react.element"),e=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,r=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(c,h,d){var p,m={},y=null,w=null;d!==void 0&&(y=""+d),h.key!==void 0&&(y=""+h.key),h.ref!==void 0&&(w=h.ref);for(p in h)n.call(h,p)&&!a.hasOwnProperty(p)&&(m[p]=h[p]);if(c&&c.defaultProps)for(p in h=c.defaultProps,h)m[p]===void 0&&(m[p]=h[p]);return{$$typeof:t,type:c,key:y,ref:w,props:m,_owner:r.current}}return Ur.Fragment=e,Ur.jsx=l,Ur.jsxs=l,Ur}var gm;function lx(){return gm||(gm=1,mu.exports=ax()),mu.exports}var F=lx(),Ha={},yu={exports:{}},$e={},vu={exports:{}},wu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ym;function cx(){return ym||(ym=1,(function(s){function t(j,tt){var Y=j.length;j.push(tt);t:for(;0<Y;){var I=Y-1>>>1,H=j[I];if(0<r(H,tt))j[I]=tt,j[Y]=H,Y=I;else break t}}function e(j){return j.length===0?null:j[0]}function n(j){if(j.length===0)return null;var tt=j[0],Y=j.pop();if(Y!==tt){j[0]=Y;t:for(var I=0,H=j.length,J=H>>>1;I<J;){var st=2*(I+1)-1,mt=j[st],wt=st+1,et=j[wt];if(0>r(mt,Y))wt<H&&0>r(et,mt)?(j[I]=et,j[wt]=Y,I=wt):(j[I]=mt,j[st]=Y,I=st);else if(wt<H&&0>r(et,Y))j[I]=et,j[wt]=Y,I=wt;else break t}}return tt}function r(j,tt){var Y=j.sortIndex-tt.sortIndex;return Y!==0?Y:j.id-tt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;s.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();s.unstable_now=function(){return l.now()-c}}var h=[],d=[],p=1,m=null,y=3,w=!1,b=!1,x=!1,S=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(j){for(var tt=e(d);tt!==null;){if(tt.callback===null)n(d);else if(tt.startTime<=j)n(d),tt.sortIndex=tt.expirationTime,t(h,tt);else break;tt=e(d)}}function P(j){if(x=!1,_(j),!b)if(e(h)!==null)b=!0,G(k);else{var tt=e(d);tt!==null&&U(P,tt.startTime-j)}}function k(j,tt){b=!1,x&&(x=!1,E(L),L=-1),w=!0;var Y=y;try{for(_(tt),m=e(h);m!==null&&(!(m.expirationTime>tt)||j&&!Z());){var I=m.callback;if(typeof I=="function"){m.callback=null,y=m.priorityLevel;var H=I(m.expirationTime<=tt);tt=s.unstable_now(),typeof H=="function"?m.callback=H:m===e(h)&&n(h),_(tt)}else n(h);m=e(h)}if(m!==null)var J=!0;else{var st=e(d);st!==null&&U(P,st.startTime-tt),J=!1}return J}finally{m=null,y=Y,w=!1}}var D=!1,N=null,L=-1,$=5,K=-1;function Z(){return!(s.unstable_now()-K<$)}function ft(){if(N!==null){var j=s.unstable_now();K=j;var tt=!0;try{tt=N(!0,j)}finally{tt?dt():(D=!1,N=null)}}else D=!1}var dt;if(typeof T=="function")dt=function(){T(ft)};else if(typeof MessageChannel<"u"){var nt=new MessageChannel,xt=nt.port2;nt.port1.onmessage=ft,dt=function(){xt.postMessage(null)}}else dt=function(){S(ft,0)};function G(j){N=j,D||(D=!0,dt())}function U(j,tt){L=S(function(){j(s.unstable_now())},tt)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(j){j.callback=null},s.unstable_continueExecution=function(){b||w||(b=!0,G(k))},s.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<j?Math.floor(1e3/j):5},s.unstable_getCurrentPriorityLevel=function(){return y},s.unstable_getFirstCallbackNode=function(){return e(h)},s.unstable_next=function(j){switch(y){case 1:case 2:case 3:var tt=3;break;default:tt=y}var Y=y;y=tt;try{return j()}finally{y=Y}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(j,tt){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var Y=y;y=j;try{return tt()}finally{y=Y}},s.unstable_scheduleCallback=function(j,tt,Y){var I=s.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?I+Y:I):Y=I,j){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=Y+H,j={id:p++,callback:tt,priorityLevel:j,startTime:Y,expirationTime:H,sortIndex:-1},Y>I?(j.sortIndex=Y,t(d,j),e(h)===null&&j===e(d)&&(x?(E(L),L=-1):x=!0,U(P,Y-I))):(j.sortIndex=H,t(h,j),b||w||(b=!0,G(k))),j},s.unstable_shouldYield=Z,s.unstable_wrapCallback=function(j){var tt=y;return function(){var Y=y;y=tt;try{return j.apply(this,arguments)}finally{y=Y}}}})(wu)),wu}var vm;function ux(){return vm||(vm=1,vu.exports=cx()),vu.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wm;function hx(){if(wm)return $e;wm=1;var s=Ch(),t=ux();function e(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,u=1;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,r={};function a(i,o){l(i,o),l(i+"Capture",o)}function l(i,o){for(r[i]=o,i=0;i<o.length;i++)n.add(o[i])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},m={};function y(i){return h.call(m,i)?!0:h.call(p,i)?!1:d.test(i)?m[i]=!0:(p[i]=!0,!1)}function w(i,o,u,f){if(u!==null&&u.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return f?!1:u!==null?!u.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function b(i,o,u,f){if(o===null||typeof o>"u"||w(i,o,u,f))return!0;if(f)return!1;if(u!==null)switch(u.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function x(i,o,u,f,g,v,A){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=f,this.attributeNamespace=g,this.mustUseProperty=u,this.propertyName=i,this.type=o,this.sanitizeURL=v,this.removeEmptyString=A}var S={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){S[i]=new x(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];S[o]=new x(o,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){S[i]=new x(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){S[i]=new x(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){S[i]=new x(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){S[i]=new x(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){S[i]=new x(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){S[i]=new x(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){S[i]=new x(i,5,!1,i.toLowerCase(),null,!1,!1)});var E=/[\-:]([a-z])/g;function T(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace(E,T);S[o]=new x(o,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace(E,T);S[o]=new x(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace(E,T);S[o]=new x(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){S[i]=new x(i,1,!1,i.toLowerCase(),null,!1,!1)}),S.xlinkHref=new x("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){S[i]=new x(i,1,!1,i.toLowerCase(),null,!0,!0)});function _(i,o,u,f){var g=S.hasOwnProperty(o)?S[o]:null;(g!==null?g.type!==0:f||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(b(o,u,g,f)&&(u=null),f||g===null?y(o)&&(u===null?i.removeAttribute(o):i.setAttribute(o,""+u)):g.mustUseProperty?i[g.propertyName]=u===null?g.type===3?!1:"":u:(o=g.attributeName,f=g.attributeNamespace,u===null?i.removeAttribute(o):(g=g.type,u=g===3||g===4&&u===!0?"":""+u,f?i.setAttributeNS(f,o,u):i.setAttribute(o,u))))}var P=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,k=Symbol.for("react.element"),D=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),K=Symbol.for("react.provider"),Z=Symbol.for("react.context"),ft=Symbol.for("react.forward_ref"),dt=Symbol.for("react.suspense"),nt=Symbol.for("react.suspense_list"),xt=Symbol.for("react.memo"),G=Symbol.for("react.lazy"),U=Symbol.for("react.offscreen"),j=Symbol.iterator;function tt(i){return i===null||typeof i!="object"?null:(i=j&&i[j]||i["@@iterator"],typeof i=="function"?i:null)}var Y=Object.assign,I;function H(i){if(I===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);I=o&&o[1]||""}return`
`+I+i}var J=!1;function st(i,o){if(!i||J)return"";J=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(B){var f=B}Reflect.construct(i,[],o)}else{try{o.call()}catch(B){f=B}i.call(o.prototype)}else{try{throw Error()}catch(B){f=B}i()}}catch(B){if(B&&f&&typeof B.stack=="string"){for(var g=B.stack.split(`
`),v=f.stack.split(`
`),A=g.length-1,C=v.length-1;1<=A&&0<=C&&g[A]!==v[C];)C--;for(;1<=A&&0<=C;A--,C--)if(g[A]!==v[C]){if(A!==1||C!==1)do if(A--,C--,0>C||g[A]!==v[C]){var R=`
`+g[A].replace(" at new "," at ");return i.displayName&&R.includes("<anonymous>")&&(R=R.replace("<anonymous>",i.displayName)),R}while(1<=A&&0<=C);break}}}finally{J=!1,Error.prepareStackTrace=u}return(i=i?i.displayName||i.name:"")?H(i):""}function mt(i){switch(i.tag){case 5:return H(i.type);case 16:return H("Lazy");case 13:return H("Suspense");case 19:return H("SuspenseList");case 0:case 2:case 15:return i=st(i.type,!1),i;case 11:return i=st(i.type.render,!1),i;case 1:return i=st(i.type,!0),i;default:return""}}function wt(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case N:return"Fragment";case D:return"Portal";case $:return"Profiler";case L:return"StrictMode";case dt:return"Suspense";case nt:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case Z:return(i.displayName||"Context")+".Consumer";case K:return(i._context.displayName||"Context")+".Provider";case ft:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case xt:return o=i.displayName||null,o!==null?o:wt(i.type)||"Memo";case G:o=i._payload,i=i._init;try{return wt(i(o))}catch{}}return null}function et(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return wt(o);case 8:return o===L?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Ct(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function kt(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Tt(i){var o=kt(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),f=""+i[o];if(!i.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,v=u.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return g.call(this)},set:function(A){f=""+A,v.call(this,A)}}),Object.defineProperty(i,o,{enumerable:u.enumerable}),{getValue:function(){return f},setValue:function(A){f=""+A},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function me(i){i._valueTracker||(i._valueTracker=Tt(i))}function Ae(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var u=o.getValue(),f="";return i&&(f=kt(i)?i.checked?"true":"false":i.value),i=f,i!==u?(o.setValue(i),!0):!1}function Lt(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function jt(i,o){var u=o.checked;return Y({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??i._wrapperState.initialChecked})}function Yt(i,o){var u=o.defaultValue==null?"":o.defaultValue,f=o.checked!=null?o.checked:o.defaultChecked;u=Ct(o.value!=null?o.value:u),i._wrapperState={initialChecked:f,initialValue:u,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Jt(i,o){o=o.checked,o!=null&&_(i,"checked",o,!1)}function kn(i,o){Jt(i,o);var u=Ct(o.value),f=o.type;if(u!=null)f==="number"?(u===0&&i.value===""||i.value!=u)&&(i.value=""+u):i.value!==""+u&&(i.value=""+u);else if(f==="submit"||f==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?Li(i,o.type,u):o.hasOwnProperty("defaultValue")&&Li(i,o.type,Ct(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function si(i,o,u){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var f=o.type;if(!(f!=="submit"&&f!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,u||o===i.value||(i.value=o),i.defaultValue=o}u=i.name,u!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,u!==""&&(i.name=u)}function Li(i,o,u){(o!=="number"||Lt(i.ownerDocument)!==i)&&(u==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+u&&(i.defaultValue=""+u))}var Ii=Array.isArray;function mn(i,o,u,f){if(i=i.options,o){o={};for(var g=0;g<u.length;g++)o["$"+u[g]]=!0;for(u=0;u<i.length;u++)g=o.hasOwnProperty("$"+i[u].value),i[u].selected!==g&&(i[u].selected=g),g&&f&&(i[u].defaultSelected=!0)}else{for(u=""+Ct(u),o=null,g=0;g<i.length;g++){if(i[g].value===u){i[g].selected=!0,f&&(i[g].defaultSelected=!0);return}o!==null||i[g].disabled||(o=i[g])}o!==null&&(o.selected=!0)}}function rr(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(e(91));return Y({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function Mo(i,o){var u=o.value;if(u==null){if(u=o.children,o=o.defaultValue,u!=null){if(o!=null)throw Error(e(92));if(Ii(u)){if(1<u.length)throw Error(e(93));u=u[0]}o=u}o==null&&(o=""),u=o}i._wrapperState={initialValue:Ct(u)}}function Lo(i,o){var u=Ct(o.value),f=Ct(o.defaultValue);u!=null&&(u=""+u,u!==i.value&&(i.value=u),o.defaultValue==null&&i.defaultValue!==u&&(i.defaultValue=u)),f!=null&&(i.defaultValue=""+f)}function Io(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function Do(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function en(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?Do(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var gn,yn=(function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,u,f,g){MSApp.execUnsafeLocalFunction(function(){return i(o,u,f,g)})}:i})(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for(gn=gn||document.createElement("div"),gn.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=gn.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function Un(i,o){if(o){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=o;return}}i.textContent=o}var or={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},uw=["Webkit","ms","Moz","O"];Object.keys(or).forEach(function(i){uw.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),or[o]=or[i]})});function Td(i,o,u){return o==null||typeof o=="boolean"||o===""?"":u||typeof o!="number"||o===0||or.hasOwnProperty(i)&&or[i]?(""+o).trim():o+"px"}function kd(i,o){i=i.style;for(var u in o)if(o.hasOwnProperty(u)){var f=u.indexOf("--")===0,g=Td(u,o[u],f);u==="float"&&(u="cssFloat"),f?i.setProperty(u,g):i[u]=g}}var hw=Y({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Tl(i,o){if(o){if(hw[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(e(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(e(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(e(61))}if(o.style!=null&&typeof o.style!="object")throw Error(e(62))}}function kl(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pl=null;function Rl(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Ml=null,us=null,hs=null;function Pd(i){if(i=kr(i)){if(typeof Ml!="function")throw Error(e(280));var o=i.stateNode;o&&(o=ia(o),Ml(i.stateNode,i.type,o))}}function Rd(i){us?hs?hs.push(i):hs=[i]:us=i}function Md(){if(us){var i=us,o=hs;if(hs=us=null,Pd(i),o)for(i=0;i<o.length;i++)Pd(o[i])}}function Ld(i,o){return i(o)}function Id(){}var Ll=!1;function Dd(i,o,u){if(Ll)return i(o,u);Ll=!0;try{return Ld(i,o,u)}finally{Ll=!1,(us!==null||hs!==null)&&(Id(),Md())}}function ar(i,o){var u=i.stateNode;if(u===null)return null;var f=ia(u);if(f===null)return null;u=f[o];t:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(i=i.type,f=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!f;break t;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(e(231,o,typeof u));return u}var Il=!1;if(c)try{var lr={};Object.defineProperty(lr,"passive",{get:function(){Il=!0}}),window.addEventListener("test",lr,lr),window.removeEventListener("test",lr,lr)}catch{Il=!1}function dw(i,o,u,f,g,v,A,C,R){var B=Array.prototype.slice.call(arguments,3);try{o.apply(u,B)}catch(X){this.onError(X)}}var cr=!1,No=null,Fo=!1,Dl=null,fw={onError:function(i){cr=!0,No=i}};function pw(i,o,u,f,g,v,A,C,R){cr=!1,No=null,dw.apply(fw,arguments)}function mw(i,o,u,f,g,v,A,C,R){if(pw.apply(this,arguments),cr){if(cr){var B=No;cr=!1,No=null}else throw Error(e(198));Fo||(Fo=!0,Dl=B)}}function Di(i){var o=i,u=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(u=o.return),i=o.return;while(i)}return o.tag===3?u:null}function Nd(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function Fd(i){if(Di(i)!==i)throw Error(e(188))}function gw(i){var o=i.alternate;if(!o){if(o=Di(i),o===null)throw Error(e(188));return o!==i?null:i}for(var u=i,f=o;;){var g=u.return;if(g===null)break;var v=g.alternate;if(v===null){if(f=g.return,f!==null){u=f;continue}break}if(g.child===v.child){for(v=g.child;v;){if(v===u)return Fd(g),i;if(v===f)return Fd(g),o;v=v.sibling}throw Error(e(188))}if(u.return!==f.return)u=g,f=v;else{for(var A=!1,C=g.child;C;){if(C===u){A=!0,u=g,f=v;break}if(C===f){A=!0,f=g,u=v;break}C=C.sibling}if(!A){for(C=v.child;C;){if(C===u){A=!0,u=v,f=g;break}if(C===f){A=!0,f=v,u=g;break}C=C.sibling}if(!A)throw Error(e(189))}}if(u.alternate!==f)throw Error(e(190))}if(u.tag!==3)throw Error(e(188));return u.stateNode.current===u?i:o}function Od(i){return i=gw(i),i!==null?jd(i):null}function jd(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=jd(i);if(o!==null)return o;i=i.sibling}return null}var Vd=t.unstable_scheduleCallback,Bd=t.unstable_cancelCallback,yw=t.unstable_shouldYield,vw=t.unstable_requestPaint,te=t.unstable_now,ww=t.unstable_getCurrentPriorityLevel,Nl=t.unstable_ImmediatePriority,zd=t.unstable_UserBlockingPriority,Oo=t.unstable_NormalPriority,bw=t.unstable_LowPriority,Hd=t.unstable_IdlePriority,jo=null,Pn=null;function xw(i){if(Pn&&typeof Pn.onCommitFiberRoot=="function")try{Pn.onCommitFiberRoot(jo,i,void 0,(i.current.flags&128)===128)}catch{}}var vn=Math.clz32?Math.clz32:Ew,Aw=Math.log,Sw=Math.LN2;function Ew(i){return i>>>=0,i===0?32:31-(Aw(i)/Sw|0)|0}var Vo=64,Bo=4194304;function ur(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function zo(i,o){var u=i.pendingLanes;if(u===0)return 0;var f=0,g=i.suspendedLanes,v=i.pingedLanes,A=u&268435455;if(A!==0){var C=A&~g;C!==0?f=ur(C):(v&=A,v!==0&&(f=ur(v)))}else A=u&~g,A!==0?f=ur(A):v!==0&&(f=ur(v));if(f===0)return 0;if(o!==0&&o!==f&&(o&g)===0&&(g=f&-f,v=o&-o,g>=v||g===16&&(v&4194240)!==0))return o;if((f&4)!==0&&(f|=u&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=f;0<o;)u=31-vn(o),g=1<<u,f|=i[u],o&=~g;return f}function _w(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cw(i,o){for(var u=i.suspendedLanes,f=i.pingedLanes,g=i.expirationTimes,v=i.pendingLanes;0<v;){var A=31-vn(v),C=1<<A,R=g[A];R===-1?((C&u)===0||(C&f)!==0)&&(g[A]=_w(C,o)):R<=o&&(i.expiredLanes|=C),v&=~C}}function Fl(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Ud(){var i=Vo;return Vo<<=1,(Vo&4194240)===0&&(Vo=64),i}function Ol(i){for(var o=[],u=0;31>u;u++)o.push(i);return o}function hr(i,o,u){i.pendingLanes|=o,o!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-vn(o),i[o]=u}function Tw(i,o){var u=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var f=i.eventTimes;for(i=i.expirationTimes;0<u;){var g=31-vn(u),v=1<<g;o[g]=0,f[g]=-1,i[g]=-1,u&=~v}}function jl(i,o){var u=i.entangledLanes|=o;for(i=i.entanglements;u;){var f=31-vn(u),g=1<<f;g&o|i[f]&o&&(i[f]|=o),u&=~g}}var Ft=0;function $d(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var Gd,Vl,Wd,Xd,Kd,Bl=!1,Ho=[],ri=null,oi=null,ai=null,dr=new Map,fr=new Map,li=[],kw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function qd(i,o){switch(i){case"focusin":case"focusout":ri=null;break;case"dragenter":case"dragleave":oi=null;break;case"mouseover":case"mouseout":ai=null;break;case"pointerover":case"pointerout":dr.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":fr.delete(o.pointerId)}}function pr(i,o,u,f,g,v){return i===null||i.nativeEvent!==v?(i={blockedOn:o,domEventName:u,eventSystemFlags:f,nativeEvent:v,targetContainers:[g]},o!==null&&(o=kr(o),o!==null&&Vl(o)),i):(i.eventSystemFlags|=f,o=i.targetContainers,g!==null&&o.indexOf(g)===-1&&o.push(g),i)}function Pw(i,o,u,f,g){switch(o){case"focusin":return ri=pr(ri,i,o,u,f,g),!0;case"dragenter":return oi=pr(oi,i,o,u,f,g),!0;case"mouseover":return ai=pr(ai,i,o,u,f,g),!0;case"pointerover":var v=g.pointerId;return dr.set(v,pr(dr.get(v)||null,i,o,u,f,g)),!0;case"gotpointercapture":return v=g.pointerId,fr.set(v,pr(fr.get(v)||null,i,o,u,f,g)),!0}return!1}function Yd(i){var o=Ni(i.target);if(o!==null){var u=Di(o);if(u!==null){if(o=u.tag,o===13){if(o=Nd(u),o!==null){i.blockedOn=o,Kd(i.priority,function(){Wd(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Uo(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var u=Hl(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(u===null){u=i.nativeEvent;var f=new u.constructor(u.type,u);Pl=f,u.target.dispatchEvent(f),Pl=null}else return o=kr(u),o!==null&&Vl(o),i.blockedOn=u,!1;o.shift()}return!0}function Qd(i,o,u){Uo(i)&&u.delete(o)}function Rw(){Bl=!1,ri!==null&&Uo(ri)&&(ri=null),oi!==null&&Uo(oi)&&(oi=null),ai!==null&&Uo(ai)&&(ai=null),dr.forEach(Qd),fr.forEach(Qd)}function mr(i,o){i.blockedOn===o&&(i.blockedOn=null,Bl||(Bl=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Rw)))}function gr(i){function o(g){return mr(g,i)}if(0<Ho.length){mr(Ho[0],i);for(var u=1;u<Ho.length;u++){var f=Ho[u];f.blockedOn===i&&(f.blockedOn=null)}}for(ri!==null&&mr(ri,i),oi!==null&&mr(oi,i),ai!==null&&mr(ai,i),dr.forEach(o),fr.forEach(o),u=0;u<li.length;u++)f=li[u],f.blockedOn===i&&(f.blockedOn=null);for(;0<li.length&&(u=li[0],u.blockedOn===null);)Yd(u),u.blockedOn===null&&li.shift()}var ds=P.ReactCurrentBatchConfig,$o=!0;function Mw(i,o,u,f){var g=Ft,v=ds.transition;ds.transition=null;try{Ft=1,zl(i,o,u,f)}finally{Ft=g,ds.transition=v}}function Lw(i,o,u,f){var g=Ft,v=ds.transition;ds.transition=null;try{Ft=4,zl(i,o,u,f)}finally{Ft=g,ds.transition=v}}function zl(i,o,u,f){if($o){var g=Hl(i,o,u,f);if(g===null)rc(i,o,f,Go,u),qd(i,f);else if(Pw(g,i,o,u,f))f.stopPropagation();else if(qd(i,f),o&4&&-1<kw.indexOf(i)){for(;g!==null;){var v=kr(g);if(v!==null&&Gd(v),v=Hl(i,o,u,f),v===null&&rc(i,o,f,Go,u),v===g)break;g=v}g!==null&&f.stopPropagation()}else rc(i,o,f,null,u)}}var Go=null;function Hl(i,o,u,f){if(Go=null,i=Rl(f),i=Ni(i),i!==null)if(o=Di(i),o===null)i=null;else if(u=o.tag,u===13){if(i=Nd(o),i!==null)return i;i=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return Go=i,null}function Zd(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ww()){case Nl:return 1;case zd:return 4;case Oo:case bw:return 16;case Hd:return 536870912;default:return 16}default:return 16}}var ci=null,Ul=null,Wo=null;function Jd(){if(Wo)return Wo;var i,o=Ul,u=o.length,f,g="value"in ci?ci.value:ci.textContent,v=g.length;for(i=0;i<u&&o[i]===g[i];i++);var A=u-i;for(f=1;f<=A&&o[u-f]===g[v-f];f++);return Wo=g.slice(i,1<f?1-f:void 0)}function Xo(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function Ko(){return!0}function tf(){return!1}function Ke(i){function o(u,f,g,v,A){this._reactName=u,this._targetInst=g,this.type=f,this.nativeEvent=v,this.target=A,this.currentTarget=null;for(var C in i)i.hasOwnProperty(C)&&(u=i[C],this[C]=u?u(v):v[C]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Ko:tf,this.isPropagationStopped=tf,this}return Y(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Ko)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Ko)},persist:function(){},isPersistent:Ko}),o}var fs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$l=Ke(fs),yr=Y({},fs,{view:0,detail:0}),Iw=Ke(yr),Gl,Wl,vr,qo=Y({},yr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Kl,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==vr&&(vr&&i.type==="mousemove"?(Gl=i.screenX-vr.screenX,Wl=i.screenY-vr.screenY):Wl=Gl=0,vr=i),Gl)},movementY:function(i){return"movementY"in i?i.movementY:Wl}}),ef=Ke(qo),Dw=Y({},qo,{dataTransfer:0}),Nw=Ke(Dw),Fw=Y({},yr,{relatedTarget:0}),Xl=Ke(Fw),Ow=Y({},fs,{animationName:0,elapsedTime:0,pseudoElement:0}),jw=Ke(Ow),Vw=Y({},fs,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Bw=Ke(Vw),zw=Y({},fs,{data:0}),nf=Ke(zw),Hw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Uw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$w={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Gw(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=$w[i])?!!o[i]:!1}function Kl(){return Gw}var Ww=Y({},yr,{key:function(i){if(i.key){var o=Hw[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=Xo(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Uw[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Kl,charCode:function(i){return i.type==="keypress"?Xo(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Xo(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Xw=Ke(Ww),Kw=Y({},qo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sf=Ke(Kw),qw=Y({},yr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Kl}),Yw=Ke(qw),Qw=Y({},fs,{propertyName:0,elapsedTime:0,pseudoElement:0}),Zw=Ke(Qw),Jw=Y({},qo,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),tb=Ke(Jw),eb=[9,13,27,32],ql=c&&"CompositionEvent"in window,wr=null;c&&"documentMode"in document&&(wr=document.documentMode);var nb=c&&"TextEvent"in window&&!wr,rf=c&&(!ql||wr&&8<wr&&11>=wr),of=" ",af=!1;function lf(i,o){switch(i){case"keyup":return eb.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cf(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ps=!1;function ib(i,o){switch(i){case"compositionend":return cf(o);case"keypress":return o.which!==32?null:(af=!0,of);case"textInput":return i=o.data,i===of&&af?null:i;default:return null}}function sb(i,o){if(ps)return i==="compositionend"||!ql&&lf(i,o)?(i=Jd(),Wo=Ul=ci=null,ps=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return rf&&o.locale!=="ko"?null:o.data;default:return null}}var rb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function uf(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!rb[i.type]:o==="textarea"}function hf(i,o,u,f){Rd(f),o=ta(o,"onChange"),0<o.length&&(u=new $l("onChange","change",null,u,f),i.push({event:u,listeners:o}))}var br=null,xr=null;function ob(i){Pf(i,0)}function Yo(i){var o=ws(i);if(Ae(o))return i}function ab(i,o){if(i==="change")return o}var df=!1;if(c){var Yl;if(c){var Ql="oninput"in document;if(!Ql){var ff=document.createElement("div");ff.setAttribute("oninput","return;"),Ql=typeof ff.oninput=="function"}Yl=Ql}else Yl=!1;df=Yl&&(!document.documentMode||9<document.documentMode)}function pf(){br&&(br.detachEvent("onpropertychange",mf),xr=br=null)}function mf(i){if(i.propertyName==="value"&&Yo(xr)){var o=[];hf(o,xr,i,Rl(i)),Dd(ob,o)}}function lb(i,o,u){i==="focusin"?(pf(),br=o,xr=u,br.attachEvent("onpropertychange",mf)):i==="focusout"&&pf()}function cb(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Yo(xr)}function ub(i,o){if(i==="click")return Yo(o)}function hb(i,o){if(i==="input"||i==="change")return Yo(o)}function db(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var wn=typeof Object.is=="function"?Object.is:db;function Ar(i,o){if(wn(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var u=Object.keys(i),f=Object.keys(o);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var g=u[f];if(!h.call(o,g)||!wn(i[g],o[g]))return!1}return!0}function gf(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function yf(i,o){var u=gf(i);i=0;for(var f;u;){if(u.nodeType===3){if(f=i+u.textContent.length,i<=o&&f>=o)return{node:u,offset:o-i};i=f}t:{for(;u;){if(u.nextSibling){u=u.nextSibling;break t}u=u.parentNode}u=void 0}u=gf(u)}}function vf(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?vf(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function wf(){for(var i=window,o=Lt();o instanceof i.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)i=o.contentWindow;else break;o=Lt(i.document)}return o}function Zl(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function fb(i){var o=wf(),u=i.focusedElem,f=i.selectionRange;if(o!==u&&u&&u.ownerDocument&&vf(u.ownerDocument.documentElement,u)){if(f!==null&&Zl(u)){if(o=f.start,i=f.end,i===void 0&&(i=o),"selectionStart"in u)u.selectionStart=o,u.selectionEnd=Math.min(i,u.value.length);else if(i=(o=u.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var g=u.textContent.length,v=Math.min(f.start,g);f=f.end===void 0?v:Math.min(f.end,g),!i.extend&&v>f&&(g=f,f=v,v=g),g=yf(u,v);var A=yf(u,f);g&&A&&(i.rangeCount!==1||i.anchorNode!==g.node||i.anchorOffset!==g.offset||i.focusNode!==A.node||i.focusOffset!==A.offset)&&(o=o.createRange(),o.setStart(g.node,g.offset),i.removeAllRanges(),v>f?(i.addRange(o),i.extend(A.node,A.offset)):(o.setEnd(A.node,A.offset),i.addRange(o)))}}for(o=[],i=u;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<o.length;u++)i=o[u],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var pb=c&&"documentMode"in document&&11>=document.documentMode,ms=null,Jl=null,Sr=null,tc=!1;function bf(i,o,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;tc||ms==null||ms!==Lt(f)||(f=ms,"selectionStart"in f&&Zl(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Sr&&Ar(Sr,f)||(Sr=f,f=ta(Jl,"onSelect"),0<f.length&&(o=new $l("onSelect","select",null,o,u),i.push({event:o,listeners:f}),o.target=ms)))}function Qo(i,o){var u={};return u[i.toLowerCase()]=o.toLowerCase(),u["Webkit"+i]="webkit"+o,u["Moz"+i]="moz"+o,u}var gs={animationend:Qo("Animation","AnimationEnd"),animationiteration:Qo("Animation","AnimationIteration"),animationstart:Qo("Animation","AnimationStart"),transitionend:Qo("Transition","TransitionEnd")},ec={},xf={};c&&(xf=document.createElement("div").style,"AnimationEvent"in window||(delete gs.animationend.animation,delete gs.animationiteration.animation,delete gs.animationstart.animation),"TransitionEvent"in window||delete gs.transitionend.transition);function Zo(i){if(ec[i])return ec[i];if(!gs[i])return i;var o=gs[i],u;for(u in o)if(o.hasOwnProperty(u)&&u in xf)return ec[i]=o[u];return i}var Af=Zo("animationend"),Sf=Zo("animationiteration"),Ef=Zo("animationstart"),_f=Zo("transitionend"),Cf=new Map,Tf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ui(i,o){Cf.set(i,o),a(o,[i])}for(var nc=0;nc<Tf.length;nc++){var ic=Tf[nc],mb=ic.toLowerCase(),gb=ic[0].toUpperCase()+ic.slice(1);ui(mb,"on"+gb)}ui(Af,"onAnimationEnd"),ui(Sf,"onAnimationIteration"),ui(Ef,"onAnimationStart"),ui("dblclick","onDoubleClick"),ui("focusin","onFocus"),ui("focusout","onBlur"),ui(_f,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Er="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yb=new Set("cancel close invalid load scroll toggle".split(" ").concat(Er));function kf(i,o,u){var f=i.type||"unknown-event";i.currentTarget=u,mw(f,o,void 0,i),i.currentTarget=null}function Pf(i,o){o=(o&4)!==0;for(var u=0;u<i.length;u++){var f=i[u],g=f.event;f=f.listeners;t:{var v=void 0;if(o)for(var A=f.length-1;0<=A;A--){var C=f[A],R=C.instance,B=C.currentTarget;if(C=C.listener,R!==v&&g.isPropagationStopped())break t;kf(g,C,B),v=R}else for(A=0;A<f.length;A++){if(C=f[A],R=C.instance,B=C.currentTarget,C=C.listener,R!==v&&g.isPropagationStopped())break t;kf(g,C,B),v=R}}}if(Fo)throw i=Dl,Fo=!1,Dl=null,i}function Ht(i,o){var u=o[hc];u===void 0&&(u=o[hc]=new Set);var f=i+"__bubble";u.has(f)||(Rf(o,i,2,!1),u.add(f))}function sc(i,o,u){var f=0;o&&(f|=4),Rf(u,i,f,o)}var Jo="_reactListening"+Math.random().toString(36).slice(2);function _r(i){if(!i[Jo]){i[Jo]=!0,n.forEach(function(u){u!=="selectionchange"&&(yb.has(u)||sc(u,!1,i),sc(u,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[Jo]||(o[Jo]=!0,sc("selectionchange",!1,o))}}function Rf(i,o,u,f){switch(Zd(o)){case 1:var g=Mw;break;case 4:g=Lw;break;default:g=zl}u=g.bind(null,o,u,i),g=void 0,!Il||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(g=!0),f?g!==void 0?i.addEventListener(o,u,{capture:!0,passive:g}):i.addEventListener(o,u,!0):g!==void 0?i.addEventListener(o,u,{passive:g}):i.addEventListener(o,u,!1)}function rc(i,o,u,f,g){var v=f;if((o&1)===0&&(o&2)===0&&f!==null)t:for(;;){if(f===null)return;var A=f.tag;if(A===3||A===4){var C=f.stateNode.containerInfo;if(C===g||C.nodeType===8&&C.parentNode===g)break;if(A===4)for(A=f.return;A!==null;){var R=A.tag;if((R===3||R===4)&&(R=A.stateNode.containerInfo,R===g||R.nodeType===8&&R.parentNode===g))return;A=A.return}for(;C!==null;){if(A=Ni(C),A===null)return;if(R=A.tag,R===5||R===6){f=v=A;continue t}C=C.parentNode}}f=f.return}Dd(function(){var B=v,X=Rl(u),q=[];t:{var W=Cf.get(i);if(W!==void 0){var it=$l,at=i;switch(i){case"keypress":if(Xo(u)===0)break t;case"keydown":case"keyup":it=Xw;break;case"focusin":at="focus",it=Xl;break;case"focusout":at="blur",it=Xl;break;case"beforeblur":case"afterblur":it=Xl;break;case"click":if(u.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":it=ef;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":it=Nw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":it=Yw;break;case Af:case Sf:case Ef:it=jw;break;case _f:it=Zw;break;case"scroll":it=Iw;break;case"wheel":it=tb;break;case"copy":case"cut":case"paste":it=Bw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":it=sf}var ut=(o&4)!==0,ee=!ut&&i==="scroll",O=ut?W!==null?W+"Capture":null:W;ut=[];for(var M=B,V;M!==null;){V=M;var Q=V.stateNode;if(V.tag===5&&Q!==null&&(V=Q,O!==null&&(Q=ar(M,O),Q!=null&&ut.push(Cr(M,Q,V)))),ee)break;M=M.return}0<ut.length&&(W=new it(W,at,null,u,X),q.push({event:W,listeners:ut}))}}if((o&7)===0){t:{if(W=i==="mouseover"||i==="pointerover",it=i==="mouseout"||i==="pointerout",W&&u!==Pl&&(at=u.relatedTarget||u.fromElement)&&(Ni(at)||at[$n]))break t;if((it||W)&&(W=X.window===X?X:(W=X.ownerDocument)?W.defaultView||W.parentWindow:window,it?(at=u.relatedTarget||u.toElement,it=B,at=at?Ni(at):null,at!==null&&(ee=Di(at),at!==ee||at.tag!==5&&at.tag!==6)&&(at=null)):(it=null,at=B),it!==at)){if(ut=ef,Q="onMouseLeave",O="onMouseEnter",M="mouse",(i==="pointerout"||i==="pointerover")&&(ut=sf,Q="onPointerLeave",O="onPointerEnter",M="pointer"),ee=it==null?W:ws(it),V=at==null?W:ws(at),W=new ut(Q,M+"leave",it,u,X),W.target=ee,W.relatedTarget=V,Q=null,Ni(X)===B&&(ut=new ut(O,M+"enter",at,u,X),ut.target=V,ut.relatedTarget=ee,Q=ut),ee=Q,it&&at)e:{for(ut=it,O=at,M=0,V=ut;V;V=ys(V))M++;for(V=0,Q=O;Q;Q=ys(Q))V++;for(;0<M-V;)ut=ys(ut),M--;for(;0<V-M;)O=ys(O),V--;for(;M--;){if(ut===O||O!==null&&ut===O.alternate)break e;ut=ys(ut),O=ys(O)}ut=null}else ut=null;it!==null&&Mf(q,W,it,ut,!1),at!==null&&ee!==null&&Mf(q,ee,at,ut,!0)}}t:{if(W=B?ws(B):window,it=W.nodeName&&W.nodeName.toLowerCase(),it==="select"||it==="input"&&W.type==="file")var ht=ab;else if(uf(W))if(df)ht=hb;else{ht=cb;var gt=lb}else(it=W.nodeName)&&it.toLowerCase()==="input"&&(W.type==="checkbox"||W.type==="radio")&&(ht=ub);if(ht&&(ht=ht(i,B))){hf(q,ht,u,X);break t}gt&&gt(i,W,B),i==="focusout"&&(gt=W._wrapperState)&&gt.controlled&&W.type==="number"&&Li(W,"number",W.value)}switch(gt=B?ws(B):window,i){case"focusin":(uf(gt)||gt.contentEditable==="true")&&(ms=gt,Jl=B,Sr=null);break;case"focusout":Sr=Jl=ms=null;break;case"mousedown":tc=!0;break;case"contextmenu":case"mouseup":case"dragend":tc=!1,bf(q,u,X);break;case"selectionchange":if(pb)break;case"keydown":case"keyup":bf(q,u,X)}var yt;if(ql)t:{switch(i){case"compositionstart":var St="onCompositionStart";break t;case"compositionend":St="onCompositionEnd";break t;case"compositionupdate":St="onCompositionUpdate";break t}St=void 0}else ps?lf(i,u)&&(St="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(St="onCompositionStart");St&&(rf&&u.locale!=="ko"&&(ps||St!=="onCompositionStart"?St==="onCompositionEnd"&&ps&&(yt=Jd()):(ci=X,Ul="value"in ci?ci.value:ci.textContent,ps=!0)),gt=ta(B,St),0<gt.length&&(St=new nf(St,i,null,u,X),q.push({event:St,listeners:gt}),yt?St.data=yt:(yt=cf(u),yt!==null&&(St.data=yt)))),(yt=nb?ib(i,u):sb(i,u))&&(B=ta(B,"onBeforeInput"),0<B.length&&(X=new nf("onBeforeInput","beforeinput",null,u,X),q.push({event:X,listeners:B}),X.data=yt))}Pf(q,o)})}function Cr(i,o,u){return{instance:i,listener:o,currentTarget:u}}function ta(i,o){for(var u=o+"Capture",f=[];i!==null;){var g=i,v=g.stateNode;g.tag===5&&v!==null&&(g=v,v=ar(i,u),v!=null&&f.unshift(Cr(i,v,g)),v=ar(i,o),v!=null&&f.push(Cr(i,v,g))),i=i.return}return f}function ys(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function Mf(i,o,u,f,g){for(var v=o._reactName,A=[];u!==null&&u!==f;){var C=u,R=C.alternate,B=C.stateNode;if(R!==null&&R===f)break;C.tag===5&&B!==null&&(C=B,g?(R=ar(u,v),R!=null&&A.unshift(Cr(u,R,C))):g||(R=ar(u,v),R!=null&&A.push(Cr(u,R,C)))),u=u.return}A.length!==0&&i.push({event:o,listeners:A})}var vb=/\r\n?/g,wb=/\u0000|\uFFFD/g;function Lf(i){return(typeof i=="string"?i:""+i).replace(vb,`
`).replace(wb,"")}function ea(i,o,u){if(o=Lf(o),Lf(i)!==o&&u)throw Error(e(425))}function na(){}var oc=null,ac=null;function lc(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var cc=typeof setTimeout=="function"?setTimeout:void 0,bb=typeof clearTimeout=="function"?clearTimeout:void 0,If=typeof Promise=="function"?Promise:void 0,xb=typeof queueMicrotask=="function"?queueMicrotask:typeof If<"u"?function(i){return If.resolve(null).then(i).catch(Ab)}:cc;function Ab(i){setTimeout(function(){throw i})}function uc(i,o){var u=o,f=0;do{var g=u.nextSibling;if(i.removeChild(u),g&&g.nodeType===8)if(u=g.data,u==="/$"){if(f===0){i.removeChild(g),gr(o);return}f--}else u!=="$"&&u!=="$?"&&u!=="$!"||f++;u=g}while(u);gr(o)}function hi(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function Df(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return i;o--}else u==="/$"&&o++}i=i.previousSibling}return null}var vs=Math.random().toString(36).slice(2),Rn="__reactFiber$"+vs,Tr="__reactProps$"+vs,$n="__reactContainer$"+vs,hc="__reactEvents$"+vs,Sb="__reactListeners$"+vs,Eb="__reactHandles$"+vs;function Ni(i){var o=i[Rn];if(o)return o;for(var u=i.parentNode;u;){if(o=u[$n]||u[Rn]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(i=Df(i);i!==null;){if(u=i[Rn])return u;i=Df(i)}return o}i=u,u=i.parentNode}return null}function kr(i){return i=i[Rn]||i[$n],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function ws(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(e(33))}function ia(i){return i[Tr]||null}var dc=[],bs=-1;function di(i){return{current:i}}function Ut(i){0>bs||(i.current=dc[bs],dc[bs]=null,bs--)}function zt(i,o){bs++,dc[bs]=i.current,i.current=o}var fi={},Te=di(fi),Ve=di(!1),Fi=fi;function xs(i,o){var u=i.type.contextTypes;if(!u)return fi;var f=i.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===o)return f.__reactInternalMemoizedMaskedChildContext;var g={},v;for(v in u)g[v]=o[v];return f&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=g),g}function Be(i){return i=i.childContextTypes,i!=null}function sa(){Ut(Ve),Ut(Te)}function Nf(i,o,u){if(Te.current!==fi)throw Error(e(168));zt(Te,o),zt(Ve,u)}function Ff(i,o,u){var f=i.stateNode;if(o=o.childContextTypes,typeof f.getChildContext!="function")return u;f=f.getChildContext();for(var g in f)if(!(g in o))throw Error(e(108,et(i)||"Unknown",g));return Y({},u,f)}function ra(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||fi,Fi=Te.current,zt(Te,i),zt(Ve,Ve.current),!0}function Of(i,o,u){var f=i.stateNode;if(!f)throw Error(e(169));u?(i=Ff(i,o,Fi),f.__reactInternalMemoizedMergedChildContext=i,Ut(Ve),Ut(Te),zt(Te,i)):Ut(Ve),zt(Ve,u)}var Gn=null,oa=!1,fc=!1;function jf(i){Gn===null?Gn=[i]:Gn.push(i)}function _b(i){oa=!0,jf(i)}function pi(){if(!fc&&Gn!==null){fc=!0;var i=0,o=Ft;try{var u=Gn;for(Ft=1;i<u.length;i++){var f=u[i];do f=f(!0);while(f!==null)}Gn=null,oa=!1}catch(g){throw Gn!==null&&(Gn=Gn.slice(i+1)),Vd(Nl,pi),g}finally{Ft=o,fc=!1}}return null}var As=[],Ss=0,aa=null,la=0,nn=[],sn=0,Oi=null,Wn=1,Xn="";function ji(i,o){As[Ss++]=la,As[Ss++]=aa,aa=i,la=o}function Vf(i,o,u){nn[sn++]=Wn,nn[sn++]=Xn,nn[sn++]=Oi,Oi=i;var f=Wn;i=Xn;var g=32-vn(f)-1;f&=~(1<<g),u+=1;var v=32-vn(o)+g;if(30<v){var A=g-g%5;v=(f&(1<<A)-1).toString(32),f>>=A,g-=A,Wn=1<<32-vn(o)+g|u<<g|f,Xn=v+i}else Wn=1<<v|u<<g|f,Xn=i}function pc(i){i.return!==null&&(ji(i,1),Vf(i,1,0))}function mc(i){for(;i===aa;)aa=As[--Ss],As[Ss]=null,la=As[--Ss],As[Ss]=null;for(;i===Oi;)Oi=nn[--sn],nn[sn]=null,Xn=nn[--sn],nn[sn]=null,Wn=nn[--sn],nn[sn]=null}var qe=null,Ye=null,$t=!1,bn=null;function Bf(i,o){var u=ln(5,null,null,0);u.elementType="DELETED",u.stateNode=o,u.return=i,o=i.deletions,o===null?(i.deletions=[u],i.flags|=16):o.push(u)}function zf(i,o){switch(i.tag){case 5:var u=i.type;return o=o.nodeType!==1||u.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,qe=i,Ye=hi(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,qe=i,Ye=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(u=Oi!==null?{id:Wn,overflow:Xn}:null,i.memoizedState={dehydrated:o,treeContext:u,retryLane:1073741824},u=ln(18,null,null,0),u.stateNode=o,u.return=i,i.child=u,qe=i,Ye=null,!0):!1;default:return!1}}function gc(i){return(i.mode&1)!==0&&(i.flags&128)===0}function yc(i){if($t){var o=Ye;if(o){var u=o;if(!zf(i,o)){if(gc(i))throw Error(e(418));o=hi(u.nextSibling);var f=qe;o&&zf(i,o)?Bf(f,u):(i.flags=i.flags&-4097|2,$t=!1,qe=i)}}else{if(gc(i))throw Error(e(418));i.flags=i.flags&-4097|2,$t=!1,qe=i}}}function Hf(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;qe=i}function ca(i){if(i!==qe)return!1;if(!$t)return Hf(i),$t=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!lc(i.type,i.memoizedProps)),o&&(o=Ye)){if(gc(i))throw Uf(),Error(e(418));for(;o;)Bf(i,o),o=hi(o.nextSibling)}if(Hf(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(e(317));t:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"){if(o===0){Ye=hi(i.nextSibling);break t}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++}i=i.nextSibling}Ye=null}}else Ye=qe?hi(i.stateNode.nextSibling):null;return!0}function Uf(){for(var i=Ye;i;)i=hi(i.nextSibling)}function Es(){Ye=qe=null,$t=!1}function vc(i){bn===null?bn=[i]:bn.push(i)}var Cb=P.ReactCurrentBatchConfig;function Pr(i,o,u){if(i=u.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(e(309));var f=u.stateNode}if(!f)throw Error(e(147,i));var g=f,v=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===v?o.ref:(o=function(A){var C=g.refs;A===null?delete C[v]:C[v]=A},o._stringRef=v,o)}if(typeof i!="string")throw Error(e(284));if(!u._owner)throw Error(e(290,i))}return i}function ua(i,o){throw i=Object.prototype.toString.call(o),Error(e(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function $f(i){var o=i._init;return o(i._payload)}function Gf(i){function o(O,M){if(i){var V=O.deletions;V===null?(O.deletions=[M],O.flags|=16):V.push(M)}}function u(O,M){if(!i)return null;for(;M!==null;)o(O,M),M=M.sibling;return null}function f(O,M){for(O=new Map;M!==null;)M.key!==null?O.set(M.key,M):O.set(M.index,M),M=M.sibling;return O}function g(O,M){return O=Ai(O,M),O.index=0,O.sibling=null,O}function v(O,M,V){return O.index=V,i?(V=O.alternate,V!==null?(V=V.index,V<M?(O.flags|=2,M):V):(O.flags|=2,M)):(O.flags|=1048576,M)}function A(O){return i&&O.alternate===null&&(O.flags|=2),O}function C(O,M,V,Q){return M===null||M.tag!==6?(M=cu(V,O.mode,Q),M.return=O,M):(M=g(M,V),M.return=O,M)}function R(O,M,V,Q){var ht=V.type;return ht===N?X(O,M,V.props.children,Q,V.key):M!==null&&(M.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===G&&$f(ht)===M.type)?(Q=g(M,V.props),Q.ref=Pr(O,M,V),Q.return=O,Q):(Q=Da(V.type,V.key,V.props,null,O.mode,Q),Q.ref=Pr(O,M,V),Q.return=O,Q)}function B(O,M,V,Q){return M===null||M.tag!==4||M.stateNode.containerInfo!==V.containerInfo||M.stateNode.implementation!==V.implementation?(M=uu(V,O.mode,Q),M.return=O,M):(M=g(M,V.children||[]),M.return=O,M)}function X(O,M,V,Q,ht){return M===null||M.tag!==7?(M=Wi(V,O.mode,Q,ht),M.return=O,M):(M=g(M,V),M.return=O,M)}function q(O,M,V){if(typeof M=="string"&&M!==""||typeof M=="number")return M=cu(""+M,O.mode,V),M.return=O,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case k:return V=Da(M.type,M.key,M.props,null,O.mode,V),V.ref=Pr(O,null,M),V.return=O,V;case D:return M=uu(M,O.mode,V),M.return=O,M;case G:var Q=M._init;return q(O,Q(M._payload),V)}if(Ii(M)||tt(M))return M=Wi(M,O.mode,V,null),M.return=O,M;ua(O,M)}return null}function W(O,M,V,Q){var ht=M!==null?M.key:null;if(typeof V=="string"&&V!==""||typeof V=="number")return ht!==null?null:C(O,M,""+V,Q);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case k:return V.key===ht?R(O,M,V,Q):null;case D:return V.key===ht?B(O,M,V,Q):null;case G:return ht=V._init,W(O,M,ht(V._payload),Q)}if(Ii(V)||tt(V))return ht!==null?null:X(O,M,V,Q,null);ua(O,V)}return null}function it(O,M,V,Q,ht){if(typeof Q=="string"&&Q!==""||typeof Q=="number")return O=O.get(V)||null,C(M,O,""+Q,ht);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case k:return O=O.get(Q.key===null?V:Q.key)||null,R(M,O,Q,ht);case D:return O=O.get(Q.key===null?V:Q.key)||null,B(M,O,Q,ht);case G:var gt=Q._init;return it(O,M,V,gt(Q._payload),ht)}if(Ii(Q)||tt(Q))return O=O.get(V)||null,X(M,O,Q,ht,null);ua(M,Q)}return null}function at(O,M,V,Q){for(var ht=null,gt=null,yt=M,St=M=0,ve=null;yt!==null&&St<V.length;St++){yt.index>St?(ve=yt,yt=null):ve=yt.sibling;var Nt=W(O,yt,V[St],Q);if(Nt===null){yt===null&&(yt=ve);break}i&&yt&&Nt.alternate===null&&o(O,yt),M=v(Nt,M,St),gt===null?ht=Nt:gt.sibling=Nt,gt=Nt,yt=ve}if(St===V.length)return u(O,yt),$t&&ji(O,St),ht;if(yt===null){for(;St<V.length;St++)yt=q(O,V[St],Q),yt!==null&&(M=v(yt,M,St),gt===null?ht=yt:gt.sibling=yt,gt=yt);return $t&&ji(O,St),ht}for(yt=f(O,yt);St<V.length;St++)ve=it(yt,O,St,V[St],Q),ve!==null&&(i&&ve.alternate!==null&&yt.delete(ve.key===null?St:ve.key),M=v(ve,M,St),gt===null?ht=ve:gt.sibling=ve,gt=ve);return i&&yt.forEach(function(Si){return o(O,Si)}),$t&&ji(O,St),ht}function ut(O,M,V,Q){var ht=tt(V);if(typeof ht!="function")throw Error(e(150));if(V=ht.call(V),V==null)throw Error(e(151));for(var gt=ht=null,yt=M,St=M=0,ve=null,Nt=V.next();yt!==null&&!Nt.done;St++,Nt=V.next()){yt.index>St?(ve=yt,yt=null):ve=yt.sibling;var Si=W(O,yt,Nt.value,Q);if(Si===null){yt===null&&(yt=ve);break}i&&yt&&Si.alternate===null&&o(O,yt),M=v(Si,M,St),gt===null?ht=Si:gt.sibling=Si,gt=Si,yt=ve}if(Nt.done)return u(O,yt),$t&&ji(O,St),ht;if(yt===null){for(;!Nt.done;St++,Nt=V.next())Nt=q(O,Nt.value,Q),Nt!==null&&(M=v(Nt,M,St),gt===null?ht=Nt:gt.sibling=Nt,gt=Nt);return $t&&ji(O,St),ht}for(yt=f(O,yt);!Nt.done;St++,Nt=V.next())Nt=it(yt,O,St,Nt.value,Q),Nt!==null&&(i&&Nt.alternate!==null&&yt.delete(Nt.key===null?St:Nt.key),M=v(Nt,M,St),gt===null?ht=Nt:gt.sibling=Nt,gt=Nt);return i&&yt.forEach(function(rx){return o(O,rx)}),$t&&ji(O,St),ht}function ee(O,M,V,Q){if(typeof V=="object"&&V!==null&&V.type===N&&V.key===null&&(V=V.props.children),typeof V=="object"&&V!==null){switch(V.$$typeof){case k:t:{for(var ht=V.key,gt=M;gt!==null;){if(gt.key===ht){if(ht=V.type,ht===N){if(gt.tag===7){u(O,gt.sibling),M=g(gt,V.props.children),M.return=O,O=M;break t}}else if(gt.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===G&&$f(ht)===gt.type){u(O,gt.sibling),M=g(gt,V.props),M.ref=Pr(O,gt,V),M.return=O,O=M;break t}u(O,gt);break}else o(O,gt);gt=gt.sibling}V.type===N?(M=Wi(V.props.children,O.mode,Q,V.key),M.return=O,O=M):(Q=Da(V.type,V.key,V.props,null,O.mode,Q),Q.ref=Pr(O,M,V),Q.return=O,O=Q)}return A(O);case D:t:{for(gt=V.key;M!==null;){if(M.key===gt)if(M.tag===4&&M.stateNode.containerInfo===V.containerInfo&&M.stateNode.implementation===V.implementation){u(O,M.sibling),M=g(M,V.children||[]),M.return=O,O=M;break t}else{u(O,M);break}else o(O,M);M=M.sibling}M=uu(V,O.mode,Q),M.return=O,O=M}return A(O);case G:return gt=V._init,ee(O,M,gt(V._payload),Q)}if(Ii(V))return at(O,M,V,Q);if(tt(V))return ut(O,M,V,Q);ua(O,V)}return typeof V=="string"&&V!==""||typeof V=="number"?(V=""+V,M!==null&&M.tag===6?(u(O,M.sibling),M=g(M,V),M.return=O,O=M):(u(O,M),M=cu(V,O.mode,Q),M.return=O,O=M),A(O)):u(O,M)}return ee}var _s=Gf(!0),Wf=Gf(!1),ha=di(null),da=null,Cs=null,wc=null;function bc(){wc=Cs=da=null}function xc(i){var o=ha.current;Ut(ha),i._currentValue=o}function Ac(i,o,u){for(;i!==null;){var f=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,f!==null&&(f.childLanes|=o)):f!==null&&(f.childLanes&o)!==o&&(f.childLanes|=o),i===u)break;i=i.return}}function Ts(i,o){da=i,wc=Cs=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&o)!==0&&(ze=!0),i.firstContext=null)}function rn(i){var o=i._currentValue;if(wc!==i)if(i={context:i,memoizedValue:o,next:null},Cs===null){if(da===null)throw Error(e(308));Cs=i,da.dependencies={lanes:0,firstContext:i}}else Cs=Cs.next=i;return o}var Vi=null;function Sc(i){Vi===null?Vi=[i]:Vi.push(i)}function Xf(i,o,u,f){var g=o.interleaved;return g===null?(u.next=u,Sc(o)):(u.next=g.next,g.next=u),o.interleaved=u,Kn(i,f)}function Kn(i,o){i.lanes|=o;var u=i.alternate;for(u!==null&&(u.lanes|=o),u=i,i=i.return;i!==null;)i.childLanes|=o,u=i.alternate,u!==null&&(u.childLanes|=o),u=i,i=i.return;return u.tag===3?u.stateNode:null}var mi=!1;function Ec(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Kf(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function qn(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function gi(i,o,u){var f=i.updateQueue;if(f===null)return null;if(f=f.shared,(Dt&2)!==0){var g=f.pending;return g===null?o.next=o:(o.next=g.next,g.next=o),f.pending=o,Kn(i,u)}return g=f.interleaved,g===null?(o.next=o,Sc(f)):(o.next=g.next,g.next=o),f.interleaved=o,Kn(i,u)}function fa(i,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194240)!==0)){var f=o.lanes;f&=i.pendingLanes,u|=f,o.lanes=u,jl(i,u)}}function qf(i,o){var u=i.updateQueue,f=i.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var g=null,v=null;if(u=u.firstBaseUpdate,u!==null){do{var A={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};v===null?g=v=A:v=v.next=A,u=u.next}while(u!==null);v===null?g=v=o:v=v.next=o}else g=v=o;u={baseState:f.baseState,firstBaseUpdate:g,lastBaseUpdate:v,shared:f.shared,effects:f.effects},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=o:i.next=o,u.lastBaseUpdate=o}function pa(i,o,u,f){var g=i.updateQueue;mi=!1;var v=g.firstBaseUpdate,A=g.lastBaseUpdate,C=g.shared.pending;if(C!==null){g.shared.pending=null;var R=C,B=R.next;R.next=null,A===null?v=B:A.next=B,A=R;var X=i.alternate;X!==null&&(X=X.updateQueue,C=X.lastBaseUpdate,C!==A&&(C===null?X.firstBaseUpdate=B:C.next=B,X.lastBaseUpdate=R))}if(v!==null){var q=g.baseState;A=0,X=B=R=null,C=v;do{var W=C.lane,it=C.eventTime;if((f&W)===W){X!==null&&(X=X.next={eventTime:it,lane:0,tag:C.tag,payload:C.payload,callback:C.callback,next:null});t:{var at=i,ut=C;switch(W=o,it=u,ut.tag){case 1:if(at=ut.payload,typeof at=="function"){q=at.call(it,q,W);break t}q=at;break t;case 3:at.flags=at.flags&-65537|128;case 0:if(at=ut.payload,W=typeof at=="function"?at.call(it,q,W):at,W==null)break t;q=Y({},q,W);break t;case 2:mi=!0}}C.callback!==null&&C.lane!==0&&(i.flags|=64,W=g.effects,W===null?g.effects=[C]:W.push(C))}else it={eventTime:it,lane:W,tag:C.tag,payload:C.payload,callback:C.callback,next:null},X===null?(B=X=it,R=q):X=X.next=it,A|=W;if(C=C.next,C===null){if(C=g.shared.pending,C===null)break;W=C,C=W.next,W.next=null,g.lastBaseUpdate=W,g.shared.pending=null}}while(!0);if(X===null&&(R=q),g.baseState=R,g.firstBaseUpdate=B,g.lastBaseUpdate=X,o=g.shared.interleaved,o!==null){g=o;do A|=g.lane,g=g.next;while(g!==o)}else v===null&&(g.shared.lanes=0);Hi|=A,i.lanes=A,i.memoizedState=q}}function Yf(i,o,u){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var f=i[o],g=f.callback;if(g!==null){if(f.callback=null,f=u,typeof g!="function")throw Error(e(191,g));g.call(f)}}}var Rr={},Mn=di(Rr),Mr=di(Rr),Lr=di(Rr);function Bi(i){if(i===Rr)throw Error(e(174));return i}function _c(i,o){switch(zt(Lr,o),zt(Mr,i),zt(Mn,Rr),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:en(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=en(o,i)}Ut(Mn),zt(Mn,o)}function ks(){Ut(Mn),Ut(Mr),Ut(Lr)}function Qf(i){Bi(Lr.current);var o=Bi(Mn.current),u=en(o,i.type);o!==u&&(zt(Mr,i),zt(Mn,u))}function Cc(i){Mr.current===i&&(Ut(Mn),Ut(Mr))}var Wt=di(0);function ma(i){for(var o=i;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Tc=[];function kc(){for(var i=0;i<Tc.length;i++)Tc[i]._workInProgressVersionPrimary=null;Tc.length=0}var ga=P.ReactCurrentDispatcher,Pc=P.ReactCurrentBatchConfig,zi=0,Xt=null,he=null,ge=null,ya=!1,Ir=!1,Dr=0,Tb=0;function ke(){throw Error(e(321))}function Rc(i,o){if(o===null)return!1;for(var u=0;u<o.length&&u<i.length;u++)if(!wn(i[u],o[u]))return!1;return!0}function Mc(i,o,u,f,g,v){if(zi=v,Xt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,ga.current=i===null||i.memoizedState===null?Mb:Lb,i=u(f,g),Ir){v=0;do{if(Ir=!1,Dr=0,25<=v)throw Error(e(301));v+=1,ge=he=null,o.updateQueue=null,ga.current=Ib,i=u(f,g)}while(Ir)}if(ga.current=ba,o=he!==null&&he.next!==null,zi=0,ge=he=Xt=null,ya=!1,o)throw Error(e(300));return i}function Lc(){var i=Dr!==0;return Dr=0,i}function Ln(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ge===null?Xt.memoizedState=ge=i:ge=ge.next=i,ge}function on(){if(he===null){var i=Xt.alternate;i=i!==null?i.memoizedState:null}else i=he.next;var o=ge===null?Xt.memoizedState:ge.next;if(o!==null)ge=o,he=i;else{if(i===null)throw Error(e(310));he=i,i={memoizedState:he.memoizedState,baseState:he.baseState,baseQueue:he.baseQueue,queue:he.queue,next:null},ge===null?Xt.memoizedState=ge=i:ge=ge.next=i}return ge}function Nr(i,o){return typeof o=="function"?o(i):o}function Ic(i){var o=on(),u=o.queue;if(u===null)throw Error(e(311));u.lastRenderedReducer=i;var f=he,g=f.baseQueue,v=u.pending;if(v!==null){if(g!==null){var A=g.next;g.next=v.next,v.next=A}f.baseQueue=g=v,u.pending=null}if(g!==null){v=g.next,f=f.baseState;var C=A=null,R=null,B=v;do{var X=B.lane;if((zi&X)===X)R!==null&&(R=R.next={lane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),f=B.hasEagerState?B.eagerState:i(f,B.action);else{var q={lane:X,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null};R===null?(C=R=q,A=f):R=R.next=q,Xt.lanes|=X,Hi|=X}B=B.next}while(B!==null&&B!==v);R===null?A=f:R.next=C,wn(f,o.memoizedState)||(ze=!0),o.memoizedState=f,o.baseState=A,o.baseQueue=R,u.lastRenderedState=f}if(i=u.interleaved,i!==null){g=i;do v=g.lane,Xt.lanes|=v,Hi|=v,g=g.next;while(g!==i)}else g===null&&(u.lanes=0);return[o.memoizedState,u.dispatch]}function Dc(i){var o=on(),u=o.queue;if(u===null)throw Error(e(311));u.lastRenderedReducer=i;var f=u.dispatch,g=u.pending,v=o.memoizedState;if(g!==null){u.pending=null;var A=g=g.next;do v=i(v,A.action),A=A.next;while(A!==g);wn(v,o.memoizedState)||(ze=!0),o.memoizedState=v,o.baseQueue===null&&(o.baseState=v),u.lastRenderedState=v}return[v,f]}function Zf(){}function Jf(i,o){var u=Xt,f=on(),g=o(),v=!wn(f.memoizedState,g);if(v&&(f.memoizedState=g,ze=!0),f=f.queue,Nc(np.bind(null,u,f,i),[i]),f.getSnapshot!==o||v||ge!==null&&ge.memoizedState.tag&1){if(u.flags|=2048,Fr(9,ep.bind(null,u,f,g,o),void 0,null),ye===null)throw Error(e(349));(zi&30)!==0||tp(u,o,g)}return g}function tp(i,o,u){i.flags|=16384,i={getSnapshot:o,value:u},o=Xt.updateQueue,o===null?(o={lastEffect:null,stores:null},Xt.updateQueue=o,o.stores=[i]):(u=o.stores,u===null?o.stores=[i]:u.push(i))}function ep(i,o,u,f){o.value=u,o.getSnapshot=f,ip(o)&&sp(i)}function np(i,o,u){return u(function(){ip(o)&&sp(i)})}function ip(i){var o=i.getSnapshot;i=i.value;try{var u=o();return!wn(i,u)}catch{return!0}}function sp(i){var o=Kn(i,1);o!==null&&En(o,i,1,-1)}function rp(i){var o=Ln();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Nr,lastRenderedState:i},o.queue=i,i=i.dispatch=Rb.bind(null,Xt,i),[o.memoizedState,i]}function Fr(i,o,u,f){return i={tag:i,create:o,destroy:u,deps:f,next:null},o=Xt.updateQueue,o===null?(o={lastEffect:null,stores:null},Xt.updateQueue=o,o.lastEffect=i.next=i):(u=o.lastEffect,u===null?o.lastEffect=i.next=i:(f=u.next,u.next=i,i.next=f,o.lastEffect=i)),i}function op(){return on().memoizedState}function va(i,o,u,f){var g=Ln();Xt.flags|=i,g.memoizedState=Fr(1|o,u,void 0,f===void 0?null:f)}function wa(i,o,u,f){var g=on();f=f===void 0?null:f;var v=void 0;if(he!==null){var A=he.memoizedState;if(v=A.destroy,f!==null&&Rc(f,A.deps)){g.memoizedState=Fr(o,u,v,f);return}}Xt.flags|=i,g.memoizedState=Fr(1|o,u,v,f)}function ap(i,o){return va(8390656,8,i,o)}function Nc(i,o){return wa(2048,8,i,o)}function lp(i,o){return wa(4,2,i,o)}function cp(i,o){return wa(4,4,i,o)}function up(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function hp(i,o,u){return u=u!=null?u.concat([i]):null,wa(4,4,up.bind(null,o,i),u)}function Fc(){}function dp(i,o){var u=on();o=o===void 0?null:o;var f=u.memoizedState;return f!==null&&o!==null&&Rc(o,f[1])?f[0]:(u.memoizedState=[i,o],i)}function fp(i,o){var u=on();o=o===void 0?null:o;var f=u.memoizedState;return f!==null&&o!==null&&Rc(o,f[1])?f[0]:(i=i(),u.memoizedState=[i,o],i)}function pp(i,o,u){return(zi&21)===0?(i.baseState&&(i.baseState=!1,ze=!0),i.memoizedState=u):(wn(u,o)||(u=Ud(),Xt.lanes|=u,Hi|=u,i.baseState=!0),o)}function kb(i,o){var u=Ft;Ft=u!==0&&4>u?u:4,i(!0);var f=Pc.transition;Pc.transition={};try{i(!1),o()}finally{Ft=u,Pc.transition=f}}function mp(){return on().memoizedState}function Pb(i,o,u){var f=bi(i);if(u={lane:f,action:u,hasEagerState:!1,eagerState:null,next:null},gp(i))yp(o,u);else if(u=Xf(i,o,u,f),u!==null){var g=Fe();En(u,i,f,g),vp(u,o,f)}}function Rb(i,o,u){var f=bi(i),g={lane:f,action:u,hasEagerState:!1,eagerState:null,next:null};if(gp(i))yp(o,g);else{var v=i.alternate;if(i.lanes===0&&(v===null||v.lanes===0)&&(v=o.lastRenderedReducer,v!==null))try{var A=o.lastRenderedState,C=v(A,u);if(g.hasEagerState=!0,g.eagerState=C,wn(C,A)){var R=o.interleaved;R===null?(g.next=g,Sc(o)):(g.next=R.next,R.next=g),o.interleaved=g;return}}catch{}finally{}u=Xf(i,o,g,f),u!==null&&(g=Fe(),En(u,i,f,g),vp(u,o,f))}}function gp(i){var o=i.alternate;return i===Xt||o!==null&&o===Xt}function yp(i,o){Ir=ya=!0;var u=i.pending;u===null?o.next=o:(o.next=u.next,u.next=o),i.pending=o}function vp(i,o,u){if((u&4194240)!==0){var f=o.lanes;f&=i.pendingLanes,u|=f,o.lanes=u,jl(i,u)}}var ba={readContext:rn,useCallback:ke,useContext:ke,useEffect:ke,useImperativeHandle:ke,useInsertionEffect:ke,useLayoutEffect:ke,useMemo:ke,useReducer:ke,useRef:ke,useState:ke,useDebugValue:ke,useDeferredValue:ke,useTransition:ke,useMutableSource:ke,useSyncExternalStore:ke,useId:ke,unstable_isNewReconciler:!1},Mb={readContext:rn,useCallback:function(i,o){return Ln().memoizedState=[i,o===void 0?null:o],i},useContext:rn,useEffect:ap,useImperativeHandle:function(i,o,u){return u=u!=null?u.concat([i]):null,va(4194308,4,up.bind(null,o,i),u)},useLayoutEffect:function(i,o){return va(4194308,4,i,o)},useInsertionEffect:function(i,o){return va(4,2,i,o)},useMemo:function(i,o){var u=Ln();return o=o===void 0?null:o,i=i(),u.memoizedState=[i,o],i},useReducer:function(i,o,u){var f=Ln();return o=u!==void 0?u(o):o,f.memoizedState=f.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},f.queue=i,i=i.dispatch=Pb.bind(null,Xt,i),[f.memoizedState,i]},useRef:function(i){var o=Ln();return i={current:i},o.memoizedState=i},useState:rp,useDebugValue:Fc,useDeferredValue:function(i){return Ln().memoizedState=i},useTransition:function(){var i=rp(!1),o=i[0];return i=kb.bind(null,i[1]),Ln().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,u){var f=Xt,g=Ln();if($t){if(u===void 0)throw Error(e(407));u=u()}else{if(u=o(),ye===null)throw Error(e(349));(zi&30)!==0||tp(f,o,u)}g.memoizedState=u;var v={value:u,getSnapshot:o};return g.queue=v,ap(np.bind(null,f,v,i),[i]),f.flags|=2048,Fr(9,ep.bind(null,f,v,u,o),void 0,null),u},useId:function(){var i=Ln(),o=ye.identifierPrefix;if($t){var u=Xn,f=Wn;u=(f&~(1<<32-vn(f)-1)).toString(32)+u,o=":"+o+"R"+u,u=Dr++,0<u&&(o+="H"+u.toString(32)),o+=":"}else u=Tb++,o=":"+o+"r"+u.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},Lb={readContext:rn,useCallback:dp,useContext:rn,useEffect:Nc,useImperativeHandle:hp,useInsertionEffect:lp,useLayoutEffect:cp,useMemo:fp,useReducer:Ic,useRef:op,useState:function(){return Ic(Nr)},useDebugValue:Fc,useDeferredValue:function(i){var o=on();return pp(o,he.memoizedState,i)},useTransition:function(){var i=Ic(Nr)[0],o=on().memoizedState;return[i,o]},useMutableSource:Zf,useSyncExternalStore:Jf,useId:mp,unstable_isNewReconciler:!1},Ib={readContext:rn,useCallback:dp,useContext:rn,useEffect:Nc,useImperativeHandle:hp,useInsertionEffect:lp,useLayoutEffect:cp,useMemo:fp,useReducer:Dc,useRef:op,useState:function(){return Dc(Nr)},useDebugValue:Fc,useDeferredValue:function(i){var o=on();return he===null?o.memoizedState=i:pp(o,he.memoizedState,i)},useTransition:function(){var i=Dc(Nr)[0],o=on().memoizedState;return[i,o]},useMutableSource:Zf,useSyncExternalStore:Jf,useId:mp,unstable_isNewReconciler:!1};function xn(i,o){if(i&&i.defaultProps){o=Y({},o),i=i.defaultProps;for(var u in i)o[u]===void 0&&(o[u]=i[u]);return o}return o}function Oc(i,o,u,f){o=i.memoizedState,u=u(f,o),u=u==null?o:Y({},o,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var xa={isMounted:function(i){return(i=i._reactInternals)?Di(i)===i:!1},enqueueSetState:function(i,o,u){i=i._reactInternals;var f=Fe(),g=bi(i),v=qn(f,g);v.payload=o,u!=null&&(v.callback=u),o=gi(i,v,g),o!==null&&(En(o,i,g,f),fa(o,i,g))},enqueueReplaceState:function(i,o,u){i=i._reactInternals;var f=Fe(),g=bi(i),v=qn(f,g);v.tag=1,v.payload=o,u!=null&&(v.callback=u),o=gi(i,v,g),o!==null&&(En(o,i,g,f),fa(o,i,g))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var u=Fe(),f=bi(i),g=qn(u,f);g.tag=2,o!=null&&(g.callback=o),o=gi(i,g,f),o!==null&&(En(o,i,f,u),fa(o,i,f))}};function wp(i,o,u,f,g,v,A){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(f,v,A):o.prototype&&o.prototype.isPureReactComponent?!Ar(u,f)||!Ar(g,v):!0}function bp(i,o,u){var f=!1,g=fi,v=o.contextType;return typeof v=="object"&&v!==null?v=rn(v):(g=Be(o)?Fi:Te.current,f=o.contextTypes,v=(f=f!=null)?xs(i,g):fi),o=new o(u,v),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=xa,i.stateNode=o,o._reactInternals=i,f&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=g,i.__reactInternalMemoizedMaskedChildContext=v),o}function xp(i,o,u,f){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,f),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,f),o.state!==i&&xa.enqueueReplaceState(o,o.state,null)}function jc(i,o,u,f){var g=i.stateNode;g.props=u,g.state=i.memoizedState,g.refs={},Ec(i);var v=o.contextType;typeof v=="object"&&v!==null?g.context=rn(v):(v=Be(o)?Fi:Te.current,g.context=xs(i,v)),g.state=i.memoizedState,v=o.getDerivedStateFromProps,typeof v=="function"&&(Oc(i,o,v,u),g.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(o=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),o!==g.state&&xa.enqueueReplaceState(g,g.state,null),pa(i,u,g,f),g.state=i.memoizedState),typeof g.componentDidMount=="function"&&(i.flags|=4194308)}function Ps(i,o){try{var u="",f=o;do u+=mt(f),f=f.return;while(f);var g=u}catch(v){g=`
Error generating stack: `+v.message+`
`+v.stack}return{value:i,source:o,stack:g,digest:null}}function Vc(i,o,u){return{value:i,source:null,stack:u??null,digest:o??null}}function Bc(i,o){try{console.error(o.value)}catch(u){setTimeout(function(){throw u})}}var Db=typeof WeakMap=="function"?WeakMap:Map;function Ap(i,o,u){u=qn(-1,u),u.tag=3,u.payload={element:null};var f=o.value;return u.callback=function(){ka||(ka=!0,eu=f),Bc(i,o)},u}function Sp(i,o,u){u=qn(-1,u),u.tag=3;var f=i.type.getDerivedStateFromError;if(typeof f=="function"){var g=o.value;u.payload=function(){return f(g)},u.callback=function(){Bc(i,o)}}var v=i.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(u.callback=function(){Bc(i,o),typeof f!="function"&&(vi===null?vi=new Set([this]):vi.add(this));var A=o.stack;this.componentDidCatch(o.value,{componentStack:A!==null?A:""})}),u}function Ep(i,o,u){var f=i.pingCache;if(f===null){f=i.pingCache=new Db;var g=new Set;f.set(o,g)}else g=f.get(o),g===void 0&&(g=new Set,f.set(o,g));g.has(u)||(g.add(u),i=Kb.bind(null,i,o,u),o.then(i,i))}function _p(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function Cp(i,o,u,f,g){return(i.mode&1)===0?(i===o?i.flags|=65536:(i.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(o=qn(-1,1),o.tag=2,gi(u,o,1))),u.lanes|=1),i):(i.flags|=65536,i.lanes=g,i)}var Nb=P.ReactCurrentOwner,ze=!1;function Ne(i,o,u,f){o.child=i===null?Wf(o,null,u,f):_s(o,i.child,u,f)}function Tp(i,o,u,f,g){u=u.render;var v=o.ref;return Ts(o,g),f=Mc(i,o,u,f,v,g),u=Lc(),i!==null&&!ze?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~g,Yn(i,o,g)):($t&&u&&pc(o),o.flags|=1,Ne(i,o,f,g),o.child)}function kp(i,o,u,f,g){if(i===null){var v=u.type;return typeof v=="function"&&!lu(v)&&v.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(o.tag=15,o.type=v,Pp(i,o,v,f,g)):(i=Da(u.type,null,f,o,o.mode,g),i.ref=o.ref,i.return=o,o.child=i)}if(v=i.child,(i.lanes&g)===0){var A=v.memoizedProps;if(u=u.compare,u=u!==null?u:Ar,u(A,f)&&i.ref===o.ref)return Yn(i,o,g)}return o.flags|=1,i=Ai(v,f),i.ref=o.ref,i.return=o,o.child=i}function Pp(i,o,u,f,g){if(i!==null){var v=i.memoizedProps;if(Ar(v,f)&&i.ref===o.ref)if(ze=!1,o.pendingProps=f=v,(i.lanes&g)!==0)(i.flags&131072)!==0&&(ze=!0);else return o.lanes=i.lanes,Yn(i,o,g)}return zc(i,o,u,f,g)}function Rp(i,o,u){var f=o.pendingProps,g=f.children,v=i!==null?i.memoizedState:null;if(f.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},zt(Ms,Qe),Qe|=u;else{if((u&1073741824)===0)return i=v!==null?v.baseLanes|u:u,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:i,cachePool:null,transitions:null},o.updateQueue=null,zt(Ms,Qe),Qe|=i,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=v!==null?v.baseLanes:u,zt(Ms,Qe),Qe|=f}else v!==null?(f=v.baseLanes|u,o.memoizedState=null):f=u,zt(Ms,Qe),Qe|=f;return Ne(i,o,g,u),o.child}function Mp(i,o){var u=o.ref;(i===null&&u!==null||i!==null&&i.ref!==u)&&(o.flags|=512,o.flags|=2097152)}function zc(i,o,u,f,g){var v=Be(u)?Fi:Te.current;return v=xs(o,v),Ts(o,g),u=Mc(i,o,u,f,v,g),f=Lc(),i!==null&&!ze?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~g,Yn(i,o,g)):($t&&f&&pc(o),o.flags|=1,Ne(i,o,u,g),o.child)}function Lp(i,o,u,f,g){if(Be(u)){var v=!0;ra(o)}else v=!1;if(Ts(o,g),o.stateNode===null)Sa(i,o),bp(o,u,f),jc(o,u,f,g),f=!0;else if(i===null){var A=o.stateNode,C=o.memoizedProps;A.props=C;var R=A.context,B=u.contextType;typeof B=="object"&&B!==null?B=rn(B):(B=Be(u)?Fi:Te.current,B=xs(o,B));var X=u.getDerivedStateFromProps,q=typeof X=="function"||typeof A.getSnapshotBeforeUpdate=="function";q||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(C!==f||R!==B)&&xp(o,A,f,B),mi=!1;var W=o.memoizedState;A.state=W,pa(o,f,A,g),R=o.memoizedState,C!==f||W!==R||Ve.current||mi?(typeof X=="function"&&(Oc(o,u,X,f),R=o.memoizedState),(C=mi||wp(o,u,C,f,W,R,B))?(q||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(o.flags|=4194308)):(typeof A.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=f,o.memoizedState=R),A.props=f,A.state=R,A.context=B,f=C):(typeof A.componentDidMount=="function"&&(o.flags|=4194308),f=!1)}else{A=o.stateNode,Kf(i,o),C=o.memoizedProps,B=o.type===o.elementType?C:xn(o.type,C),A.props=B,q=o.pendingProps,W=A.context,R=u.contextType,typeof R=="object"&&R!==null?R=rn(R):(R=Be(u)?Fi:Te.current,R=xs(o,R));var it=u.getDerivedStateFromProps;(X=typeof it=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(C!==q||W!==R)&&xp(o,A,f,R),mi=!1,W=o.memoizedState,A.state=W,pa(o,f,A,g);var at=o.memoizedState;C!==q||W!==at||Ve.current||mi?(typeof it=="function"&&(Oc(o,u,it,f),at=o.memoizedState),(B=mi||wp(o,u,B,f,W,at,R)||!1)?(X||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(f,at,R),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(f,at,R)),typeof A.componentDidUpdate=="function"&&(o.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof A.componentDidUpdate!="function"||C===i.memoizedProps&&W===i.memoizedState||(o.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||C===i.memoizedProps&&W===i.memoizedState||(o.flags|=1024),o.memoizedProps=f,o.memoizedState=at),A.props=f,A.state=at,A.context=R,f=B):(typeof A.componentDidUpdate!="function"||C===i.memoizedProps&&W===i.memoizedState||(o.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||C===i.memoizedProps&&W===i.memoizedState||(o.flags|=1024),f=!1)}return Hc(i,o,u,f,v,g)}function Hc(i,o,u,f,g,v){Mp(i,o);var A=(o.flags&128)!==0;if(!f&&!A)return g&&Of(o,u,!1),Yn(i,o,v);f=o.stateNode,Nb.current=o;var C=A&&typeof u.getDerivedStateFromError!="function"?null:f.render();return o.flags|=1,i!==null&&A?(o.child=_s(o,i.child,null,v),o.child=_s(o,null,C,v)):Ne(i,o,C,v),o.memoizedState=f.state,g&&Of(o,u,!0),o.child}function Ip(i){var o=i.stateNode;o.pendingContext?Nf(i,o.pendingContext,o.pendingContext!==o.context):o.context&&Nf(i,o.context,!1),_c(i,o.containerInfo)}function Dp(i,o,u,f,g){return Es(),vc(g),o.flags|=256,Ne(i,o,u,f),o.child}var Uc={dehydrated:null,treeContext:null,retryLane:0};function $c(i){return{baseLanes:i,cachePool:null,transitions:null}}function Np(i,o,u){var f=o.pendingProps,g=Wt.current,v=!1,A=(o.flags&128)!==0,C;if((C=A)||(C=i!==null&&i.memoizedState===null?!1:(g&2)!==0),C?(v=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&(g|=1),zt(Wt,g&1),i===null)return yc(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((o.mode&1)===0?o.lanes=1:i.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(A=f.children,i=f.fallback,v?(f=o.mode,v=o.child,A={mode:"hidden",children:A},(f&1)===0&&v!==null?(v.childLanes=0,v.pendingProps=A):v=Na(A,f,0,null),i=Wi(i,f,u,null),v.return=o,i.return=o,v.sibling=i,o.child=v,o.child.memoizedState=$c(u),o.memoizedState=Uc,i):Gc(o,A));if(g=i.memoizedState,g!==null&&(C=g.dehydrated,C!==null))return Fb(i,o,A,f,C,g,u);if(v){v=f.fallback,A=o.mode,g=i.child,C=g.sibling;var R={mode:"hidden",children:f.children};return(A&1)===0&&o.child!==g?(f=o.child,f.childLanes=0,f.pendingProps=R,o.deletions=null):(f=Ai(g,R),f.subtreeFlags=g.subtreeFlags&14680064),C!==null?v=Ai(C,v):(v=Wi(v,A,u,null),v.flags|=2),v.return=o,f.return=o,f.sibling=v,o.child=f,f=v,v=o.child,A=i.child.memoizedState,A=A===null?$c(u):{baseLanes:A.baseLanes|u,cachePool:null,transitions:A.transitions},v.memoizedState=A,v.childLanes=i.childLanes&~u,o.memoizedState=Uc,f}return v=i.child,i=v.sibling,f=Ai(v,{mode:"visible",children:f.children}),(o.mode&1)===0&&(f.lanes=u),f.return=o,f.sibling=null,i!==null&&(u=o.deletions,u===null?(o.deletions=[i],o.flags|=16):u.push(i)),o.child=f,o.memoizedState=null,f}function Gc(i,o){return o=Na({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function Aa(i,o,u,f){return f!==null&&vc(f),_s(o,i.child,null,u),i=Gc(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function Fb(i,o,u,f,g,v,A){if(u)return o.flags&256?(o.flags&=-257,f=Vc(Error(e(422))),Aa(i,o,A,f)):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(v=f.fallback,g=o.mode,f=Na({mode:"visible",children:f.children},g,0,null),v=Wi(v,g,A,null),v.flags|=2,f.return=o,v.return=o,f.sibling=v,o.child=f,(o.mode&1)!==0&&_s(o,i.child,null,A),o.child.memoizedState=$c(A),o.memoizedState=Uc,v);if((o.mode&1)===0)return Aa(i,o,A,null);if(g.data==="$!"){if(f=g.nextSibling&&g.nextSibling.dataset,f)var C=f.dgst;return f=C,v=Error(e(419)),f=Vc(v,f,void 0),Aa(i,o,A,f)}if(C=(A&i.childLanes)!==0,ze||C){if(f=ye,f!==null){switch(A&-A){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=(g&(f.suspendedLanes|A))!==0?0:g,g!==0&&g!==v.retryLane&&(v.retryLane=g,Kn(i,g),En(f,i,g,-1))}return au(),f=Vc(Error(e(421))),Aa(i,o,A,f)}return g.data==="$?"?(o.flags|=128,o.child=i.child,o=qb.bind(null,i),g._reactRetry=o,null):(i=v.treeContext,Ye=hi(g.nextSibling),qe=o,$t=!0,bn=null,i!==null&&(nn[sn++]=Wn,nn[sn++]=Xn,nn[sn++]=Oi,Wn=i.id,Xn=i.overflow,Oi=o),o=Gc(o,f.children),o.flags|=4096,o)}function Fp(i,o,u){i.lanes|=o;var f=i.alternate;f!==null&&(f.lanes|=o),Ac(i.return,o,u)}function Wc(i,o,u,f,g){var v=i.memoizedState;v===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:g}:(v.isBackwards=o,v.rendering=null,v.renderingStartTime=0,v.last=f,v.tail=u,v.tailMode=g)}function Op(i,o,u){var f=o.pendingProps,g=f.revealOrder,v=f.tail;if(Ne(i,o,f.children,u),f=Wt.current,(f&2)!==0)f=f&1|2,o.flags|=128;else{if(i!==null&&(i.flags&128)!==0)t:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Fp(i,u,o);else if(i.tag===19)Fp(i,u,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break t;for(;i.sibling===null;){if(i.return===null||i.return===o)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}f&=1}if(zt(Wt,f),(o.mode&1)===0)o.memoizedState=null;else switch(g){case"forwards":for(u=o.child,g=null;u!==null;)i=u.alternate,i!==null&&ma(i)===null&&(g=u),u=u.sibling;u=g,u===null?(g=o.child,o.child=null):(g=u.sibling,u.sibling=null),Wc(o,!1,g,u,v);break;case"backwards":for(u=null,g=o.child,o.child=null;g!==null;){if(i=g.alternate,i!==null&&ma(i)===null){o.child=g;break}i=g.sibling,g.sibling=u,u=g,g=i}Wc(o,!0,u,null,v);break;case"together":Wc(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Sa(i,o){(o.mode&1)===0&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2)}function Yn(i,o,u){if(i!==null&&(o.dependencies=i.dependencies),Hi|=o.lanes,(u&o.childLanes)===0)return null;if(i!==null&&o.child!==i.child)throw Error(e(153));if(o.child!==null){for(i=o.child,u=Ai(i,i.pendingProps),o.child=u,u.return=o;i.sibling!==null;)i=i.sibling,u=u.sibling=Ai(i,i.pendingProps),u.return=o;u.sibling=null}return o.child}function Ob(i,o,u){switch(o.tag){case 3:Ip(o),Es();break;case 5:Qf(o);break;case 1:Be(o.type)&&ra(o);break;case 4:_c(o,o.stateNode.containerInfo);break;case 10:var f=o.type._context,g=o.memoizedProps.value;zt(ha,f._currentValue),f._currentValue=g;break;case 13:if(f=o.memoizedState,f!==null)return f.dehydrated!==null?(zt(Wt,Wt.current&1),o.flags|=128,null):(u&o.child.childLanes)!==0?Np(i,o,u):(zt(Wt,Wt.current&1),i=Yn(i,o,u),i!==null?i.sibling:null);zt(Wt,Wt.current&1);break;case 19:if(f=(u&o.childLanes)!==0,(i.flags&128)!==0){if(f)return Op(i,o,u);o.flags|=128}if(g=o.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),zt(Wt,Wt.current),f)break;return null;case 22:case 23:return o.lanes=0,Rp(i,o,u)}return Yn(i,o,u)}var jp,Xc,Vp,Bp;jp=function(i,o){for(var u=o.child;u!==null;){if(u.tag===5||u.tag===6)i.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},Xc=function(){},Vp=function(i,o,u,f){var g=i.memoizedProps;if(g!==f){i=o.stateNode,Bi(Mn.current);var v=null;switch(u){case"input":g=jt(i,g),f=jt(i,f),v=[];break;case"select":g=Y({},g,{value:void 0}),f=Y({},f,{value:void 0}),v=[];break;case"textarea":g=rr(i,g),f=rr(i,f),v=[];break;default:typeof g.onClick!="function"&&typeof f.onClick=="function"&&(i.onclick=na)}Tl(u,f);var A;u=null;for(B in g)if(!f.hasOwnProperty(B)&&g.hasOwnProperty(B)&&g[B]!=null)if(B==="style"){var C=g[B];for(A in C)C.hasOwnProperty(A)&&(u||(u={}),u[A]="")}else B!=="dangerouslySetInnerHTML"&&B!=="children"&&B!=="suppressContentEditableWarning"&&B!=="suppressHydrationWarning"&&B!=="autoFocus"&&(r.hasOwnProperty(B)?v||(v=[]):(v=v||[]).push(B,null));for(B in f){var R=f[B];if(C=g?.[B],f.hasOwnProperty(B)&&R!==C&&(R!=null||C!=null))if(B==="style")if(C){for(A in C)!C.hasOwnProperty(A)||R&&R.hasOwnProperty(A)||(u||(u={}),u[A]="");for(A in R)R.hasOwnProperty(A)&&C[A]!==R[A]&&(u||(u={}),u[A]=R[A])}else u||(v||(v=[]),v.push(B,u)),u=R;else B==="dangerouslySetInnerHTML"?(R=R?R.__html:void 0,C=C?C.__html:void 0,R!=null&&C!==R&&(v=v||[]).push(B,R)):B==="children"?typeof R!="string"&&typeof R!="number"||(v=v||[]).push(B,""+R):B!=="suppressContentEditableWarning"&&B!=="suppressHydrationWarning"&&(r.hasOwnProperty(B)?(R!=null&&B==="onScroll"&&Ht("scroll",i),v||C===R||(v=[])):(v=v||[]).push(B,R))}u&&(v=v||[]).push("style",u);var B=v;(o.updateQueue=B)&&(o.flags|=4)}},Bp=function(i,o,u,f){u!==f&&(o.flags|=4)};function Or(i,o){if(!$t)switch(i.tailMode){case"hidden":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:f.sibling=null}}function Pe(i){var o=i.alternate!==null&&i.alternate.child===i.child,u=0,f=0;if(o)for(var g=i.child;g!==null;)u|=g.lanes|g.childLanes,f|=g.subtreeFlags&14680064,f|=g.flags&14680064,g.return=i,g=g.sibling;else for(g=i.child;g!==null;)u|=g.lanes|g.childLanes,f|=g.subtreeFlags,f|=g.flags,g.return=i,g=g.sibling;return i.subtreeFlags|=f,i.childLanes=u,o}function jb(i,o,u){var f=o.pendingProps;switch(mc(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pe(o),null;case 1:return Be(o.type)&&sa(),Pe(o),null;case 3:return f=o.stateNode,ks(),Ut(Ve),Ut(Te),kc(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(i===null||i.child===null)&&(ca(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,bn!==null&&(su(bn),bn=null))),Xc(i,o),Pe(o),null;case 5:Cc(o);var g=Bi(Lr.current);if(u=o.type,i!==null&&o.stateNode!=null)Vp(i,o,u,f,g),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!f){if(o.stateNode===null)throw Error(e(166));return Pe(o),null}if(i=Bi(Mn.current),ca(o)){f=o.stateNode,u=o.type;var v=o.memoizedProps;switch(f[Rn]=o,f[Tr]=v,i=(o.mode&1)!==0,u){case"dialog":Ht("cancel",f),Ht("close",f);break;case"iframe":case"object":case"embed":Ht("load",f);break;case"video":case"audio":for(g=0;g<Er.length;g++)Ht(Er[g],f);break;case"source":Ht("error",f);break;case"img":case"image":case"link":Ht("error",f),Ht("load",f);break;case"details":Ht("toggle",f);break;case"input":Yt(f,v),Ht("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!v.multiple},Ht("invalid",f);break;case"textarea":Mo(f,v),Ht("invalid",f)}Tl(u,v),g=null;for(var A in v)if(v.hasOwnProperty(A)){var C=v[A];A==="children"?typeof C=="string"?f.textContent!==C&&(v.suppressHydrationWarning!==!0&&ea(f.textContent,C,i),g=["children",C]):typeof C=="number"&&f.textContent!==""+C&&(v.suppressHydrationWarning!==!0&&ea(f.textContent,C,i),g=["children",""+C]):r.hasOwnProperty(A)&&C!=null&&A==="onScroll"&&Ht("scroll",f)}switch(u){case"input":me(f),si(f,v,!0);break;case"textarea":me(f),Io(f);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(f.onclick=na)}f=g,o.updateQueue=f,f!==null&&(o.flags|=4)}else{A=g.nodeType===9?g:g.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=Do(u)),i==="http://www.w3.org/1999/xhtml"?u==="script"?(i=A.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof f.is=="string"?i=A.createElement(u,{is:f.is}):(i=A.createElement(u),u==="select"&&(A=i,f.multiple?A.multiple=!0:f.size&&(A.size=f.size))):i=A.createElementNS(i,u),i[Rn]=o,i[Tr]=f,jp(i,o,!1,!1),o.stateNode=i;t:{switch(A=kl(u,f),u){case"dialog":Ht("cancel",i),Ht("close",i),g=f;break;case"iframe":case"object":case"embed":Ht("load",i),g=f;break;case"video":case"audio":for(g=0;g<Er.length;g++)Ht(Er[g],i);g=f;break;case"source":Ht("error",i),g=f;break;case"img":case"image":case"link":Ht("error",i),Ht("load",i),g=f;break;case"details":Ht("toggle",i),g=f;break;case"input":Yt(i,f),g=jt(i,f),Ht("invalid",i);break;case"option":g=f;break;case"select":i._wrapperState={wasMultiple:!!f.multiple},g=Y({},f,{value:void 0}),Ht("invalid",i);break;case"textarea":Mo(i,f),g=rr(i,f),Ht("invalid",i);break;default:g=f}Tl(u,g),C=g;for(v in C)if(C.hasOwnProperty(v)){var R=C[v];v==="style"?kd(i,R):v==="dangerouslySetInnerHTML"?(R=R?R.__html:void 0,R!=null&&yn(i,R)):v==="children"?typeof R=="string"?(u!=="textarea"||R!=="")&&Un(i,R):typeof R=="number"&&Un(i,""+R):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(r.hasOwnProperty(v)?R!=null&&v==="onScroll"&&Ht("scroll",i):R!=null&&_(i,v,R,A))}switch(u){case"input":me(i),si(i,f,!1);break;case"textarea":me(i),Io(i);break;case"option":f.value!=null&&i.setAttribute("value",""+Ct(f.value));break;case"select":i.multiple=!!f.multiple,v=f.value,v!=null?mn(i,!!f.multiple,v,!1):f.defaultValue!=null&&mn(i,!!f.multiple,f.defaultValue,!0);break;default:typeof g.onClick=="function"&&(i.onclick=na)}switch(u){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break t;case"img":f=!0;break t;default:f=!1}}f&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Pe(o),null;case 6:if(i&&o.stateNode!=null)Bp(i,o,i.memoizedProps,f);else{if(typeof f!="string"&&o.stateNode===null)throw Error(e(166));if(u=Bi(Lr.current),Bi(Mn.current),ca(o)){if(f=o.stateNode,u=o.memoizedProps,f[Rn]=o,(v=f.nodeValue!==u)&&(i=qe,i!==null))switch(i.tag){case 3:ea(f.nodeValue,u,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&ea(f.nodeValue,u,(i.mode&1)!==0)}v&&(o.flags|=4)}else f=(u.nodeType===9?u:u.ownerDocument).createTextNode(f),f[Rn]=o,o.stateNode=f}return Pe(o),null;case 13:if(Ut(Wt),f=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if($t&&Ye!==null&&(o.mode&1)!==0&&(o.flags&128)===0)Uf(),Es(),o.flags|=98560,v=!1;else if(v=ca(o),f!==null&&f.dehydrated!==null){if(i===null){if(!v)throw Error(e(318));if(v=o.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(e(317));v[Rn]=o}else Es(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Pe(o),v=!1}else bn!==null&&(su(bn),bn=null),v=!0;if(!v)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=u,o):(f=f!==null,f!==(i!==null&&i.memoizedState!==null)&&f&&(o.child.flags|=8192,(o.mode&1)!==0&&(i===null||(Wt.current&1)!==0?de===0&&(de=3):au())),o.updateQueue!==null&&(o.flags|=4),Pe(o),null);case 4:return ks(),Xc(i,o),i===null&&_r(o.stateNode.containerInfo),Pe(o),null;case 10:return xc(o.type._context),Pe(o),null;case 17:return Be(o.type)&&sa(),Pe(o),null;case 19:if(Ut(Wt),v=o.memoizedState,v===null)return Pe(o),null;if(f=(o.flags&128)!==0,A=v.rendering,A===null)if(f)Or(v,!1);else{if(de!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(A=ma(i),A!==null){for(o.flags|=128,Or(v,!1),f=A.updateQueue,f!==null&&(o.updateQueue=f,o.flags|=4),o.subtreeFlags=0,f=u,u=o.child;u!==null;)v=u,i=f,v.flags&=14680066,A=v.alternate,A===null?(v.childLanes=0,v.lanes=i,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=A.childLanes,v.lanes=A.lanes,v.child=A.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=A.memoizedProps,v.memoizedState=A.memoizedState,v.updateQueue=A.updateQueue,v.type=A.type,i=A.dependencies,v.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),u=u.sibling;return zt(Wt,Wt.current&1|2),o.child}i=i.sibling}v.tail!==null&&te()>Ls&&(o.flags|=128,f=!0,Or(v,!1),o.lanes=4194304)}else{if(!f)if(i=ma(A),i!==null){if(o.flags|=128,f=!0,u=i.updateQueue,u!==null&&(o.updateQueue=u,o.flags|=4),Or(v,!0),v.tail===null&&v.tailMode==="hidden"&&!A.alternate&&!$t)return Pe(o),null}else 2*te()-v.renderingStartTime>Ls&&u!==1073741824&&(o.flags|=128,f=!0,Or(v,!1),o.lanes=4194304);v.isBackwards?(A.sibling=o.child,o.child=A):(u=v.last,u!==null?u.sibling=A:o.child=A,v.last=A)}return v.tail!==null?(o=v.tail,v.rendering=o,v.tail=o.sibling,v.renderingStartTime=te(),o.sibling=null,u=Wt.current,zt(Wt,f?u&1|2:u&1),o):(Pe(o),null);case 22:case 23:return ou(),f=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==f&&(o.flags|=8192),f&&(o.mode&1)!==0?(Qe&1073741824)!==0&&(Pe(o),o.subtreeFlags&6&&(o.flags|=8192)):Pe(o),null;case 24:return null;case 25:return null}throw Error(e(156,o.tag))}function Vb(i,o){switch(mc(o),o.tag){case 1:return Be(o.type)&&sa(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return ks(),Ut(Ve),Ut(Te),kc(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 5:return Cc(o),null;case 13:if(Ut(Wt),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(e(340));Es()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return Ut(Wt),null;case 4:return ks(),null;case 10:return xc(o.type._context),null;case 22:case 23:return ou(),null;case 24:return null;default:return null}}var Ea=!1,Re=!1,Bb=typeof WeakSet=="function"?WeakSet:Set,rt=null;function Rs(i,o){var u=i.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(f){Qt(i,o,f)}else u.current=null}function Kc(i,o,u){try{u()}catch(f){Qt(i,o,f)}}var zp=!1;function zb(i,o){if(oc=$o,i=wf(),Zl(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else t:{u=(u=i.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var g=f.anchorOffset,v=f.focusNode;f=f.focusOffset;try{u.nodeType,v.nodeType}catch{u=null;break t}var A=0,C=-1,R=-1,B=0,X=0,q=i,W=null;e:for(;;){for(var it;q!==u||g!==0&&q.nodeType!==3||(C=A+g),q!==v||f!==0&&q.nodeType!==3||(R=A+f),q.nodeType===3&&(A+=q.nodeValue.length),(it=q.firstChild)!==null;)W=q,q=it;for(;;){if(q===i)break e;if(W===u&&++B===g&&(C=A),W===v&&++X===f&&(R=A),(it=q.nextSibling)!==null)break;q=W,W=q.parentNode}q=it}u=C===-1||R===-1?null:{start:C,end:R}}else u=null}u=u||{start:0,end:0}}else u=null;for(ac={focusedElem:i,selectionRange:u},$o=!1,rt=o;rt!==null;)if(o=rt,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,rt=i;else for(;rt!==null;){o=rt;try{var at=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(at!==null){var ut=at.memoizedProps,ee=at.memoizedState,O=o.stateNode,M=O.getSnapshotBeforeUpdate(o.elementType===o.type?ut:xn(o.type,ut),ee);O.__reactInternalSnapshotBeforeUpdate=M}break;case 3:var V=o.stateNode.containerInfo;V.nodeType===1?V.textContent="":V.nodeType===9&&V.documentElement&&V.removeChild(V.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(e(163))}}catch(Q){Qt(o,o.return,Q)}if(i=o.sibling,i!==null){i.return=o.return,rt=i;break}rt=o.return}return at=zp,zp=!1,at}function jr(i,o,u){var f=o.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var g=f=f.next;do{if((g.tag&i)===i){var v=g.destroy;g.destroy=void 0,v!==void 0&&Kc(o,u,v)}g=g.next}while(g!==f)}}function _a(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var u=o=o.next;do{if((u.tag&i)===i){var f=u.create;u.destroy=f()}u=u.next}while(u!==o)}}function qc(i){var o=i.ref;if(o!==null){var u=i.stateNode;switch(i.tag){case 5:i=u;break;default:i=u}typeof o=="function"?o(i):o.current=i}}function Hp(i){var o=i.alternate;o!==null&&(i.alternate=null,Hp(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[Rn],delete o[Tr],delete o[hc],delete o[Sb],delete o[Eb])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Up(i){return i.tag===5||i.tag===3||i.tag===4}function $p(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||Up(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Yc(i,o,u){var f=i.tag;if(f===5||f===6)i=i.stateNode,o?u.nodeType===8?u.parentNode.insertBefore(i,o):u.insertBefore(i,o):(u.nodeType===8?(o=u.parentNode,o.insertBefore(i,u)):(o=u,o.appendChild(i)),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=na));else if(f!==4&&(i=i.child,i!==null))for(Yc(i,o,u),i=i.sibling;i!==null;)Yc(i,o,u),i=i.sibling}function Qc(i,o,u){var f=i.tag;if(f===5||f===6)i=i.stateNode,o?u.insertBefore(i,o):u.appendChild(i);else if(f!==4&&(i=i.child,i!==null))for(Qc(i,o,u),i=i.sibling;i!==null;)Qc(i,o,u),i=i.sibling}var Se=null,An=!1;function yi(i,o,u){for(u=u.child;u!==null;)Gp(i,o,u),u=u.sibling}function Gp(i,o,u){if(Pn&&typeof Pn.onCommitFiberUnmount=="function")try{Pn.onCommitFiberUnmount(jo,u)}catch{}switch(u.tag){case 5:Re||Rs(u,o);case 6:var f=Se,g=An;Se=null,yi(i,o,u),Se=f,An=g,Se!==null&&(An?(i=Se,u=u.stateNode,i.nodeType===8?i.parentNode.removeChild(u):i.removeChild(u)):Se.removeChild(u.stateNode));break;case 18:Se!==null&&(An?(i=Se,u=u.stateNode,i.nodeType===8?uc(i.parentNode,u):i.nodeType===1&&uc(i,u),gr(i)):uc(Se,u.stateNode));break;case 4:f=Se,g=An,Se=u.stateNode.containerInfo,An=!0,yi(i,o,u),Se=f,An=g;break;case 0:case 11:case 14:case 15:if(!Re&&(f=u.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){g=f=f.next;do{var v=g,A=v.destroy;v=v.tag,A!==void 0&&((v&2)!==0||(v&4)!==0)&&Kc(u,o,A),g=g.next}while(g!==f)}yi(i,o,u);break;case 1:if(!Re&&(Rs(u,o),f=u.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=u.memoizedProps,f.state=u.memoizedState,f.componentWillUnmount()}catch(C){Qt(u,o,C)}yi(i,o,u);break;case 21:yi(i,o,u);break;case 22:u.mode&1?(Re=(f=Re)||u.memoizedState!==null,yi(i,o,u),Re=f):yi(i,o,u);break;default:yi(i,o,u)}}function Wp(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var u=i.stateNode;u===null&&(u=i.stateNode=new Bb),o.forEach(function(f){var g=Yb.bind(null,i,f);u.has(f)||(u.add(f),f.then(g,g))})}}function Sn(i,o){var u=o.deletions;if(u!==null)for(var f=0;f<u.length;f++){var g=u[f];try{var v=i,A=o,C=A;t:for(;C!==null;){switch(C.tag){case 5:Se=C.stateNode,An=!1;break t;case 3:Se=C.stateNode.containerInfo,An=!0;break t;case 4:Se=C.stateNode.containerInfo,An=!0;break t}C=C.return}if(Se===null)throw Error(e(160));Gp(v,A,g),Se=null,An=!1;var R=g.alternate;R!==null&&(R.return=null),g.return=null}catch(B){Qt(g,o,B)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)Xp(o,i),o=o.sibling}function Xp(i,o){var u=i.alternate,f=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Sn(o,i),In(i),f&4){try{jr(3,i,i.return),_a(3,i)}catch(ut){Qt(i,i.return,ut)}try{jr(5,i,i.return)}catch(ut){Qt(i,i.return,ut)}}break;case 1:Sn(o,i),In(i),f&512&&u!==null&&Rs(u,u.return);break;case 5:if(Sn(o,i),In(i),f&512&&u!==null&&Rs(u,u.return),i.flags&32){var g=i.stateNode;try{Un(g,"")}catch(ut){Qt(i,i.return,ut)}}if(f&4&&(g=i.stateNode,g!=null)){var v=i.memoizedProps,A=u!==null?u.memoizedProps:v,C=i.type,R=i.updateQueue;if(i.updateQueue=null,R!==null)try{C==="input"&&v.type==="radio"&&v.name!=null&&Jt(g,v),kl(C,A);var B=kl(C,v);for(A=0;A<R.length;A+=2){var X=R[A],q=R[A+1];X==="style"?kd(g,q):X==="dangerouslySetInnerHTML"?yn(g,q):X==="children"?Un(g,q):_(g,X,q,B)}switch(C){case"input":kn(g,v);break;case"textarea":Lo(g,v);break;case"select":var W=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!v.multiple;var it=v.value;it!=null?mn(g,!!v.multiple,it,!1):W!==!!v.multiple&&(v.defaultValue!=null?mn(g,!!v.multiple,v.defaultValue,!0):mn(g,!!v.multiple,v.multiple?[]:"",!1))}g[Tr]=v}catch(ut){Qt(i,i.return,ut)}}break;case 6:if(Sn(o,i),In(i),f&4){if(i.stateNode===null)throw Error(e(162));g=i.stateNode,v=i.memoizedProps;try{g.nodeValue=v}catch(ut){Qt(i,i.return,ut)}}break;case 3:if(Sn(o,i),In(i),f&4&&u!==null&&u.memoizedState.isDehydrated)try{gr(o.containerInfo)}catch(ut){Qt(i,i.return,ut)}break;case 4:Sn(o,i),In(i);break;case 13:Sn(o,i),In(i),g=i.child,g.flags&8192&&(v=g.memoizedState!==null,g.stateNode.isHidden=v,!v||g.alternate!==null&&g.alternate.memoizedState!==null||(tu=te())),f&4&&Wp(i);break;case 22:if(X=u!==null&&u.memoizedState!==null,i.mode&1?(Re=(B=Re)||X,Sn(o,i),Re=B):Sn(o,i),In(i),f&8192){if(B=i.memoizedState!==null,(i.stateNode.isHidden=B)&&!X&&(i.mode&1)!==0)for(rt=i,X=i.child;X!==null;){for(q=rt=X;rt!==null;){switch(W=rt,it=W.child,W.tag){case 0:case 11:case 14:case 15:jr(4,W,W.return);break;case 1:Rs(W,W.return);var at=W.stateNode;if(typeof at.componentWillUnmount=="function"){f=W,u=W.return;try{o=f,at.props=o.memoizedProps,at.state=o.memoizedState,at.componentWillUnmount()}catch(ut){Qt(f,u,ut)}}break;case 5:Rs(W,W.return);break;case 22:if(W.memoizedState!==null){Yp(q);continue}}it!==null?(it.return=W,rt=it):Yp(q)}X=X.sibling}t:for(X=null,q=i;;){if(q.tag===5){if(X===null){X=q;try{g=q.stateNode,B?(v=g.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(C=q.stateNode,R=q.memoizedProps.style,A=R!=null&&R.hasOwnProperty("display")?R.display:null,C.style.display=Td("display",A))}catch(ut){Qt(i,i.return,ut)}}}else if(q.tag===6){if(X===null)try{q.stateNode.nodeValue=B?"":q.memoizedProps}catch(ut){Qt(i,i.return,ut)}}else if((q.tag!==22&&q.tag!==23||q.memoizedState===null||q===i)&&q.child!==null){q.child.return=q,q=q.child;continue}if(q===i)break t;for(;q.sibling===null;){if(q.return===null||q.return===i)break t;X===q&&(X=null),q=q.return}X===q&&(X=null),q.sibling.return=q.return,q=q.sibling}}break;case 19:Sn(o,i),In(i),f&4&&Wp(i);break;case 21:break;default:Sn(o,i),In(i)}}function In(i){var o=i.flags;if(o&2){try{t:{for(var u=i.return;u!==null;){if(Up(u)){var f=u;break t}u=u.return}throw Error(e(160))}switch(f.tag){case 5:var g=f.stateNode;f.flags&32&&(Un(g,""),f.flags&=-33);var v=$p(i);Qc(i,v,g);break;case 3:case 4:var A=f.stateNode.containerInfo,C=$p(i);Yc(i,C,A);break;default:throw Error(e(161))}}catch(R){Qt(i,i.return,R)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function Hb(i,o,u){rt=i,Kp(i)}function Kp(i,o,u){for(var f=(i.mode&1)!==0;rt!==null;){var g=rt,v=g.child;if(g.tag===22&&f){var A=g.memoizedState!==null||Ea;if(!A){var C=g.alternate,R=C!==null&&C.memoizedState!==null||Re;C=Ea;var B=Re;if(Ea=A,(Re=R)&&!B)for(rt=g;rt!==null;)A=rt,R=A.child,A.tag===22&&A.memoizedState!==null?Qp(g):R!==null?(R.return=A,rt=R):Qp(g);for(;v!==null;)rt=v,Kp(v),v=v.sibling;rt=g,Ea=C,Re=B}qp(i)}else(g.subtreeFlags&8772)!==0&&v!==null?(v.return=g,rt=v):qp(i)}}function qp(i){for(;rt!==null;){var o=rt;if((o.flags&8772)!==0){var u=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:Re||_a(5,o);break;case 1:var f=o.stateNode;if(o.flags&4&&!Re)if(u===null)f.componentDidMount();else{var g=o.elementType===o.type?u.memoizedProps:xn(o.type,u.memoizedProps);f.componentDidUpdate(g,u.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var v=o.updateQueue;v!==null&&Yf(o,v,f);break;case 3:var A=o.updateQueue;if(A!==null){if(u=null,o.child!==null)switch(o.child.tag){case 5:u=o.child.stateNode;break;case 1:u=o.child.stateNode}Yf(o,A,u)}break;case 5:var C=o.stateNode;if(u===null&&o.flags&4){u=C;var R=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":R.autoFocus&&u.focus();break;case"img":R.src&&(u.src=R.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var B=o.alternate;if(B!==null){var X=B.memoizedState;if(X!==null){var q=X.dehydrated;q!==null&&gr(q)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(e(163))}Re||o.flags&512&&qc(o)}catch(W){Qt(o,o.return,W)}}if(o===i){rt=null;break}if(u=o.sibling,u!==null){u.return=o.return,rt=u;break}rt=o.return}}function Yp(i){for(;rt!==null;){var o=rt;if(o===i){rt=null;break}var u=o.sibling;if(u!==null){u.return=o.return,rt=u;break}rt=o.return}}function Qp(i){for(;rt!==null;){var o=rt;try{switch(o.tag){case 0:case 11:case 15:var u=o.return;try{_a(4,o)}catch(R){Qt(o,u,R)}break;case 1:var f=o.stateNode;if(typeof f.componentDidMount=="function"){var g=o.return;try{f.componentDidMount()}catch(R){Qt(o,g,R)}}var v=o.return;try{qc(o)}catch(R){Qt(o,v,R)}break;case 5:var A=o.return;try{qc(o)}catch(R){Qt(o,A,R)}}}catch(R){Qt(o,o.return,R)}if(o===i){rt=null;break}var C=o.sibling;if(C!==null){C.return=o.return,rt=C;break}rt=o.return}}var Ub=Math.ceil,Ca=P.ReactCurrentDispatcher,Zc=P.ReactCurrentOwner,an=P.ReactCurrentBatchConfig,Dt=0,ye=null,ae=null,Ee=0,Qe=0,Ms=di(0),de=0,Vr=null,Hi=0,Ta=0,Jc=0,Br=null,He=null,tu=0,Ls=1/0,Qn=null,ka=!1,eu=null,vi=null,Pa=!1,wi=null,Ra=0,zr=0,nu=null,Ma=-1,La=0;function Fe(){return(Dt&6)!==0?te():Ma!==-1?Ma:Ma=te()}function bi(i){return(i.mode&1)===0?1:(Dt&2)!==0&&Ee!==0?Ee&-Ee:Cb.transition!==null?(La===0&&(La=Ud()),La):(i=Ft,i!==0||(i=window.event,i=i===void 0?16:Zd(i.type)),i)}function En(i,o,u,f){if(50<zr)throw zr=0,nu=null,Error(e(185));hr(i,u,f),((Dt&2)===0||i!==ye)&&(i===ye&&((Dt&2)===0&&(Ta|=u),de===4&&xi(i,Ee)),Ue(i,f),u===1&&Dt===0&&(o.mode&1)===0&&(Ls=te()+500,oa&&pi()))}function Ue(i,o){var u=i.callbackNode;Cw(i,o);var f=zo(i,i===ye?Ee:0);if(f===0)u!==null&&Bd(u),i.callbackNode=null,i.callbackPriority=0;else if(o=f&-f,i.callbackPriority!==o){if(u!=null&&Bd(u),o===1)i.tag===0?_b(Jp.bind(null,i)):jf(Jp.bind(null,i)),xb(function(){(Dt&6)===0&&pi()}),u=null;else{switch($d(f)){case 1:u=Nl;break;case 4:u=zd;break;case 16:u=Oo;break;case 536870912:u=Hd;break;default:u=Oo}u=am(u,Zp.bind(null,i))}i.callbackPriority=o,i.callbackNode=u}}function Zp(i,o){if(Ma=-1,La=0,(Dt&6)!==0)throw Error(e(327));var u=i.callbackNode;if(Is()&&i.callbackNode!==u)return null;var f=zo(i,i===ye?Ee:0);if(f===0)return null;if((f&30)!==0||(f&i.expiredLanes)!==0||o)o=Ia(i,f);else{o=f;var g=Dt;Dt|=2;var v=em();(ye!==i||Ee!==o)&&(Qn=null,Ls=te()+500,$i(i,o));do try{Wb();break}catch(C){tm(i,C)}while(!0);bc(),Ca.current=v,Dt=g,ae!==null?o=0:(ye=null,Ee=0,o=de)}if(o!==0){if(o===2&&(g=Fl(i),g!==0&&(f=g,o=iu(i,g))),o===1)throw u=Vr,$i(i,0),xi(i,f),Ue(i,te()),u;if(o===6)xi(i,f);else{if(g=i.current.alternate,(f&30)===0&&!$b(g)&&(o=Ia(i,f),o===2&&(v=Fl(i),v!==0&&(f=v,o=iu(i,v))),o===1))throw u=Vr,$i(i,0),xi(i,f),Ue(i,te()),u;switch(i.finishedWork=g,i.finishedLanes=f,o){case 0:case 1:throw Error(e(345));case 2:Gi(i,He,Qn);break;case 3:if(xi(i,f),(f&130023424)===f&&(o=tu+500-te(),10<o)){if(zo(i,0)!==0)break;if(g=i.suspendedLanes,(g&f)!==f){Fe(),i.pingedLanes|=i.suspendedLanes&g;break}i.timeoutHandle=cc(Gi.bind(null,i,He,Qn),o);break}Gi(i,He,Qn);break;case 4:if(xi(i,f),(f&4194240)===f)break;for(o=i.eventTimes,g=-1;0<f;){var A=31-vn(f);v=1<<A,A=o[A],A>g&&(g=A),f&=~v}if(f=g,f=te()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*Ub(f/1960))-f,10<f){i.timeoutHandle=cc(Gi.bind(null,i,He,Qn),f);break}Gi(i,He,Qn);break;case 5:Gi(i,He,Qn);break;default:throw Error(e(329))}}}return Ue(i,te()),i.callbackNode===u?Zp.bind(null,i):null}function iu(i,o){var u=Br;return i.current.memoizedState.isDehydrated&&($i(i,o).flags|=256),i=Ia(i,o),i!==2&&(o=He,He=u,o!==null&&su(o)),i}function su(i){He===null?He=i:He.push.apply(He,i)}function $b(i){for(var o=i;;){if(o.flags&16384){var u=o.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var f=0;f<u.length;f++){var g=u[f],v=g.getSnapshot;g=g.value;try{if(!wn(v(),g))return!1}catch{return!1}}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function xi(i,o){for(o&=~Jc,o&=~Ta,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var u=31-vn(o),f=1<<u;i[u]=-1,o&=~f}}function Jp(i){if((Dt&6)!==0)throw Error(e(327));Is();var o=zo(i,0);if((o&1)===0)return Ue(i,te()),null;var u=Ia(i,o);if(i.tag!==0&&u===2){var f=Fl(i);f!==0&&(o=f,u=iu(i,f))}if(u===1)throw u=Vr,$i(i,0),xi(i,o),Ue(i,te()),u;if(u===6)throw Error(e(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,Gi(i,He,Qn),Ue(i,te()),null}function ru(i,o){var u=Dt;Dt|=1;try{return i(o)}finally{Dt=u,Dt===0&&(Ls=te()+500,oa&&pi())}}function Ui(i){wi!==null&&wi.tag===0&&(Dt&6)===0&&Is();var o=Dt;Dt|=1;var u=an.transition,f=Ft;try{if(an.transition=null,Ft=1,i)return i()}finally{Ft=f,an.transition=u,Dt=o,(Dt&6)===0&&pi()}}function ou(){Qe=Ms.current,Ut(Ms)}function $i(i,o){i.finishedWork=null,i.finishedLanes=0;var u=i.timeoutHandle;if(u!==-1&&(i.timeoutHandle=-1,bb(u)),ae!==null)for(u=ae.return;u!==null;){var f=u;switch(mc(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&sa();break;case 3:ks(),Ut(Ve),Ut(Te),kc();break;case 5:Cc(f);break;case 4:ks();break;case 13:Ut(Wt);break;case 19:Ut(Wt);break;case 10:xc(f.type._context);break;case 22:case 23:ou()}u=u.return}if(ye=i,ae=i=Ai(i.current,null),Ee=Qe=o,de=0,Vr=null,Jc=Ta=Hi=0,He=Br=null,Vi!==null){for(o=0;o<Vi.length;o++)if(u=Vi[o],f=u.interleaved,f!==null){u.interleaved=null;var g=f.next,v=u.pending;if(v!==null){var A=v.next;v.next=g,f.next=A}u.pending=f}Vi=null}return i}function tm(i,o){do{var u=ae;try{if(bc(),ga.current=ba,ya){for(var f=Xt.memoizedState;f!==null;){var g=f.queue;g!==null&&(g.pending=null),f=f.next}ya=!1}if(zi=0,ge=he=Xt=null,Ir=!1,Dr=0,Zc.current=null,u===null||u.return===null){de=1,Vr=o,ae=null;break}t:{var v=i,A=u.return,C=u,R=o;if(o=Ee,C.flags|=32768,R!==null&&typeof R=="object"&&typeof R.then=="function"){var B=R,X=C,q=X.tag;if((X.mode&1)===0&&(q===0||q===11||q===15)){var W=X.alternate;W?(X.updateQueue=W.updateQueue,X.memoizedState=W.memoizedState,X.lanes=W.lanes):(X.updateQueue=null,X.memoizedState=null)}var it=_p(A);if(it!==null){it.flags&=-257,Cp(it,A,C,v,o),it.mode&1&&Ep(v,B,o),o=it,R=B;var at=o.updateQueue;if(at===null){var ut=new Set;ut.add(R),o.updateQueue=ut}else at.add(R);break t}else{if((o&1)===0){Ep(v,B,o),au();break t}R=Error(e(426))}}else if($t&&C.mode&1){var ee=_p(A);if(ee!==null){(ee.flags&65536)===0&&(ee.flags|=256),Cp(ee,A,C,v,o),vc(Ps(R,C));break t}}v=R=Ps(R,C),de!==4&&(de=2),Br===null?Br=[v]:Br.push(v),v=A;do{switch(v.tag){case 3:v.flags|=65536,o&=-o,v.lanes|=o;var O=Ap(v,R,o);qf(v,O);break t;case 1:C=R;var M=v.type,V=v.stateNode;if((v.flags&128)===0&&(typeof M.getDerivedStateFromError=="function"||V!==null&&typeof V.componentDidCatch=="function"&&(vi===null||!vi.has(V)))){v.flags|=65536,o&=-o,v.lanes|=o;var Q=Sp(v,C,o);qf(v,Q);break t}}v=v.return}while(v!==null)}im(u)}catch(ht){o=ht,ae===u&&u!==null&&(ae=u=u.return);continue}break}while(!0)}function em(){var i=Ca.current;return Ca.current=ba,i===null?ba:i}function au(){(de===0||de===3||de===2)&&(de=4),ye===null||(Hi&268435455)===0&&(Ta&268435455)===0||xi(ye,Ee)}function Ia(i,o){var u=Dt;Dt|=2;var f=em();(ye!==i||Ee!==o)&&(Qn=null,$i(i,o));do try{Gb();break}catch(g){tm(i,g)}while(!0);if(bc(),Dt=u,Ca.current=f,ae!==null)throw Error(e(261));return ye=null,Ee=0,de}function Gb(){for(;ae!==null;)nm(ae)}function Wb(){for(;ae!==null&&!yw();)nm(ae)}function nm(i){var o=om(i.alternate,i,Qe);i.memoizedProps=i.pendingProps,o===null?im(i):ae=o,Zc.current=null}function im(i){var o=i;do{var u=o.alternate;if(i=o.return,(o.flags&32768)===0){if(u=jb(u,o,Qe),u!==null){ae=u;return}}else{if(u=Vb(u,o),u!==null){u.flags&=32767,ae=u;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{de=6,ae=null;return}}if(o=o.sibling,o!==null){ae=o;return}ae=o=i}while(o!==null);de===0&&(de=5)}function Gi(i,o,u){var f=Ft,g=an.transition;try{an.transition=null,Ft=1,Xb(i,o,u,f)}finally{an.transition=g,Ft=f}return null}function Xb(i,o,u,f){do Is();while(wi!==null);if((Dt&6)!==0)throw Error(e(327));u=i.finishedWork;var g=i.finishedLanes;if(u===null)return null;if(i.finishedWork=null,i.finishedLanes=0,u===i.current)throw Error(e(177));i.callbackNode=null,i.callbackPriority=0;var v=u.lanes|u.childLanes;if(Tw(i,v),i===ye&&(ae=ye=null,Ee=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||Pa||(Pa=!0,am(Oo,function(){return Is(),null})),v=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||v){v=an.transition,an.transition=null;var A=Ft;Ft=1;var C=Dt;Dt|=4,Zc.current=null,zb(i,u),Xp(u,i),fb(ac),$o=!!oc,ac=oc=null,i.current=u,Hb(u),vw(),Dt=C,Ft=A,an.transition=v}else i.current=u;if(Pa&&(Pa=!1,wi=i,Ra=g),v=i.pendingLanes,v===0&&(vi=null),xw(u.stateNode),Ue(i,te()),o!==null)for(f=i.onRecoverableError,u=0;u<o.length;u++)g=o[u],f(g.value,{componentStack:g.stack,digest:g.digest});if(ka)throw ka=!1,i=eu,eu=null,i;return(Ra&1)!==0&&i.tag!==0&&Is(),v=i.pendingLanes,(v&1)!==0?i===nu?zr++:(zr=0,nu=i):zr=0,pi(),null}function Is(){if(wi!==null){var i=$d(Ra),o=an.transition,u=Ft;try{if(an.transition=null,Ft=16>i?16:i,wi===null)var f=!1;else{if(i=wi,wi=null,Ra=0,(Dt&6)!==0)throw Error(e(331));var g=Dt;for(Dt|=4,rt=i.current;rt!==null;){var v=rt,A=v.child;if((rt.flags&16)!==0){var C=v.deletions;if(C!==null){for(var R=0;R<C.length;R++){var B=C[R];for(rt=B;rt!==null;){var X=rt;switch(X.tag){case 0:case 11:case 15:jr(8,X,v)}var q=X.child;if(q!==null)q.return=X,rt=q;else for(;rt!==null;){X=rt;var W=X.sibling,it=X.return;if(Hp(X),X===B){rt=null;break}if(W!==null){W.return=it,rt=W;break}rt=it}}}var at=v.alternate;if(at!==null){var ut=at.child;if(ut!==null){at.child=null;do{var ee=ut.sibling;ut.sibling=null,ut=ee}while(ut!==null)}}rt=v}}if((v.subtreeFlags&2064)!==0&&A!==null)A.return=v,rt=A;else t:for(;rt!==null;){if(v=rt,(v.flags&2048)!==0)switch(v.tag){case 0:case 11:case 15:jr(9,v,v.return)}var O=v.sibling;if(O!==null){O.return=v.return,rt=O;break t}rt=v.return}}var M=i.current;for(rt=M;rt!==null;){A=rt;var V=A.child;if((A.subtreeFlags&2064)!==0&&V!==null)V.return=A,rt=V;else t:for(A=M;rt!==null;){if(C=rt,(C.flags&2048)!==0)try{switch(C.tag){case 0:case 11:case 15:_a(9,C)}}catch(ht){Qt(C,C.return,ht)}if(C===A){rt=null;break t}var Q=C.sibling;if(Q!==null){Q.return=C.return,rt=Q;break t}rt=C.return}}if(Dt=g,pi(),Pn&&typeof Pn.onPostCommitFiberRoot=="function")try{Pn.onPostCommitFiberRoot(jo,i)}catch{}f=!0}return f}finally{Ft=u,an.transition=o}}return!1}function sm(i,o,u){o=Ps(u,o),o=Ap(i,o,1),i=gi(i,o,1),o=Fe(),i!==null&&(hr(i,1,o),Ue(i,o))}function Qt(i,o,u){if(i.tag===3)sm(i,i,u);else for(;o!==null;){if(o.tag===3){sm(o,i,u);break}else if(o.tag===1){var f=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(vi===null||!vi.has(f))){i=Ps(u,i),i=Sp(o,i,1),o=gi(o,i,1),i=Fe(),o!==null&&(hr(o,1,i),Ue(o,i));break}}o=o.return}}function Kb(i,o,u){var f=i.pingCache;f!==null&&f.delete(o),o=Fe(),i.pingedLanes|=i.suspendedLanes&u,ye===i&&(Ee&u)===u&&(de===4||de===3&&(Ee&130023424)===Ee&&500>te()-tu?$i(i,0):Jc|=u),Ue(i,o)}function rm(i,o){o===0&&((i.mode&1)===0?o=1:(o=Bo,Bo<<=1,(Bo&130023424)===0&&(Bo=4194304)));var u=Fe();i=Kn(i,o),i!==null&&(hr(i,o,u),Ue(i,u))}function qb(i){var o=i.memoizedState,u=0;o!==null&&(u=o.retryLane),rm(i,u)}function Yb(i,o){var u=0;switch(i.tag){case 13:var f=i.stateNode,g=i.memoizedState;g!==null&&(u=g.retryLane);break;case 19:f=i.stateNode;break;default:throw Error(e(314))}f!==null&&f.delete(o),rm(i,u)}var om;om=function(i,o,u){if(i!==null)if(i.memoizedProps!==o.pendingProps||Ve.current)ze=!0;else{if((i.lanes&u)===0&&(o.flags&128)===0)return ze=!1,Ob(i,o,u);ze=(i.flags&131072)!==0}else ze=!1,$t&&(o.flags&1048576)!==0&&Vf(o,la,o.index);switch(o.lanes=0,o.tag){case 2:var f=o.type;Sa(i,o),i=o.pendingProps;var g=xs(o,Te.current);Ts(o,u),g=Mc(null,o,f,i,g,u);var v=Lc();return o.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,Be(f)?(v=!0,ra(o)):v=!1,o.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,Ec(o),g.updater=xa,o.stateNode=g,g._reactInternals=o,jc(o,f,i,u),o=Hc(null,o,f,!0,v,u)):(o.tag=0,$t&&v&&pc(o),Ne(null,o,g,u),o=o.child),o;case 16:f=o.elementType;t:{switch(Sa(i,o),i=o.pendingProps,g=f._init,f=g(f._payload),o.type=f,g=o.tag=Zb(f),i=xn(f,i),g){case 0:o=zc(null,o,f,i,u);break t;case 1:o=Lp(null,o,f,i,u);break t;case 11:o=Tp(null,o,f,i,u);break t;case 14:o=kp(null,o,f,xn(f.type,i),u);break t}throw Error(e(306,f,""))}return o;case 0:return f=o.type,g=o.pendingProps,g=o.elementType===f?g:xn(f,g),zc(i,o,f,g,u);case 1:return f=o.type,g=o.pendingProps,g=o.elementType===f?g:xn(f,g),Lp(i,o,f,g,u);case 3:t:{if(Ip(o),i===null)throw Error(e(387));f=o.pendingProps,v=o.memoizedState,g=v.element,Kf(i,o),pa(o,f,null,u);var A=o.memoizedState;if(f=A.element,v.isDehydrated)if(v={element:f,isDehydrated:!1,cache:A.cache,pendingSuspenseBoundaries:A.pendingSuspenseBoundaries,transitions:A.transitions},o.updateQueue.baseState=v,o.memoizedState=v,o.flags&256){g=Ps(Error(e(423)),o),o=Dp(i,o,f,u,g);break t}else if(f!==g){g=Ps(Error(e(424)),o),o=Dp(i,o,f,u,g);break t}else for(Ye=hi(o.stateNode.containerInfo.firstChild),qe=o,$t=!0,bn=null,u=Wf(o,null,f,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Es(),f===g){o=Yn(i,o,u);break t}Ne(i,o,f,u)}o=o.child}return o;case 5:return Qf(o),i===null&&yc(o),f=o.type,g=o.pendingProps,v=i!==null?i.memoizedProps:null,A=g.children,lc(f,g)?A=null:v!==null&&lc(f,v)&&(o.flags|=32),Mp(i,o),Ne(i,o,A,u),o.child;case 6:return i===null&&yc(o),null;case 13:return Np(i,o,u);case 4:return _c(o,o.stateNode.containerInfo),f=o.pendingProps,i===null?o.child=_s(o,null,f,u):Ne(i,o,f,u),o.child;case 11:return f=o.type,g=o.pendingProps,g=o.elementType===f?g:xn(f,g),Tp(i,o,f,g,u);case 7:return Ne(i,o,o.pendingProps,u),o.child;case 8:return Ne(i,o,o.pendingProps.children,u),o.child;case 12:return Ne(i,o,o.pendingProps.children,u),o.child;case 10:t:{if(f=o.type._context,g=o.pendingProps,v=o.memoizedProps,A=g.value,zt(ha,f._currentValue),f._currentValue=A,v!==null)if(wn(v.value,A)){if(v.children===g.children&&!Ve.current){o=Yn(i,o,u);break t}}else for(v=o.child,v!==null&&(v.return=o);v!==null;){var C=v.dependencies;if(C!==null){A=v.child;for(var R=C.firstContext;R!==null;){if(R.context===f){if(v.tag===1){R=qn(-1,u&-u),R.tag=2;var B=v.updateQueue;if(B!==null){B=B.shared;var X=B.pending;X===null?R.next=R:(R.next=X.next,X.next=R),B.pending=R}}v.lanes|=u,R=v.alternate,R!==null&&(R.lanes|=u),Ac(v.return,u,o),C.lanes|=u;break}R=R.next}}else if(v.tag===10)A=v.type===o.type?null:v.child;else if(v.tag===18){if(A=v.return,A===null)throw Error(e(341));A.lanes|=u,C=A.alternate,C!==null&&(C.lanes|=u),Ac(A,u,o),A=v.sibling}else A=v.child;if(A!==null)A.return=v;else for(A=v;A!==null;){if(A===o){A=null;break}if(v=A.sibling,v!==null){v.return=A.return,A=v;break}A=A.return}v=A}Ne(i,o,g.children,u),o=o.child}return o;case 9:return g=o.type,f=o.pendingProps.children,Ts(o,u),g=rn(g),f=f(g),o.flags|=1,Ne(i,o,f,u),o.child;case 14:return f=o.type,g=xn(f,o.pendingProps),g=xn(f.type,g),kp(i,o,f,g,u);case 15:return Pp(i,o,o.type,o.pendingProps,u);case 17:return f=o.type,g=o.pendingProps,g=o.elementType===f?g:xn(f,g),Sa(i,o),o.tag=1,Be(f)?(i=!0,ra(o)):i=!1,Ts(o,u),bp(o,f,g),jc(o,f,g,u),Hc(null,o,f,!0,i,u);case 19:return Op(i,o,u);case 22:return Rp(i,o,u)}throw Error(e(156,o.tag))};function am(i,o){return Vd(i,o)}function Qb(i,o,u,f){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ln(i,o,u,f){return new Qb(i,o,u,f)}function lu(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Zb(i){if(typeof i=="function")return lu(i)?1:0;if(i!=null){if(i=i.$$typeof,i===ft)return 11;if(i===xt)return 14}return 2}function Ai(i,o){var u=i.alternate;return u===null?(u=ln(i.tag,o,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=o,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&14680064,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,o=i.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u}function Da(i,o,u,f,g,v){var A=2;if(f=i,typeof i=="function")lu(i)&&(A=1);else if(typeof i=="string")A=5;else t:switch(i){case N:return Wi(u.children,g,v,o);case L:A=8,g|=8;break;case $:return i=ln(12,u,o,g|2),i.elementType=$,i.lanes=v,i;case dt:return i=ln(13,u,o,g),i.elementType=dt,i.lanes=v,i;case nt:return i=ln(19,u,o,g),i.elementType=nt,i.lanes=v,i;case U:return Na(u,g,v,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case K:A=10;break t;case Z:A=9;break t;case ft:A=11;break t;case xt:A=14;break t;case G:A=16,f=null;break t}throw Error(e(130,i==null?i:typeof i,""))}return o=ln(A,u,o,g),o.elementType=i,o.type=f,o.lanes=v,o}function Wi(i,o,u,f){return i=ln(7,i,f,o),i.lanes=u,i}function Na(i,o,u,f){return i=ln(22,i,f,o),i.elementType=U,i.lanes=u,i.stateNode={isHidden:!1},i}function cu(i,o,u){return i=ln(6,i,null,o),i.lanes=u,i}function uu(i,o,u){return o=ln(4,i.children!==null?i.children:[],i.key,o),o.lanes=u,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function Jb(i,o,u,f,g){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ol(0),this.expirationTimes=Ol(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ol(0),this.identifierPrefix=f,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function hu(i,o,u,f,g,v,A,C,R){return i=new Jb(i,o,u,C,R),o===1?(o=1,v===!0&&(o|=8)):o=0,v=ln(3,null,null,o),i.current=v,v.stateNode=i,v.memoizedState={element:f,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ec(v),i}function tx(i,o,u){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:D,key:f==null?null:""+f,children:i,containerInfo:o,implementation:u}}function lm(i){if(!i)return fi;i=i._reactInternals;t:{if(Di(i)!==i||i.tag!==1)throw Error(e(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break t;case 1:if(Be(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break t}}o=o.return}while(o!==null);throw Error(e(171))}if(i.tag===1){var u=i.type;if(Be(u))return Ff(i,u,o)}return o}function cm(i,o,u,f,g,v,A,C,R){return i=hu(u,f,!0,i,g,v,A,C,R),i.context=lm(null),u=i.current,f=Fe(),g=bi(u),v=qn(f,g),v.callback=o??null,gi(u,v,g),i.current.lanes=g,hr(i,g,f),Ue(i,f),i}function Fa(i,o,u,f){var g=o.current,v=Fe(),A=bi(g);return u=lm(u),o.context===null?o.context=u:o.pendingContext=u,o=qn(v,A),o.payload={element:i},f=f===void 0?null:f,f!==null&&(o.callback=f),i=gi(g,o,A),i!==null&&(En(i,g,A,v),fa(i,g,A)),A}function Oa(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function um(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<o?u:o}}function du(i,o){um(i,o),(i=i.alternate)&&um(i,o)}function ex(){return null}var hm=typeof reportError=="function"?reportError:function(i){console.error(i)};function fu(i){this._internalRoot=i}ja.prototype.render=fu.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(e(409));Fa(i,o,null,null)},ja.prototype.unmount=fu.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;Ui(function(){Fa(null,i,null,null)}),o[$n]=null}};function ja(i){this._internalRoot=i}ja.prototype.unstable_scheduleHydration=function(i){if(i){var o=Xd();i={blockedOn:null,target:i,priority:o};for(var u=0;u<li.length&&o!==0&&o<li[u].priority;u++);li.splice(u,0,i),u===0&&Yd(i)}};function pu(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Va(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function dm(){}function nx(i,o,u,f,g){if(g){if(typeof f=="function"){var v=f;f=function(){var B=Oa(A);v.call(B)}}var A=cm(o,f,i,0,null,!1,!1,"",dm);return i._reactRootContainer=A,i[$n]=A.current,_r(i.nodeType===8?i.parentNode:i),Ui(),A}for(;g=i.lastChild;)i.removeChild(g);if(typeof f=="function"){var C=f;f=function(){var B=Oa(R);C.call(B)}}var R=hu(i,0,!1,null,null,!1,!1,"",dm);return i._reactRootContainer=R,i[$n]=R.current,_r(i.nodeType===8?i.parentNode:i),Ui(function(){Fa(o,R,u,f)}),R}function Ba(i,o,u,f,g){var v=u._reactRootContainer;if(v){var A=v;if(typeof g=="function"){var C=g;g=function(){var R=Oa(A);C.call(R)}}Fa(o,A,i,g)}else A=nx(u,o,i,g,f);return Oa(A)}Gd=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var u=ur(o.pendingLanes);u!==0&&(jl(o,u|1),Ue(o,te()),(Dt&6)===0&&(Ls=te()+500,pi()))}break;case 13:Ui(function(){var f=Kn(i,1);if(f!==null){var g=Fe();En(f,i,1,g)}}),du(i,1)}},Vl=function(i){if(i.tag===13){var o=Kn(i,134217728);if(o!==null){var u=Fe();En(o,i,134217728,u)}du(i,134217728)}},Wd=function(i){if(i.tag===13){var o=bi(i),u=Kn(i,o);if(u!==null){var f=Fe();En(u,i,o,f)}du(i,o)}},Xd=function(){return Ft},Kd=function(i,o){var u=Ft;try{return Ft=i,o()}finally{Ft=u}},Ml=function(i,o,u){switch(o){case"input":if(kn(i,u),o=u.name,u.type==="radio"&&o!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<u.length;o++){var f=u[o];if(f!==i&&f.form===i.form){var g=ia(f);if(!g)throw Error(e(90));Ae(f),kn(f,g)}}}break;case"textarea":Lo(i,u);break;case"select":o=u.value,o!=null&&mn(i,!!u.multiple,o,!1)}},Ld=ru,Id=Ui;var ix={usingClientEntryPoint:!1,Events:[kr,ws,ia,Rd,Md,ru]},Hr={findFiberByHostInstance:Ni,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},sx={bundleType:Hr.bundleType,version:Hr.version,rendererPackageName:Hr.rendererPackageName,rendererConfig:Hr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:P.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Od(i),i===null?null:i.stateNode},findFiberByHostInstance:Hr.findFiberByHostInstance||ex,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var za=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!za.isDisabled&&za.supportsFiber)try{jo=za.inject(sx),Pn=za}catch{}}return $e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ix,$e.createPortal=function(i,o){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!pu(o))throw Error(e(200));return tx(i,o,null,u)},$e.createRoot=function(i,o){if(!pu(i))throw Error(e(299));var u=!1,f="",g=hm;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onRecoverableError!==void 0&&(g=o.onRecoverableError)),o=hu(i,1,!1,null,null,u,!1,f,g),i[$n]=o.current,_r(i.nodeType===8?i.parentNode:i),new fu(o)},$e.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(e(188)):(i=Object.keys(i).join(","),Error(e(268,i)));return i=Od(o),i=i===null?null:i.stateNode,i},$e.flushSync=function(i){return Ui(i)},$e.hydrate=function(i,o,u){if(!Va(o))throw Error(e(200));return Ba(null,i,o,!0,u)},$e.hydrateRoot=function(i,o,u){if(!pu(i))throw Error(e(405));var f=u!=null&&u.hydratedSources||null,g=!1,v="",A=hm;if(u!=null&&(u.unstable_strictMode===!0&&(g=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onRecoverableError!==void 0&&(A=u.onRecoverableError)),o=cm(o,null,i,1,u??null,g,!1,v,A),i[$n]=o.current,_r(i),f)for(i=0;i<f.length;i++)u=f[i],g=u._getVersion,g=g(u._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[u,g]:o.mutableSourceEagerHydrationData.push(u,g);return new ja(o)},$e.render=function(i,o,u){if(!Va(o))throw Error(e(200));return Ba(null,i,o,!1,u)},$e.unmountComponentAtNode=function(i){if(!Va(i))throw Error(e(40));return i._reactRootContainer?(Ui(function(){Ba(null,null,i,!1,function(){i._reactRootContainer=null,i[$n]=null})}),!0):!1},$e.unstable_batchedUpdates=ru,$e.unstable_renderSubtreeIntoContainer=function(i,o,u,f){if(!Va(u))throw Error(e(200));if(i==null||i._reactInternals===void 0)throw Error(e(38));return Ba(i,o,u,!1,f)},$e.version="18.3.1-next-f1338f8080-20240426",$e}var bm;function dx(){if(bm)return yu.exports;bm=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),yu.exports=hx(),yu.exports}var xm;function fx(){if(xm)return Ha;xm=1;var s=dx();return Ha.createRoot=s.createRoot,Ha.hydrateRoot=s.hydrateRoot,Ha}var px=fx(),z=Ch();const es=by(z);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mx=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),gx=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,e,n)=>n?n.toUpperCase():e.toLowerCase()),Am=s=>{const t=gx(s);return t.charAt(0).toUpperCase()+t.slice(1)},xy=(...s)=>s.filter((t,e,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===e).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var yx={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vx=z.forwardRef(({color:s="currentColor",size:t=24,strokeWidth:e=2,absoluteStrokeWidth:n,className:r="",children:a,iconNode:l,...c},h)=>z.createElement("svg",{ref:h,...yx,width:t,height:t,stroke:s,strokeWidth:n?Number(e)*24/Number(t):e,className:xy("lucide",r),...c},[...l.map(([d,p])=>z.createElement(d,p)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tn=(s,t)=>{const e=z.forwardRef(({className:n,...r},a)=>z.createElement(vx,{ref:a,iconNode:t,className:xy(`lucide-${mx(Am(s))}`,`lucide-${s}`,n),...r}));return e.displayName=Am(s),e};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wx=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],bx=Tn("briefcase",wx);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xx=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Ax=Tn("external-link",xx);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sx=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Ex=Tn("file-text",Sx);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _x=[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]],rl=Tn("github",_x);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cx=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],Tx=Tn("house",Cx);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kx=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],Ay=Tn("linkedin",kx);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Px=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],Rx=Tn("mail",Px);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mx=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],Lx=Tn("moon",Mx);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ix=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Dx=Tn("send",Ix);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nx=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Fx=Tn("sun",Nx);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ox=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],jx=Tn("user",Ox);function Sm(s,t){if(typeof s=="function")return s(t);s!=null&&(s.current=t)}function Vx(...s){return t=>{let e=!1;const n=s.map(r=>{const a=Sm(r,t);return!e&&typeof a=="function"&&(e=!0),a});if(e)return()=>{for(let r=0;r<n.length;r++){const a=n[r];typeof a=="function"?a():Sm(s[r],null)}}}}function Bx(s){const t=zx(s),e=z.forwardRef((n,r)=>{const{children:a,...l}=n,c=z.Children.toArray(a),h=c.find(Ux);if(h){const d=h.props.children,p=c.map(m=>m===h?z.Children.count(d)>1?z.Children.only(null):z.isValidElement(d)?d.props.children:null:m);return F.jsx(t,{...l,ref:r,children:z.isValidElement(d)?z.cloneElement(d,void 0,p):null})}return F.jsx(t,{...l,ref:r,children:a})});return e.displayName=`${s}.Slot`,e}var Sy=Bx("Slot");function zx(s){const t=z.forwardRef((e,n)=>{const{children:r,...a}=e;if(z.isValidElement(r)){const l=Gx(r),c=$x(a,r.props);return r.type!==z.Fragment&&(c.ref=n?Vx(n,l):l),z.cloneElement(r,c)}return z.Children.count(r)>1?z.Children.only(null):null});return t.displayName=`${s}.SlotClone`,t}var Hx=Symbol("radix.slottable");function Ux(s){return z.isValidElement(s)&&typeof s.type=="function"&&"__radixId"in s.type&&s.type.__radixId===Hx}function $x(s,t){const e={...t};for(const n in t){const r=s[n],a=t[n];/^on[A-Z]/.test(n)?r&&a?e[n]=(...c)=>{const h=a(...c);return r(...c),h}:r&&(e[n]=r):n==="style"?e[n]={...r,...a}:n==="className"&&(e[n]=[r,a].filter(Boolean).join(" "))}return{...s,...e}}function Gx(s){let t=Object.getOwnPropertyDescriptor(s.props,"ref")?.get,e=t&&"isReactWarning"in t&&t.isReactWarning;return e?s.ref:(t=Object.getOwnPropertyDescriptor(s,"ref")?.get,e=t&&"isReactWarning"in t&&t.isReactWarning,e?s.props.ref:s.props.ref||s.ref)}function Ey(s){var t,e,n="";if(typeof s=="string"||typeof s=="number")n+=s;else if(typeof s=="object")if(Array.isArray(s)){var r=s.length;for(t=0;t<r;t++)s[t]&&(e=Ey(s[t]))&&(n&&(n+=" "),n+=e)}else for(e in s)s[e]&&(n&&(n+=" "),n+=e);return n}function Zs(){for(var s,t,e=0,n="",r=arguments.length;e<r;e++)(s=arguments[e])&&(t=Ey(s))&&(n&&(n+=" "),n+=t);return n}const Em=s=>typeof s=="boolean"?`${s}`:s===0?"0":s,_m=Zs,_y=(s,t)=>e=>{var n;if(t?.variants==null)return _m(s,e?.class,e?.className);const{variants:r,defaultVariants:a}=t,l=Object.keys(r).map(d=>{const p=e?.[d],m=a?.[d];if(p===null)return null;const y=Em(p)||Em(m);return r[d][y]}),c=e&&Object.entries(e).reduce((d,p)=>{let[m,y]=p;return y===void 0||(d[m]=y),d},{}),h=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((d,p)=>{let{class:m,className:y,...w}=p;return Object.entries(w).every(b=>{let[x,S]=b;return Array.isArray(S)?S.includes({...a,...c}[x]):{...a,...c}[x]===S})?[...d,m,y]:d},[]);return _m(s,l,h,e?.class,e?.className)},Th="-",Wx=s=>{const t=Kx(s),{conflictingClassGroups:e,conflictingClassGroupModifiers:n}=s;return{getClassGroupId:l=>{const c=l.split(Th);return c[0]===""&&c.length!==1&&c.shift(),Cy(c,t)||Xx(l)},getConflictingClassGroupIds:(l,c)=>{const h=e[l]||[];return c&&n[l]?[...h,...n[l]]:h}}},Cy=(s,t)=>{if(s.length===0)return t.classGroupId;const e=s[0],n=t.nextPart.get(e),r=n?Cy(s.slice(1),n):void 0;if(r)return r;if(t.validators.length===0)return;const a=s.join(Th);return t.validators.find(({validator:l})=>l(a))?.classGroupId},Cm=/^\[(.+)\]$/,Xx=s=>{if(Cm.test(s)){const t=Cm.exec(s)[1],e=t?.substring(0,t.indexOf(":"));if(e)return"arbitrary.."+e}},Kx=s=>{const{theme:t,classGroups:e}=s,n={nextPart:new Map,validators:[]};for(const r in e)Wu(e[r],n,r,t);return n},Wu=(s,t,e,n)=>{s.forEach(r=>{if(typeof r=="string"){const a=r===""?t:Tm(t,r);a.classGroupId=e;return}if(typeof r=="function"){if(qx(r)){Wu(r(n),t,e,n);return}t.validators.push({validator:r,classGroupId:e});return}Object.entries(r).forEach(([a,l])=>{Wu(l,Tm(t,a),e,n)})})},Tm=(s,t)=>{let e=s;return t.split(Th).forEach(n=>{e.nextPart.has(n)||e.nextPart.set(n,{nextPart:new Map,validators:[]}),e=e.nextPart.get(n)}),e},qx=s=>s.isThemeGetter,Yx=s=>{if(s<1)return{get:()=>{},set:()=>{}};let t=0,e=new Map,n=new Map;const r=(a,l)=>{e.set(a,l),t++,t>s&&(t=0,n=e,e=new Map)};return{get(a){let l=e.get(a);if(l!==void 0)return l;if((l=n.get(a))!==void 0)return r(a,l),l},set(a,l){e.has(a)?e.set(a,l):r(a,l)}}},Xu="!",Ku=":",Qx=Ku.length,Zx=s=>{const{prefix:t,experimentalParseClassName:e}=s;let n=r=>{const a=[];let l=0,c=0,h=0,d;for(let b=0;b<r.length;b++){let x=r[b];if(l===0&&c===0){if(x===Ku){a.push(r.slice(h,b)),h=b+Qx;continue}if(x==="/"){d=b;continue}}x==="["?l++:x==="]"?l--:x==="("?c++:x===")"&&c--}const p=a.length===0?r:r.substring(h),m=Jx(p),y=m!==p,w=d&&d>h?d-h:void 0;return{modifiers:a,hasImportantModifier:y,baseClassName:m,maybePostfixModifierPosition:w}};if(t){const r=t+Ku,a=n;n=l=>l.startsWith(r)?a(l.substring(r.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:l,maybePostfixModifierPosition:void 0}}if(e){const r=n;n=a=>e({className:a,parseClassName:r})}return n},Jx=s=>s.endsWith(Xu)?s.substring(0,s.length-1):s.startsWith(Xu)?s.substring(1):s,tA=s=>{const t=Object.fromEntries(s.orderSensitiveModifiers.map(n=>[n,!0]));return n=>{if(n.length<=1)return n;const r=[];let a=[];return n.forEach(l=>{l[0]==="["||t[l]?(r.push(...a.sort(),l),a=[]):a.push(l)}),r.push(...a.sort()),r}},eA=s=>({cache:Yx(s.cacheSize),parseClassName:Zx(s),sortModifiers:tA(s),...Wx(s)}),nA=/\s+/,iA=(s,t)=>{const{parseClassName:e,getClassGroupId:n,getConflictingClassGroupIds:r,sortModifiers:a}=t,l=[],c=s.trim().split(nA);let h="";for(let d=c.length-1;d>=0;d-=1){const p=c[d],{isExternal:m,modifiers:y,hasImportantModifier:w,baseClassName:b,maybePostfixModifierPosition:x}=e(p);if(m){h=p+(h.length>0?" "+h:h);continue}let S=!!x,E=n(S?b.substring(0,x):b);if(!E){if(!S){h=p+(h.length>0?" "+h:h);continue}if(E=n(b),!E){h=p+(h.length>0?" "+h:h);continue}S=!1}const T=a(y).join(":"),_=w?T+Xu:T,P=_+E;if(l.includes(P))continue;l.push(P);const k=r(E,S);for(let D=0;D<k.length;++D){const N=k[D];l.push(_+N)}h=p+(h.length>0?" "+h:h)}return h};function sA(){let s=0,t,e,n="";for(;s<arguments.length;)(t=arguments[s++])&&(e=Ty(t))&&(n&&(n+=" "),n+=e);return n}const Ty=s=>{if(typeof s=="string")return s;let t,e="";for(let n=0;n<s.length;n++)s[n]&&(t=Ty(s[n]))&&(e&&(e+=" "),e+=t);return e};function rA(s,...t){let e,n,r,a=l;function l(h){const d=t.reduce((p,m)=>m(p),s());return e=eA(d),n=e.cache.get,r=e.cache.set,a=c,c(h)}function c(h){const d=n(h);if(d)return d;const p=iA(h,e);return r(h,p),p}return function(){return a(sA.apply(null,arguments))}}const fe=s=>{const t=e=>e[s]||[];return t.isThemeGetter=!0,t},ky=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Py=/^\((?:(\w[\w-]*):)?(.+)\)$/i,oA=/^\d+\/\d+$/,aA=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,lA=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,cA=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,uA=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,hA=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ds=s=>oA.test(s),Pt=s=>!!s&&!Number.isNaN(Number(s)),Ei=s=>!!s&&Number.isInteger(Number(s)),bu=s=>s.endsWith("%")&&Pt(s.slice(0,-1)),Zn=s=>aA.test(s),dA=()=>!0,fA=s=>lA.test(s)&&!cA.test(s),Ry=()=>!1,pA=s=>uA.test(s),mA=s=>hA.test(s),gA=s=>!lt(s)&&!ct(s),yA=s=>Js(s,Iy,Ry),lt=s=>ky.test(s),Xi=s=>Js(s,Dy,fA),xu=s=>Js(s,AA,Pt),km=s=>Js(s,My,Ry),vA=s=>Js(s,Ly,mA),Ua=s=>Js(s,Ny,pA),ct=s=>Py.test(s),$r=s=>tr(s,Dy),wA=s=>tr(s,SA),Pm=s=>tr(s,My),bA=s=>tr(s,Iy),xA=s=>tr(s,Ly),$a=s=>tr(s,Ny,!0),Js=(s,t,e)=>{const n=ky.exec(s);return n?n[1]?t(n[1]):e(n[2]):!1},tr=(s,t,e=!1)=>{const n=Py.exec(s);return n?n[1]?t(n[1]):e:!1},My=s=>s==="position"||s==="percentage",Ly=s=>s==="image"||s==="url",Iy=s=>s==="length"||s==="size"||s==="bg-size",Dy=s=>s==="length",AA=s=>s==="number",SA=s=>s==="family-name",Ny=s=>s==="shadow",EA=()=>{const s=fe("color"),t=fe("font"),e=fe("text"),n=fe("font-weight"),r=fe("tracking"),a=fe("leading"),l=fe("breakpoint"),c=fe("container"),h=fe("spacing"),d=fe("radius"),p=fe("shadow"),m=fe("inset-shadow"),y=fe("text-shadow"),w=fe("drop-shadow"),b=fe("blur"),x=fe("perspective"),S=fe("aspect"),E=fe("ease"),T=fe("animate"),_=()=>["auto","avoid","all","avoid-page","page","left","right","column"],P=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],k=()=>[...P(),ct,lt],D=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto","contain","none"],L=()=>[ct,lt,h],$=()=>[Ds,"full","auto",...L()],K=()=>[Ei,"none","subgrid",ct,lt],Z=()=>["auto",{span:["full",Ei,ct,lt]},Ei,ct,lt],ft=()=>[Ei,"auto",ct,lt],dt=()=>["auto","min","max","fr",ct,lt],nt=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],xt=()=>["start","end","center","stretch","center-safe","end-safe"],G=()=>["auto",...L()],U=()=>[Ds,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...L()],j=()=>[s,ct,lt],tt=()=>[...P(),Pm,km,{position:[ct,lt]}],Y=()=>["no-repeat",{repeat:["","x","y","space","round"]}],I=()=>["auto","cover","contain",bA,yA,{size:[ct,lt]}],H=()=>[bu,$r,Xi],J=()=>["","none","full",d,ct,lt],st=()=>["",Pt,$r,Xi],mt=()=>["solid","dashed","dotted","double"],wt=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],et=()=>[Pt,bu,Pm,km],Ct=()=>["","none",b,ct,lt],kt=()=>["none",Pt,ct,lt],Tt=()=>["none",Pt,ct,lt],me=()=>[Pt,ct,lt],Ae=()=>[Ds,"full",...L()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Zn],breakpoint:[Zn],color:[dA],container:[Zn],"drop-shadow":[Zn],ease:["in","out","in-out"],font:[gA],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Zn],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Zn],shadow:[Zn],spacing:["px",Pt],text:[Zn],"text-shadow":[Zn],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Ds,lt,ct,S]}],container:["container"],columns:[{columns:[Pt,lt,ct,c]}],"break-after":[{"break-after":_()}],"break-before":[{"break-before":_()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:k()}],overflow:[{overflow:D()}],"overflow-x":[{"overflow-x":D()}],"overflow-y":[{"overflow-y":D()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:$()}],"inset-x":[{"inset-x":$()}],"inset-y":[{"inset-y":$()}],start:[{start:$()}],end:[{end:$()}],top:[{top:$()}],right:[{right:$()}],bottom:[{bottom:$()}],left:[{left:$()}],visibility:["visible","invisible","collapse"],z:[{z:[Ei,"auto",ct,lt]}],basis:[{basis:[Ds,"full","auto",c,...L()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Pt,Ds,"auto","initial","none",lt]}],grow:[{grow:["",Pt,ct,lt]}],shrink:[{shrink:["",Pt,ct,lt]}],order:[{order:[Ei,"first","last","none",ct,lt]}],"grid-cols":[{"grid-cols":K()}],"col-start-end":[{col:Z()}],"col-start":[{"col-start":ft()}],"col-end":[{"col-end":ft()}],"grid-rows":[{"grid-rows":K()}],"row-start-end":[{row:Z()}],"row-start":[{"row-start":ft()}],"row-end":[{"row-end":ft()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":dt()}],"auto-rows":[{"auto-rows":dt()}],gap:[{gap:L()}],"gap-x":[{"gap-x":L()}],"gap-y":[{"gap-y":L()}],"justify-content":[{justify:[...nt(),"normal"]}],"justify-items":[{"justify-items":[...xt(),"normal"]}],"justify-self":[{"justify-self":["auto",...xt()]}],"align-content":[{content:["normal",...nt()]}],"align-items":[{items:[...xt(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...xt(),{baseline:["","last"]}]}],"place-content":[{"place-content":nt()}],"place-items":[{"place-items":[...xt(),"baseline"]}],"place-self":[{"place-self":["auto",...xt()]}],p:[{p:L()}],px:[{px:L()}],py:[{py:L()}],ps:[{ps:L()}],pe:[{pe:L()}],pt:[{pt:L()}],pr:[{pr:L()}],pb:[{pb:L()}],pl:[{pl:L()}],m:[{m:G()}],mx:[{mx:G()}],my:[{my:G()}],ms:[{ms:G()}],me:[{me:G()}],mt:[{mt:G()}],mr:[{mr:G()}],mb:[{mb:G()}],ml:[{ml:G()}],"space-x":[{"space-x":L()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":L()}],"space-y-reverse":["space-y-reverse"],size:[{size:U()}],w:[{w:[c,"screen",...U()]}],"min-w":[{"min-w":[c,"screen","none",...U()]}],"max-w":[{"max-w":[c,"screen","none","prose",{screen:[l]},...U()]}],h:[{h:["screen","lh",...U()]}],"min-h":[{"min-h":["screen","lh","none",...U()]}],"max-h":[{"max-h":["screen","lh",...U()]}],"font-size":[{text:["base",e,$r,Xi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,ct,xu]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",bu,lt]}],"font-family":[{font:[wA,lt,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[r,ct,lt]}],"line-clamp":[{"line-clamp":[Pt,"none",ct,xu]}],leading:[{leading:[a,...L()]}],"list-image":[{"list-image":["none",ct,lt]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ct,lt]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:j()}],"text-color":[{text:j()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...mt(),"wavy"]}],"text-decoration-thickness":[{decoration:[Pt,"from-font","auto",ct,Xi]}],"text-decoration-color":[{decoration:j()}],"underline-offset":[{"underline-offset":[Pt,"auto",ct,lt]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:L()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ct,lt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ct,lt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:tt()}],"bg-repeat":[{bg:Y()}],"bg-size":[{bg:I()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Ei,ct,lt],radial:["",ct,lt],conic:[Ei,ct,lt]},xA,vA]}],"bg-color":[{bg:j()}],"gradient-from-pos":[{from:H()}],"gradient-via-pos":[{via:H()}],"gradient-to-pos":[{to:H()}],"gradient-from":[{from:j()}],"gradient-via":[{via:j()}],"gradient-to":[{to:j()}],rounded:[{rounded:J()}],"rounded-s":[{"rounded-s":J()}],"rounded-e":[{"rounded-e":J()}],"rounded-t":[{"rounded-t":J()}],"rounded-r":[{"rounded-r":J()}],"rounded-b":[{"rounded-b":J()}],"rounded-l":[{"rounded-l":J()}],"rounded-ss":[{"rounded-ss":J()}],"rounded-se":[{"rounded-se":J()}],"rounded-ee":[{"rounded-ee":J()}],"rounded-es":[{"rounded-es":J()}],"rounded-tl":[{"rounded-tl":J()}],"rounded-tr":[{"rounded-tr":J()}],"rounded-br":[{"rounded-br":J()}],"rounded-bl":[{"rounded-bl":J()}],"border-w":[{border:st()}],"border-w-x":[{"border-x":st()}],"border-w-y":[{"border-y":st()}],"border-w-s":[{"border-s":st()}],"border-w-e":[{"border-e":st()}],"border-w-t":[{"border-t":st()}],"border-w-r":[{"border-r":st()}],"border-w-b":[{"border-b":st()}],"border-w-l":[{"border-l":st()}],"divide-x":[{"divide-x":st()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":st()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...mt(),"hidden","none"]}],"divide-style":[{divide:[...mt(),"hidden","none"]}],"border-color":[{border:j()}],"border-color-x":[{"border-x":j()}],"border-color-y":[{"border-y":j()}],"border-color-s":[{"border-s":j()}],"border-color-e":[{"border-e":j()}],"border-color-t":[{"border-t":j()}],"border-color-r":[{"border-r":j()}],"border-color-b":[{"border-b":j()}],"border-color-l":[{"border-l":j()}],"divide-color":[{divide:j()}],"outline-style":[{outline:[...mt(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Pt,ct,lt]}],"outline-w":[{outline:["",Pt,$r,Xi]}],"outline-color":[{outline:j()}],shadow:[{shadow:["","none",p,$a,Ua]}],"shadow-color":[{shadow:j()}],"inset-shadow":[{"inset-shadow":["none",m,$a,Ua]}],"inset-shadow-color":[{"inset-shadow":j()}],"ring-w":[{ring:st()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:j()}],"ring-offset-w":[{"ring-offset":[Pt,Xi]}],"ring-offset-color":[{"ring-offset":j()}],"inset-ring-w":[{"inset-ring":st()}],"inset-ring-color":[{"inset-ring":j()}],"text-shadow":[{"text-shadow":["none",y,$a,Ua]}],"text-shadow-color":[{"text-shadow":j()}],opacity:[{opacity:[Pt,ct,lt]}],"mix-blend":[{"mix-blend":[...wt(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":wt()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Pt]}],"mask-image-linear-from-pos":[{"mask-linear-from":et()}],"mask-image-linear-to-pos":[{"mask-linear-to":et()}],"mask-image-linear-from-color":[{"mask-linear-from":j()}],"mask-image-linear-to-color":[{"mask-linear-to":j()}],"mask-image-t-from-pos":[{"mask-t-from":et()}],"mask-image-t-to-pos":[{"mask-t-to":et()}],"mask-image-t-from-color":[{"mask-t-from":j()}],"mask-image-t-to-color":[{"mask-t-to":j()}],"mask-image-r-from-pos":[{"mask-r-from":et()}],"mask-image-r-to-pos":[{"mask-r-to":et()}],"mask-image-r-from-color":[{"mask-r-from":j()}],"mask-image-r-to-color":[{"mask-r-to":j()}],"mask-image-b-from-pos":[{"mask-b-from":et()}],"mask-image-b-to-pos":[{"mask-b-to":et()}],"mask-image-b-from-color":[{"mask-b-from":j()}],"mask-image-b-to-color":[{"mask-b-to":j()}],"mask-image-l-from-pos":[{"mask-l-from":et()}],"mask-image-l-to-pos":[{"mask-l-to":et()}],"mask-image-l-from-color":[{"mask-l-from":j()}],"mask-image-l-to-color":[{"mask-l-to":j()}],"mask-image-x-from-pos":[{"mask-x-from":et()}],"mask-image-x-to-pos":[{"mask-x-to":et()}],"mask-image-x-from-color":[{"mask-x-from":j()}],"mask-image-x-to-color":[{"mask-x-to":j()}],"mask-image-y-from-pos":[{"mask-y-from":et()}],"mask-image-y-to-pos":[{"mask-y-to":et()}],"mask-image-y-from-color":[{"mask-y-from":j()}],"mask-image-y-to-color":[{"mask-y-to":j()}],"mask-image-radial":[{"mask-radial":[ct,lt]}],"mask-image-radial-from-pos":[{"mask-radial-from":et()}],"mask-image-radial-to-pos":[{"mask-radial-to":et()}],"mask-image-radial-from-color":[{"mask-radial-from":j()}],"mask-image-radial-to-color":[{"mask-radial-to":j()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":P()}],"mask-image-conic-pos":[{"mask-conic":[Pt]}],"mask-image-conic-from-pos":[{"mask-conic-from":et()}],"mask-image-conic-to-pos":[{"mask-conic-to":et()}],"mask-image-conic-from-color":[{"mask-conic-from":j()}],"mask-image-conic-to-color":[{"mask-conic-to":j()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:tt()}],"mask-repeat":[{mask:Y()}],"mask-size":[{mask:I()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ct,lt]}],filter:[{filter:["","none",ct,lt]}],blur:[{blur:Ct()}],brightness:[{brightness:[Pt,ct,lt]}],contrast:[{contrast:[Pt,ct,lt]}],"drop-shadow":[{"drop-shadow":["","none",w,$a,Ua]}],"drop-shadow-color":[{"drop-shadow":j()}],grayscale:[{grayscale:["",Pt,ct,lt]}],"hue-rotate":[{"hue-rotate":[Pt,ct,lt]}],invert:[{invert:["",Pt,ct,lt]}],saturate:[{saturate:[Pt,ct,lt]}],sepia:[{sepia:["",Pt,ct,lt]}],"backdrop-filter":[{"backdrop-filter":["","none",ct,lt]}],"backdrop-blur":[{"backdrop-blur":Ct()}],"backdrop-brightness":[{"backdrop-brightness":[Pt,ct,lt]}],"backdrop-contrast":[{"backdrop-contrast":[Pt,ct,lt]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Pt,ct,lt]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Pt,ct,lt]}],"backdrop-invert":[{"backdrop-invert":["",Pt,ct,lt]}],"backdrop-opacity":[{"backdrop-opacity":[Pt,ct,lt]}],"backdrop-saturate":[{"backdrop-saturate":[Pt,ct,lt]}],"backdrop-sepia":[{"backdrop-sepia":["",Pt,ct,lt]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":L()}],"border-spacing-x":[{"border-spacing-x":L()}],"border-spacing-y":[{"border-spacing-y":L()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ct,lt]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Pt,"initial",ct,lt]}],ease:[{ease:["linear","initial",E,ct,lt]}],delay:[{delay:[Pt,ct,lt]}],animate:[{animate:["none",T,ct,lt]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[x,ct,lt]}],"perspective-origin":[{"perspective-origin":k()}],rotate:[{rotate:kt()}],"rotate-x":[{"rotate-x":kt()}],"rotate-y":[{"rotate-y":kt()}],"rotate-z":[{"rotate-z":kt()}],scale:[{scale:Tt()}],"scale-x":[{"scale-x":Tt()}],"scale-y":[{"scale-y":Tt()}],"scale-z":[{"scale-z":Tt()}],"scale-3d":["scale-3d"],skew:[{skew:me()}],"skew-x":[{"skew-x":me()}],"skew-y":[{"skew-y":me()}],transform:[{transform:[ct,lt,"","none","gpu","cpu"]}],"transform-origin":[{origin:k()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ae()}],"translate-x":[{"translate-x":Ae()}],"translate-y":[{"translate-y":Ae()}],"translate-z":[{"translate-z":Ae()}],"translate-none":["translate-none"],accent:[{accent:j()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:j()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ct,lt]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":L()}],"scroll-mx":[{"scroll-mx":L()}],"scroll-my":[{"scroll-my":L()}],"scroll-ms":[{"scroll-ms":L()}],"scroll-me":[{"scroll-me":L()}],"scroll-mt":[{"scroll-mt":L()}],"scroll-mr":[{"scroll-mr":L()}],"scroll-mb":[{"scroll-mb":L()}],"scroll-ml":[{"scroll-ml":L()}],"scroll-p":[{"scroll-p":L()}],"scroll-px":[{"scroll-px":L()}],"scroll-py":[{"scroll-py":L()}],"scroll-ps":[{"scroll-ps":L()}],"scroll-pe":[{"scroll-pe":L()}],"scroll-pt":[{"scroll-pt":L()}],"scroll-pr":[{"scroll-pr":L()}],"scroll-pb":[{"scroll-pb":L()}],"scroll-pl":[{"scroll-pl":L()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ct,lt]}],fill:[{fill:["none",...j()]}],"stroke-w":[{stroke:[Pt,$r,Xi,xu]}],stroke:[{stroke:["none",...j()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},_A=rA(EA);function as(...s){return _A(Zs(s))}const CA=_y("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function Ci({className:s,variant:t,size:e,asChild:n=!1,...r}){const a=n?Sy:"button";return F.jsx(a,{"data-slot":"button",className:as(CA({variant:t,size:e,className:s})),...r})}function TA({activeTab:s,setActiveTab:t,isDark:e,setIsDark:n}){const r=[{id:"home",label:"Home",icon:Tx},{id:"about",label:"About",icon:jx},{id:"projects",label:"Projects",icon:bx},{id:"resume",label:"Resume",icon:Ex}],a=()=>{n(!e),document.documentElement.classList.toggle("dark")};return F.jsxs("nav",{className:"fixed top-0 left-0 right-0 z-50 bg-background/80 backdrop-blur-md border-b border-border",children:[F.jsxs("div",{className:"container mx-auto px-4 py-3 flex items-center justify-between",children:[F.jsx("h1",{className:"text-xl font-semibold",children:"Wei Ying's Portfolio"}),F.jsx("div",{className:"hidden md:flex items-center space-x-2",children:r.map(l=>{const c=l.icon;return F.jsxs(Ci,{variant:s===l.id?"default":"ghost",onClick:()=>{l.id==="resume"?window.open("/lee-wei-ying-resume.pdf","_blank"):t(l.id)},className:"flex items-center space-x-1 px-3 py-2",children:[F.jsx(c,{size:16}),F.jsx("span",{children:l.label})]},l.id)})}),F.jsx(Ci,{variant:"ghost",size:"icon",onClick:a,children:e?F.jsx(Fx,{size:20}):F.jsx(Lx,{size:20})})]}),F.jsx("div",{className:"md:hidden flex justify-center space-x-1 mt-3",children:r.map(l=>{const c=l.icon;return F.jsx(Ci,{variant:s===l.id?"default":"ghost",size:"sm",className:"flex-1",onClick:()=>{l.id==="resume"?window.open("/lee-wei-ying-resume.pdf","_blank"):t(l.id)},children:F.jsx(c,{size:16})},l.id)})})]})}const Fy=z.createContext({});function kA(s){const t=z.useRef(null);return t.current===null&&(t.current=s()),t.current}const kh=typeof window<"u",PA=kh?z.useLayoutEffect:z.useEffect,Ph=z.createContext(null);function Rh(s,t){s.indexOf(t)===-1&&s.push(t)}function Mh(s,t){const e=s.indexOf(t);e>-1&&s.splice(e,1)}const ti=(s,t,e)=>e>t?t:e<s?s:e;let Lh=()=>{};const ei={},Oy=s=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(s);function jy(s){return typeof s=="object"&&s!==null}const Vy=s=>/^0[^.\s]+$/u.test(s);function Ih(s){let t;return()=>(t===void 0&&(t=s()),t)}const fn=s=>s,RA=(s,t)=>e=>t(s(e)),vo=(...s)=>s.reduce(RA),oo=(s,t,e)=>{const n=t-s;return n===0?1:(e-s)/n};class Dh{constructor(){this.subscriptions=[]}add(t){return Rh(this.subscriptions,t),()=>Mh(this.subscriptions,t)}notify(t,e,n){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](t,e,n);else for(let a=0;a<r;a++){const l=this.subscriptions[a];l&&l(t,e,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Bn=s=>s*1e3,zn=s=>s/1e3;function By(s,t){return t?s*(1e3/t):0}const zy=(s,t,e)=>(((1-3*e+3*t)*s+(3*e-6*t))*s+3*t)*s,MA=1e-7,LA=12;function IA(s,t,e,n,r){let a,l,c=0;do l=t+(e-t)/2,a=zy(l,n,r)-s,a>0?e=l:t=l;while(Math.abs(a)>MA&&++c<LA);return l}function wo(s,t,e,n){if(s===t&&e===n)return fn;const r=a=>IA(a,0,1,s,e);return a=>a===0||a===1?a:zy(r(a),t,n)}const Hy=s=>t=>t<=.5?s(2*t)/2:(2-s(2*(1-t)))/2,Uy=s=>t=>1-s(1-t),$y=wo(.33,1.53,.69,.99),Nh=Uy($y),Gy=Hy(Nh),Wy=s=>(s*=2)<1?.5*Nh(s):.5*(2-Math.pow(2,-10*(s-1))),Fh=s=>1-Math.sin(Math.acos(s)),Xy=Uy(Fh),Ky=Hy(Fh),DA=wo(.42,0,1,1),NA=wo(0,0,.58,1),qy=wo(.42,0,.58,1),FA=s=>Array.isArray(s)&&typeof s[0]!="number",Yy=s=>Array.isArray(s)&&typeof s[0]=="number",OA={linear:fn,easeIn:DA,easeInOut:qy,easeOut:NA,circIn:Fh,circInOut:Ky,circOut:Xy,backIn:Nh,backInOut:Gy,backOut:$y,anticipate:Wy},jA=s=>typeof s=="string",Rm=s=>{if(Yy(s)){Lh(s.length===4);const[t,e,n,r]=s;return wo(t,e,n,r)}else if(jA(s))return OA[s];return s},Ga=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function VA(s,t){let e=new Set,n=new Set,r=!1,a=!1;const l=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function h(p){l.has(p)&&(d.schedule(p),s()),p(c)}const d={schedule:(p,m=!1,y=!1)=>{const b=y&&r?e:n;return m&&l.add(p),b.has(p)||b.add(p),p},cancel:p=>{n.delete(p),l.delete(p)},process:p=>{if(c=p,r){a=!0;return}r=!0,[e,n]=[n,e],e.forEach(h),e.clear(),r=!1,a&&(a=!1,d.process(p))}};return d}const BA=40;function Qy(s,t){let e=!1,n=!0;const r={delta:0,timestamp:0,isProcessing:!1},a=()=>e=!0,l=Ga.reduce((_,P)=>(_[P]=VA(a),_),{}),{setup:c,read:h,resolveKeyframes:d,preUpdate:p,update:m,preRender:y,render:w,postRender:b}=l,x=()=>{const _=ei.useManualTiming?r.timestamp:performance.now();e=!1,ei.useManualTiming||(r.delta=n?1e3/60:Math.max(Math.min(_-r.timestamp,BA),1)),r.timestamp=_,r.isProcessing=!0,c.process(r),h.process(r),d.process(r),p.process(r),m.process(r),y.process(r),w.process(r),b.process(r),r.isProcessing=!1,e&&t&&(n=!1,s(x))},S=()=>{e=!0,n=!0,r.isProcessing||s(x)};return{schedule:Ga.reduce((_,P)=>{const k=l[P];return _[P]=(D,N=!1,L=!1)=>(e||S(),k.schedule(D,N,L)),_},{}),cancel:_=>{for(let P=0;P<Ga.length;P++)l[Ga[P]].cancel(_)},state:r,steps:l}}const{schedule:Gt,cancel:ki,state:_e,steps:Au}=Qy(typeof requestAnimationFrame<"u"?requestAnimationFrame:fn,!0);let el;function zA(){el=void 0}const Xe={now:()=>(el===void 0&&Xe.set(_e.isProcessing||ei.useManualTiming?_e.timestamp:performance.now()),el),set:s=>{el=s,queueMicrotask(zA)}},Zy=s=>t=>typeof t=="string"&&t.startsWith(s),Oh=Zy("--"),HA=Zy("var(--"),jh=s=>HA(s)?UA.test(s.split("/*")[0].trim()):!1,UA=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,er={test:s=>typeof s=="number",parse:parseFloat,transform:s=>s},ao={...er,transform:s=>ti(0,1,s)},Wa={...er,default:1},Jr=s=>Math.round(s*1e5)/1e5,Vh=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function $A(s){return s==null}const GA=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Bh=(s,t)=>e=>!!(typeof e=="string"&&GA.test(e)&&e.startsWith(s)||t&&!$A(e)&&Object.prototype.hasOwnProperty.call(e,t)),Jy=(s,t,e)=>n=>{if(typeof n!="string")return n;const[r,a,l,c]=n.match(Vh);return{[s]:parseFloat(r),[t]:parseFloat(a),[e]:parseFloat(l),alpha:c!==void 0?parseFloat(c):1}},WA=s=>ti(0,255,s),Su={...er,transform:s=>Math.round(WA(s))},Zi={test:Bh("rgb","red"),parse:Jy("red","green","blue"),transform:({red:s,green:t,blue:e,alpha:n=1})=>"rgba("+Su.transform(s)+", "+Su.transform(t)+", "+Su.transform(e)+", "+Jr(ao.transform(n))+")"};function XA(s){let t="",e="",n="",r="";return s.length>5?(t=s.substring(1,3),e=s.substring(3,5),n=s.substring(5,7),r=s.substring(7,9)):(t=s.substring(1,2),e=s.substring(2,3),n=s.substring(3,4),r=s.substring(4,5),t+=t,e+=e,n+=n,r+=r),{red:parseInt(t,16),green:parseInt(e,16),blue:parseInt(n,16),alpha:r?parseInt(r,16)/255:1}}const qu={test:Bh("#"),parse:XA,transform:Zi.transform},bo=s=>({test:t=>typeof t=="string"&&t.endsWith(s)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${s}`}),_i=bo("deg"),Hn=bo("%"),At=bo("px"),KA=bo("vh"),qA=bo("vw"),Mm={...Hn,parse:s=>Hn.parse(s)/100,transform:s=>Hn.transform(s*100)},Os={test:Bh("hsl","hue"),parse:Jy("hue","saturation","lightness"),transform:({hue:s,saturation:t,lightness:e,alpha:n=1})=>"hsla("+Math.round(s)+", "+Hn.transform(Jr(t))+", "+Hn.transform(Jr(e))+", "+Jr(ao.transform(n))+")"},ce={test:s=>Zi.test(s)||qu.test(s)||Os.test(s),parse:s=>Zi.test(s)?Zi.parse(s):Os.test(s)?Os.parse(s):qu.parse(s),transform:s=>typeof s=="string"?s:s.hasOwnProperty("red")?Zi.transform(s):Os.transform(s),getAnimatableNone:s=>{const t=ce.parse(s);return t.alpha=0,ce.transform(t)}},YA=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function QA(s){return isNaN(s)&&typeof s=="string"&&(s.match(Vh)?.length||0)+(s.match(YA)?.length||0)>0}const tv="number",ev="color",ZA="var",JA="var(",Lm="${}",tS=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function lo(s){const t=s.toString(),e=[],n={color:[],number:[],var:[]},r=[];let a=0;const c=t.replace(tS,h=>(ce.test(h)?(n.color.push(a),r.push(ev),e.push(ce.parse(h))):h.startsWith(JA)?(n.var.push(a),r.push(ZA),e.push(h)):(n.number.push(a),r.push(tv),e.push(parseFloat(h))),++a,Lm)).split(Lm);return{values:e,split:c,indexes:n,types:r}}function nv(s){return lo(s).values}function iv(s){const{split:t,types:e}=lo(s),n=t.length;return r=>{let a="";for(let l=0;l<n;l++)if(a+=t[l],r[l]!==void 0){const c=e[l];c===tv?a+=Jr(r[l]):c===ev?a+=ce.transform(r[l]):a+=r[l]}return a}}const eS=s=>typeof s=="number"?0:ce.test(s)?ce.getAnimatableNone(s):s;function nS(s){const t=nv(s);return iv(s)(t.map(eS))}const Pi={test:QA,parse:nv,createTransformer:iv,getAnimatableNone:nS};function Eu(s,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?s+(t-s)*6*e:e<1/2?t:e<2/3?s+(t-s)*(2/3-e)*6:s}function iS({hue:s,saturation:t,lightness:e,alpha:n}){s/=360,t/=100,e/=100;let r=0,a=0,l=0;if(!t)r=a=l=e;else{const c=e<.5?e*(1+t):e+t-e*t,h=2*e-c;r=Eu(h,c,s+1/3),a=Eu(h,c,s),l=Eu(h,c,s-1/3)}return{red:Math.round(r*255),green:Math.round(a*255),blue:Math.round(l*255),alpha:n}}function ol(s,t){return e=>e>0?t:s}const qt=(s,t,e)=>s+(t-s)*e,_u=(s,t,e)=>{const n=s*s,r=e*(t*t-n)+n;return r<0?0:Math.sqrt(r)},sS=[qu,Zi,Os],rS=s=>sS.find(t=>t.test(s));function Im(s){const t=rS(s);if(!t)return!1;let e=t.parse(s);return t===Os&&(e=iS(e)),e}const Dm=(s,t)=>{const e=Im(s),n=Im(t);if(!e||!n)return ol(s,t);const r={...e};return a=>(r.red=_u(e.red,n.red,a),r.green=_u(e.green,n.green,a),r.blue=_u(e.blue,n.blue,a),r.alpha=qt(e.alpha,n.alpha,a),Zi.transform(r))},Yu=new Set(["none","hidden"]);function oS(s,t){return Yu.has(s)?e=>e<=0?s:t:e=>e>=1?t:s}function aS(s,t){return e=>qt(s,t,e)}function zh(s){return typeof s=="number"?aS:typeof s=="string"?jh(s)?ol:ce.test(s)?Dm:uS:Array.isArray(s)?sv:typeof s=="object"?ce.test(s)?Dm:lS:ol}function sv(s,t){const e=[...s],n=e.length,r=s.map((a,l)=>zh(a)(a,t[l]));return a=>{for(let l=0;l<n;l++)e[l]=r[l](a);return e}}function lS(s,t){const e={...s,...t},n={};for(const r in e)s[r]!==void 0&&t[r]!==void 0&&(n[r]=zh(s[r])(s[r],t[r]));return r=>{for(const a in n)e[a]=n[a](r);return e}}function cS(s,t){const e=[],n={color:0,var:0,number:0};for(let r=0;r<t.values.length;r++){const a=t.types[r],l=s.indexes[a][n[a]],c=s.values[l]??0;e[r]=c,n[a]++}return e}const uS=(s,t)=>{const e=Pi.createTransformer(t),n=lo(s),r=lo(t);return n.indexes.var.length===r.indexes.var.length&&n.indexes.color.length===r.indexes.color.length&&n.indexes.number.length>=r.indexes.number.length?Yu.has(s)&&!r.values.length||Yu.has(t)&&!n.values.length?oS(s,t):vo(sv(cS(n,r),r.values),e):ol(s,t)};function rv(s,t,e){return typeof s=="number"&&typeof t=="number"&&typeof e=="number"?qt(s,t,e):zh(s)(s,t)}const hS=s=>{const t=({timestamp:e})=>s(e);return{start:(e=!0)=>Gt.update(t,e),stop:()=>ki(t),now:()=>_e.isProcessing?_e.timestamp:Xe.now()}},ov=(s,t,e=10)=>{let n="";const r=Math.max(Math.round(t/e),2);for(let a=0;a<r;a++)n+=Math.round(s(a/(r-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},al=2e4;function Hh(s){let t=0;const e=50;let n=s.next(t);for(;!n.done&&t<al;)t+=e,n=s.next(t);return t>=al?1/0:t}function dS(s,t=100,e){const n=e({...s,keyframes:[0,t]}),r=Math.min(Hh(n),al);return{type:"keyframes",ease:a=>n.next(r*a).value/t,duration:zn(r)}}const fS=5;function av(s,t,e){const n=Math.max(t-fS,0);return By(e-s(n),t-n)}const Zt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Cu=.001;function pS({duration:s=Zt.duration,bounce:t=Zt.bounce,velocity:e=Zt.velocity,mass:n=Zt.mass}){let r,a,l=1-t;l=ti(Zt.minDamping,Zt.maxDamping,l),s=ti(Zt.minDuration,Zt.maxDuration,zn(s)),l<1?(r=d=>{const p=d*l,m=p*s,y=p-e,w=Qu(d,l),b=Math.exp(-m);return Cu-y/w*b},a=d=>{const m=d*l*s,y=m*e+e,w=Math.pow(l,2)*Math.pow(d,2)*s,b=Math.exp(-m),x=Qu(Math.pow(d,2),l);return(-r(d)+Cu>0?-1:1)*((y-w)*b)/x}):(r=d=>{const p=Math.exp(-d*s),m=(d-e)*s+1;return-Cu+p*m},a=d=>{const p=Math.exp(-d*s),m=(e-d)*(s*s);return p*m});const c=5/s,h=gS(r,a,c);if(s=Bn(s),isNaN(h))return{stiffness:Zt.stiffness,damping:Zt.damping,duration:s};{const d=Math.pow(h,2)*n;return{stiffness:d,damping:l*2*Math.sqrt(n*d),duration:s}}}const mS=12;function gS(s,t,e){let n=e;for(let r=1;r<mS;r++)n=n-s(n)/t(n);return n}function Qu(s,t){return s*Math.sqrt(1-t*t)}const yS=["duration","bounce"],vS=["stiffness","damping","mass"];function Nm(s,t){return t.some(e=>s[e]!==void 0)}function wS(s){let t={velocity:Zt.velocity,stiffness:Zt.stiffness,damping:Zt.damping,mass:Zt.mass,isResolvedFromDuration:!1,...s};if(!Nm(s,vS)&&Nm(s,yS))if(s.visualDuration){const e=s.visualDuration,n=2*Math.PI/(e*1.2),r=n*n,a=2*ti(.05,1,1-(s.bounce||0))*Math.sqrt(r);t={...t,mass:Zt.mass,stiffness:r,damping:a}}else{const e=pS(s);t={...t,...e,mass:Zt.mass},t.isResolvedFromDuration=!0}return t}function ll(s=Zt.visualDuration,t=Zt.bounce){const e=typeof s!="object"?{visualDuration:s,keyframes:[0,1],bounce:t}:s;let{restSpeed:n,restDelta:r}=e;const a=e.keyframes[0],l=e.keyframes[e.keyframes.length-1],c={done:!1,value:a},{stiffness:h,damping:d,mass:p,duration:m,velocity:y,isResolvedFromDuration:w}=wS({...e,velocity:-zn(e.velocity||0)}),b=y||0,x=d/(2*Math.sqrt(h*p)),S=l-a,E=zn(Math.sqrt(h/p)),T=Math.abs(S)<5;n||(n=T?Zt.restSpeed.granular:Zt.restSpeed.default),r||(r=T?Zt.restDelta.granular:Zt.restDelta.default);let _;if(x<1){const k=Qu(E,x);_=D=>{const N=Math.exp(-x*E*D);return l-N*((b+x*E*S)/k*Math.sin(k*D)+S*Math.cos(k*D))}}else if(x===1)_=k=>l-Math.exp(-E*k)*(S+(b+E*S)*k);else{const k=E*Math.sqrt(x*x-1);_=D=>{const N=Math.exp(-x*E*D),L=Math.min(k*D,300);return l-N*((b+x*E*S)*Math.sinh(L)+k*S*Math.cosh(L))/k}}const P={calculatedDuration:w&&m||null,next:k=>{const D=_(k);if(w)c.done=k>=m;else{let N=k===0?b:0;x<1&&(N=k===0?Bn(b):av(_,k,D));const L=Math.abs(N)<=n,$=Math.abs(l-D)<=r;c.done=L&&$}return c.value=c.done?l:D,c},toString:()=>{const k=Math.min(Hh(P),al),D=ov(N=>P.next(k*N).value,k,30);return k+"ms "+D},toTransition:()=>{}};return P}ll.applyToOptions=s=>{const t=dS(s,100,ll);return s.ease=t.ease,s.duration=Bn(t.duration),s.type="keyframes",s};function Zu({keyframes:s,velocity:t=0,power:e=.8,timeConstant:n=325,bounceDamping:r=10,bounceStiffness:a=500,modifyTarget:l,min:c,max:h,restDelta:d=.5,restSpeed:p}){const m=s[0],y={done:!1,value:m},w=L=>c!==void 0&&L<c||h!==void 0&&L>h,b=L=>c===void 0?h:h===void 0||Math.abs(c-L)<Math.abs(h-L)?c:h;let x=e*t;const S=m+x,E=l===void 0?S:l(S);E!==S&&(x=E-m);const T=L=>-x*Math.exp(-L/n),_=L=>E+T(L),P=L=>{const $=T(L),K=_(L);y.done=Math.abs($)<=d,y.value=y.done?E:K};let k,D;const N=L=>{w(y.value)&&(k=L,D=ll({keyframes:[y.value,b(y.value)],velocity:av(_,L,y.value),damping:r,stiffness:a,restDelta:d,restSpeed:p}))};return N(0),{calculatedDuration:null,next:L=>{let $=!1;return!D&&k===void 0&&($=!0,P(L),N(L)),k!==void 0&&L>=k?D.next(L-k):(!$&&P(L),y)}}}function bS(s,t,e){const n=[],r=e||ei.mix||rv,a=s.length-1;for(let l=0;l<a;l++){let c=r(s[l],s[l+1]);if(t){const h=Array.isArray(t)?t[l]||fn:t;c=vo(h,c)}n.push(c)}return n}function xS(s,t,{clamp:e=!0,ease:n,mixer:r}={}){const a=s.length;if(Lh(a===t.length),a===1)return()=>t[0];if(a===2&&t[0]===t[1])return()=>t[1];const l=s[0]===s[1];s[0]>s[a-1]&&(s=[...s].reverse(),t=[...t].reverse());const c=bS(t,n,r),h=c.length,d=p=>{if(l&&p<s[0])return t[0];let m=0;if(h>1)for(;m<s.length-2&&!(p<s[m+1]);m++);const y=oo(s[m],s[m+1],p);return c[m](y)};return e?p=>d(ti(s[0],s[a-1],p)):d}function AS(s,t){const e=s[s.length-1];for(let n=1;n<=t;n++){const r=oo(0,t,n);s.push(qt(e,1,r))}}function SS(s){const t=[0];return AS(t,s.length-1),t}function ES(s,t){return s.map(e=>e*t)}function _S(s,t){return s.map(()=>t||qy).splice(0,s.length-1)}function to({duration:s=300,keyframes:t,times:e,ease:n="easeInOut"}){const r=FA(n)?n.map(Rm):Rm(n),a={done:!1,value:t[0]},l=ES(e&&e.length===t.length?e:SS(t),s),c=xS(l,t,{ease:Array.isArray(r)?r:_S(t,r)});return{calculatedDuration:s,next:h=>(a.value=c(h),a.done=h>=s,a)}}const CS=s=>s!==null;function Uh(s,{repeat:t,repeatType:e="loop"},n,r=1){const a=s.filter(CS),c=r<0||t&&e!=="loop"&&t%2===1?0:a.length-1;return!c||n===void 0?a[c]:n}const TS={decay:Zu,inertia:Zu,tween:to,keyframes:to,spring:ll};function lv(s){typeof s.type=="string"&&(s.type=TS[s.type])}class $h{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,e){return this.finished.then(t,e)}}const kS=s=>s/100;class Gh extends $h{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:e}=this.options;e&&e.updatedAt!==Xe.now()&&this.tick(Xe.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;lv(t);const{type:e=to,repeat:n=0,repeatDelay:r=0,repeatType:a,velocity:l=0}=t;let{keyframes:c}=t;const h=e||to;h!==to&&typeof c[0]!="number"&&(this.mixKeyframes=vo(kS,rv(c[0],c[1])),c=[0,100]);const d=h({...t,keyframes:c});a==="mirror"&&(this.mirroredGenerator=h({...t,keyframes:[...c].reverse(),velocity:-l})),d.calculatedDuration===null&&(d.calculatedDuration=Hh(d));const{calculatedDuration:p}=d;this.calculatedDuration=p,this.resolvedDuration=p+r,this.totalDuration=this.resolvedDuration*(n+1)-r,this.generator=d}updateTime(t){const e=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=e}tick(t,e=!1){const{generator:n,totalDuration:r,mixKeyframes:a,mirroredGenerator:l,resolvedDuration:c,calculatedDuration:h}=this;if(this.startTime===null)return n.next(0);const{delay:d=0,keyframes:p,repeat:m,repeatType:y,repeatDelay:w,type:b,onUpdate:x,finalKeyframe:S}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-r/this.speed,this.startTime)),e?this.currentTime=t:this.updateTime(t);const E=this.currentTime-d*(this.playbackSpeed>=0?1:-1),T=this.playbackSpeed>=0?E<0:E>r;this.currentTime=Math.max(E,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=r);let _=this.currentTime,P=n;if(m){const L=Math.min(this.currentTime,r)/c;let $=Math.floor(L),K=L%1;!K&&L>=1&&(K=1),K===1&&$--,$=Math.min($,m+1),!!($%2)&&(y==="reverse"?(K=1-K,w&&(K-=w/c)):y==="mirror"&&(P=l)),_=ti(0,1,K)*c}const k=T?{done:!1,value:p[0]}:P.next(_);a&&(k.value=a(k.value));let{done:D}=k;!T&&h!==null&&(D=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const N=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&D);return N&&b!==Zu&&(k.value=Uh(p,this.options,S,this.speed)),x&&x(k.value),N&&this.finish(),k}then(t,e){return this.finished.then(t,e)}get duration(){return zn(this.calculatedDuration)}get time(){return zn(this.currentTime)}set time(t){t=Bn(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Xe.now());const e=this.playbackSpeed!==t;this.playbackSpeed=t,e&&(this.time=zn(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=hS,startTime:e}=this.options;this.driver||(this.driver=t(r=>this.tick(r))),this.options.onPlay?.();const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=e??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Xe.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function PS(s){for(let t=1;t<s.length;t++)s[t]??(s[t]=s[t-1])}const Ji=s=>s*180/Math.PI,Ju=s=>{const t=Ji(Math.atan2(s[1],s[0]));return th(t)},RS={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:s=>(Math.abs(s[0])+Math.abs(s[3]))/2,rotate:Ju,rotateZ:Ju,skewX:s=>Ji(Math.atan(s[1])),skewY:s=>Ji(Math.atan(s[2])),skew:s=>(Math.abs(s[1])+Math.abs(s[2]))/2},th=s=>(s=s%360,s<0&&(s+=360),s),Fm=Ju,Om=s=>Math.sqrt(s[0]*s[0]+s[1]*s[1]),jm=s=>Math.sqrt(s[4]*s[4]+s[5]*s[5]),MS={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Om,scaleY:jm,scale:s=>(Om(s)+jm(s))/2,rotateX:s=>th(Ji(Math.atan2(s[6],s[5]))),rotateY:s=>th(Ji(Math.atan2(-s[2],s[0]))),rotateZ:Fm,rotate:Fm,skewX:s=>Ji(Math.atan(s[4])),skewY:s=>Ji(Math.atan(s[1])),skew:s=>(Math.abs(s[1])+Math.abs(s[4]))/2};function eh(s){return s.includes("scale")?1:0}function nh(s,t){if(!s||s==="none")return eh(t);const e=s.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,r;if(e)n=MS,r=e;else{const c=s.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=RS,r=c}if(!r)return eh(t);const a=n[t],l=r[1].split(",").map(IS);return typeof a=="function"?a(l):l[a]}const LS=(s,t)=>{const{transform:e="none"}=getComputedStyle(s);return nh(e,t)};function IS(s){return parseFloat(s.trim())}const nr=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ir=new Set(nr),Vm=s=>s===er||s===At,DS=new Set(["x","y","z"]),NS=nr.filter(s=>!DS.has(s));function FS(s){const t=[];return NS.forEach(e=>{const n=s.getValue(e);n!==void 0&&(t.push([e,n.get()]),n.set(e.startsWith("scale")?1:0))}),t}const ns={width:({x:s},{paddingLeft:t="0",paddingRight:e="0"})=>s.max-s.min-parseFloat(t)-parseFloat(e),height:({y:s},{paddingTop:t="0",paddingBottom:e="0"})=>s.max-s.min-parseFloat(t)-parseFloat(e),top:(s,{top:t})=>parseFloat(t),left:(s,{left:t})=>parseFloat(t),bottom:({y:s},{top:t})=>parseFloat(t)+(s.max-s.min),right:({x:s},{left:t})=>parseFloat(t)+(s.max-s.min),x:(s,{transform:t})=>nh(t,"x"),y:(s,{transform:t})=>nh(t,"y")};ns.translateX=ns.x;ns.translateY=ns.y;const is=new Set;let ih=!1,sh=!1,rh=!1;function cv(){if(sh){const s=Array.from(is).filter(n=>n.needsMeasurement),t=new Set(s.map(n=>n.element)),e=new Map;t.forEach(n=>{const r=FS(n);r.length&&(e.set(n,r),n.render())}),s.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const r=e.get(n);r&&r.forEach(([a,l])=>{n.getValue(a)?.set(l)})}),s.forEach(n=>n.measureEndState()),s.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}sh=!1,ih=!1,is.forEach(s=>s.complete(rh)),is.clear()}function uv(){is.forEach(s=>{s.readKeyframes(),s.needsMeasurement&&(sh=!0)})}function OS(){rh=!0,uv(),cv(),rh=!1}class Wh{constructor(t,e,n,r,a,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=e,this.name=n,this.motionValue=r,this.element=a,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(is.add(this),ih||(ih=!0,Gt.read(uv),Gt.resolveKeyframes(cv))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:e,element:n,motionValue:r}=this;if(t[0]===null){const a=r?.get(),l=t[t.length-1];if(a!==void 0)t[0]=a;else if(n&&e){const c=n.readValue(e,l);c!=null&&(t[0]=c)}t[0]===void 0&&(t[0]=l),r&&a===void 0&&r.set(t[0])}PS(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),is.delete(this)}cancel(){this.state==="scheduled"&&(is.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const jS=s=>s.startsWith("--");function VS(s,t,e){jS(t)?s.style.setProperty(t,e):s.style[t]=e}const BS=Ih(()=>window.ScrollTimeline!==void 0),zS={};function HS(s,t){const e=Ih(s);return()=>zS[t]??e()}const hv=HS(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Yr=([s,t,e,n])=>`cubic-bezier(${s}, ${t}, ${e}, ${n})`,Bm={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Yr([0,.65,.55,1]),circOut:Yr([.55,0,1,.45]),backIn:Yr([.31,.01,.66,-.59]),backOut:Yr([.33,1.53,.69,.99])};function dv(s,t){if(s)return typeof s=="function"?hv()?ov(s,t):"ease-out":Yy(s)?Yr(s):Array.isArray(s)?s.map(e=>dv(e,t)||Bm.easeOut):Bm[s]}function US(s,t,e,{delay:n=0,duration:r=300,repeat:a=0,repeatType:l="loop",ease:c="easeOut",times:h}={},d=void 0){const p={[t]:e};h&&(p.offset=h);const m=dv(c,r);Array.isArray(m)&&(p.easing=m);const y={delay:n,duration:r,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:a+1,direction:l==="reverse"?"alternate":"normal"};return d&&(y.pseudoElement=d),s.animate(p,y)}function fv(s){return typeof s=="function"&&"applyToOptions"in s}function $S({type:s,...t}){return fv(s)&&hv()?s.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class GS extends $h{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:e,name:n,keyframes:r,pseudoElement:a,allowFlatten:l=!1,finalKeyframe:c,onComplete:h}=t;this.isPseudoElement=!!a,this.allowFlatten=l,this.options=t,Lh(typeof t.type!="string");const d=$S(t);this.animation=US(e,n,r,d,a),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const p=Uh(r,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(p):VS(e,n,p),this.animation.cancel()}h?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return zn(Number(t))}get time(){return zn(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Bn(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:e}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&BS()?(this.animation.timeline=t,fn):e(this)}}const pv={anticipate:Wy,backInOut:Gy,circInOut:Ky};function WS(s){return s in pv}function XS(s){typeof s.ease=="string"&&WS(s.ease)&&(s.ease=pv[s.ease])}const zm=10;class KS extends GS{constructor(t){XS(t),lv(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:e,onUpdate:n,onComplete:r,element:a,...l}=this.options;if(!e)return;if(t!==void 0){e.set(t);return}const c=new Gh({...l,autoplay:!1}),h=Bn(this.finishedTime??this.time);e.setWithVelocity(c.sample(h-zm).value,c.sample(h).value,zm),c.stop()}}const Hm=(s,t)=>t==="zIndex"?!1:!!(typeof s=="number"||Array.isArray(s)||typeof s=="string"&&(Pi.test(s)||s==="0")&&!s.startsWith("url("));function qS(s){const t=s[0];if(s.length===1)return!0;for(let e=0;e<s.length;e++)if(s[e]!==t)return!0}function YS(s,t,e,n){const r=s[0];if(r===null)return!1;if(t==="display"||t==="visibility")return!0;const a=s[s.length-1],l=Hm(r,t),c=Hm(a,t);return!l||!c?!1:qS(s)||(e==="spring"||fv(e))&&n}function oh(s){s.duration=0,s.type}const QS=new Set(["opacity","clipPath","filter","transform"]),ZS=Ih(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function JS(s){const{motionValue:t,name:e,repeatDelay:n,repeatType:r,damping:a,type:l}=s;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:d}=t.owner.getProps();return ZS()&&e&&QS.has(e)&&(e!=="transform"||!d)&&!h&&!n&&r!=="mirror"&&a!==0&&l!=="inertia"}const t1=40;class e1 extends $h{constructor({autoplay:t=!0,delay:e=0,type:n="keyframes",repeat:r=0,repeatDelay:a=0,repeatType:l="loop",keyframes:c,name:h,motionValue:d,element:p,...m}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Xe.now();const y={autoplay:t,delay:e,type:n,repeat:r,repeatDelay:a,repeatType:l,name:h,motionValue:d,element:p,...m},w=p?.KeyframeResolver||Wh;this.keyframeResolver=new w(c,(b,x,S)=>this.onKeyframesResolved(b,x,y,!S),h,d,p),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,e,n,r){this.keyframeResolver=void 0;const{name:a,type:l,velocity:c,delay:h,isHandoff:d,onUpdate:p}=n;this.resolvedAt=Xe.now(),YS(t,a,l,c)||((ei.instantAnimations||!h)&&p?.(Uh(t,n,e)),t[0]=t[t.length-1],oh(n),n.repeat=0);const y={startTime:r?this.resolvedAt?this.resolvedAt-this.createdAt>t1?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:e,...n,keyframes:t},w=!d&&JS(y)?new KS({...y,element:y.motionValue.owner.current}):new Gh(y);w.finished.then(()=>this.notifyFinished()).catch(fn),this.pendingTimeline&&(this.stopTimeline=w.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=w}get finished(){return this._animation?this.animation.finished:this._finished}then(t,e){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),OS()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const n1=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function i1(s){const t=n1.exec(s);if(!t)return[,];const[,e,n,r]=t;return[`--${e??n}`,r]}function mv(s,t,e=1){const[n,r]=i1(s);if(!n)return;const a=window.getComputedStyle(t).getPropertyValue(n);if(a){const l=a.trim();return Oy(l)?parseFloat(l):l}return jh(r)?mv(r,t,e+1):r}function Xh(s,t){return s?.[t]??s?.default??s}const gv=new Set(["width","height","top","left","right","bottom",...nr]),s1={test:s=>s==="auto",parse:s=>s},yv=s=>t=>t.test(s),vv=[er,At,Hn,_i,qA,KA,s1],Um=s=>vv.find(yv(s));function r1(s){return typeof s=="number"?s===0:s!==null?s==="none"||s==="0"||Vy(s):!0}const o1=new Set(["brightness","contrast","saturate","opacity"]);function a1(s){const[t,e]=s.slice(0,-1).split("(");if(t==="drop-shadow")return s;const[n]=e.match(Vh)||[];if(!n)return s;const r=e.replace(n,"");let a=o1.has(t)?1:0;return n!==e&&(a*=100),t+"("+a+r+")"}const l1=/\b([a-z-]*)\(.*?\)/gu,ah={...Pi,getAnimatableNone:s=>{const t=s.match(l1);return t?t.map(a1).join(" "):s}},$m={...er,transform:Math.round},c1={rotate:_i,rotateX:_i,rotateY:_i,rotateZ:_i,scale:Wa,scaleX:Wa,scaleY:Wa,scaleZ:Wa,skew:_i,skewX:_i,skewY:_i,distance:At,translateX:At,translateY:At,translateZ:At,x:At,y:At,z:At,perspective:At,transformPerspective:At,opacity:ao,originX:Mm,originY:Mm,originZ:At},Kh={borderWidth:At,borderTopWidth:At,borderRightWidth:At,borderBottomWidth:At,borderLeftWidth:At,borderRadius:At,radius:At,borderTopLeftRadius:At,borderTopRightRadius:At,borderBottomRightRadius:At,borderBottomLeftRadius:At,width:At,maxWidth:At,height:At,maxHeight:At,top:At,right:At,bottom:At,left:At,padding:At,paddingTop:At,paddingRight:At,paddingBottom:At,paddingLeft:At,margin:At,marginTop:At,marginRight:At,marginBottom:At,marginLeft:At,backgroundPositionX:At,backgroundPositionY:At,...c1,zIndex:$m,fillOpacity:ao,strokeOpacity:ao,numOctaves:$m},u1={...Kh,color:ce,backgroundColor:ce,outlineColor:ce,fill:ce,stroke:ce,borderColor:ce,borderTopColor:ce,borderRightColor:ce,borderBottomColor:ce,borderLeftColor:ce,filter:ah,WebkitFilter:ah},wv=s=>u1[s];function bv(s,t){let e=wv(s);return e!==ah&&(e=Pi),e.getAnimatableNone?e.getAnimatableNone(t):void 0}const h1=new Set(["auto","none","0"]);function d1(s,t,e){let n=0,r;for(;n<s.length&&!r;){const a=s[n];typeof a=="string"&&!h1.has(a)&&lo(a).values.length&&(r=s[n]),n++}if(r&&e)for(const a of t)s[a]=bv(e,r)}class f1 extends Wh{constructor(t,e,n,r,a){super(t,e,n,r,a,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:e,name:n}=this;if(!e||!e.current)return;super.readKeyframes();for(let h=0;h<t.length;h++){let d=t[h];if(typeof d=="string"&&(d=d.trim(),jh(d))){const p=mv(d,e.current);p!==void 0&&(t[h]=p),h===t.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!gv.has(n)||t.length!==2)return;const[r,a]=t,l=Um(r),c=Um(a);if(l!==c)if(Vm(l)&&Vm(c))for(let h=0;h<t.length;h++){const d=t[h];typeof d=="string"&&(t[h]=parseFloat(d))}else ns[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:e}=this,n=[];for(let r=0;r<t.length;r++)(t[r]===null||r1(t[r]))&&n.push(r);n.length&&d1(t,n,e)}measureInitialState(){const{element:t,unresolvedKeyframes:e,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ns[n](t.measureViewportBox(),window.getComputedStyle(t.current)),e[0]=this.measuredOrigin;const r=e[e.length-1];r!==void 0&&t.getValue(n,r).jump(r,!1)}measureEndState(){const{element:t,name:e,unresolvedKeyframes:n}=this;if(!t||!t.current)return;const r=t.getValue(e);r&&r.jump(this.measuredOrigin,!1);const a=n.length-1,l=n[a];n[a]=ns[e](t.measureViewportBox(),window.getComputedStyle(t.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),this.removedTransforms?.length&&this.removedTransforms.forEach(([c,h])=>{t.getValue(c).set(h)}),this.resolveNoneKeyframes()}}function p1(s,t,e){if(s instanceof EventTarget)return[s];if(typeof s=="string"){let n=document;const r=e?.[s]??n.querySelectorAll(s);return r?Array.from(r):[]}return Array.from(s)}const xv=(s,t)=>t&&typeof s=="number"?t.transform(s):s;function m1(s){return jy(s)&&"offsetHeight"in s}const Gm=30,g1=s=>!isNaN(parseFloat(s));class y1{constructor(t,e={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{const r=Xe.now();if(this.updatedAt!==r&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=e.owner}setCurrent(t){this.current=t,this.updatedAt=Xe.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=g1(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,e){this.events[t]||(this.events[t]=new Dh);const n=this.events[t].add(e);return t==="change"?()=>{n(),Gt.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,e){this.passiveEffect=t,this.stopPassiveEffect=e}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,e,n){this.set(e),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,e=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,e&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Xe.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Gm)return 0;const e=Math.min(this.updatedAt-this.prevUpdatedAt,Gm);return By(parseFloat(this.current)-parseFloat(this.prevFrameValue),e)}start(t){return this.stop(),new Promise(e=>{this.hasAnimated=!0,this.animation=t(e),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function qs(s,t){return new y1(s,t)}const{schedule:qh}=Qy(queueMicrotask,!1),_n={x:!1,y:!1};function Av(){return _n.x||_n.y}function v1(s){return s==="x"||s==="y"?_n[s]?null:(_n[s]=!0,()=>{_n[s]=!1}):_n.x||_n.y?null:(_n.x=_n.y=!0,()=>{_n.x=_n.y=!1})}function Sv(s,t){const e=p1(s),n=new AbortController,r={passive:!0,...t,signal:n.signal};return[e,r,()=>n.abort()]}function Wm(s){return!(s.pointerType==="touch"||Av())}function w1(s,t,e={}){const[n,r,a]=Sv(s,e),l=c=>{if(!Wm(c))return;const{target:h}=c,d=t(h,c);if(typeof d!="function"||!h)return;const p=m=>{Wm(m)&&(d(m),h.removeEventListener("pointerleave",p))};h.addEventListener("pointerleave",p,r)};return n.forEach(c=>{c.addEventListener("pointerenter",l,r)}),a}const Ev=(s,t)=>t?s===t?!0:Ev(s,t.parentElement):!1,Yh=s=>s.pointerType==="mouse"?typeof s.button!="number"||s.button<=0:s.isPrimary!==!1,b1=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function x1(s){return b1.has(s.tagName)||s.tabIndex!==-1}const nl=new WeakSet;function Xm(s){return t=>{t.key==="Enter"&&s(t)}}function Tu(s,t){s.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const A1=(s,t)=>{const e=s.currentTarget;if(!e)return;const n=Xm(()=>{if(nl.has(e))return;Tu(e,"down");const r=Xm(()=>{Tu(e,"up")}),a=()=>Tu(e,"cancel");e.addEventListener("keyup",r,t),e.addEventListener("blur",a,t)});e.addEventListener("keydown",n,t),e.addEventListener("blur",()=>e.removeEventListener("keydown",n),t)};function Km(s){return Yh(s)&&!Av()}function S1(s,t,e={}){const[n,r,a]=Sv(s,e),l=c=>{const h=c.currentTarget;if(!Km(c))return;nl.add(h);const d=t(h,c),p=(w,b)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",y),nl.has(h)&&nl.delete(h),Km(w)&&typeof d=="function"&&d(w,{success:b})},m=w=>{p(w,h===window||h===document||e.useGlobalTarget||Ev(h,w.target))},y=w=>{p(w,!1)};window.addEventListener("pointerup",m,r),window.addEventListener("pointercancel",y,r)};return n.forEach(c=>{(e.useGlobalTarget?window:c).addEventListener("pointerdown",l,r),m1(c)&&(c.addEventListener("focus",d=>A1(d,r)),!x1(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),a}function _v(s){return jy(s)&&"ownerSVGElement"in s}function E1(s){return _v(s)&&s.tagName==="svg"}const De=s=>!!(s&&s.getVelocity),_1=[...vv,ce,Pi],C1=s=>_1.find(yv(s)),Cv=z.createContext({transformPagePoint:s=>s,isStatic:!1,reducedMotion:"never"});function T1(s=!0){const t=z.useContext(Ph);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,a=z.useId();z.useEffect(()=>{if(s)return r(a)},[s]);const l=z.useCallback(()=>s&&n&&n(a),[a,n,s]);return!e&&n?[!1,l]:[!0]}const Tv=z.createContext({strict:!1}),qm={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ys={};for(const s in qm)Ys[s]={isEnabled:t=>qm[s].some(e=>!!t[e])};function k1(s){for(const t in s)Ys[t]={...Ys[t],...s[t]}}const P1=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function cl(s){return s.startsWith("while")||s.startsWith("drag")&&s!=="draggable"||s.startsWith("layout")||s.startsWith("onTap")||s.startsWith("onPan")||s.startsWith("onLayout")||P1.has(s)}let kv=s=>!cl(s);function R1(s){typeof s=="function"&&(kv=t=>t.startsWith("on")?!cl(t):s(t))}try{R1(require("@emotion/is-prop-valid").default)}catch{}function M1(s,t,e){const n={};for(const r in s)r==="values"&&typeof s.values=="object"||(kv(r)||e===!0&&cl(r)||!t&&!cl(r)||s.draggable&&r.startsWith("onDrag"))&&(n[r]=s[r]);return n}const ml=z.createContext({});function gl(s){return s!==null&&typeof s=="object"&&typeof s.start=="function"}function co(s){return typeof s=="string"||Array.isArray(s)}const Qh=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Zh=["initial",...Qh];function yl(s){return gl(s.animate)||Zh.some(t=>co(s[t]))}function Pv(s){return!!(yl(s)||s.variants)}function L1(s,t){if(yl(s)){const{initial:e,animate:n}=s;return{initial:e===!1||co(e)?e:void 0,animate:co(n)?n:void 0}}return s.inherit!==!1?t:{}}function I1(s){const{initial:t,animate:e}=L1(s,z.useContext(ml));return z.useMemo(()=>({initial:t,animate:e}),[Ym(t),Ym(e)])}function Ym(s){return Array.isArray(s)?s.join(" "):s}const uo={};function D1(s){for(const t in s)uo[t]=s[t],Oh(t)&&(uo[t].isCSSVariable=!0)}function Rv(s,{layout:t,layoutId:e}){return ir.has(s)||s.startsWith("origin")||(t||e!==void 0)&&(!!uo[s]||s==="opacity")}const N1={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},F1=nr.length;function O1(s,t,e){let n="",r=!0;for(let a=0;a<F1;a++){const l=nr[a],c=s[l];if(c===void 0)continue;let h=!0;if(typeof c=="number"?h=c===(l.startsWith("scale")?1:0):h=parseFloat(c)===0,!h||e){const d=xv(c,Kh[l]);if(!h){r=!1;const p=N1[l]||l;n+=`${p}(${d}) `}e&&(t[l]=d)}}return n=n.trim(),e?n=e(t,r?"":n):r&&(n="none"),n}function Jh(s,t,e){const{style:n,vars:r,transformOrigin:a}=s;let l=!1,c=!1;for(const h in t){const d=t[h];if(ir.has(h)){l=!0;continue}else if(Oh(h)){r[h]=d;continue}else{const p=xv(d,Kh[h]);h.startsWith("origin")?(c=!0,a[h]=p):n[h]=p}}if(t.transform||(l||e?n.transform=O1(t,s.transform,e):n.transform&&(n.transform="none")),c){const{originX:h="50%",originY:d="50%",originZ:p=0}=a;n.transformOrigin=`${h} ${d} ${p}`}}const td=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Mv(s,t,e){for(const n in t)!De(t[n])&&!Rv(n,e)&&(s[n]=t[n])}function j1({transformTemplate:s},t){return z.useMemo(()=>{const e=td();return Jh(e,t,s),Object.assign({},e.vars,e.style)},[t])}function V1(s,t){const e=s.style||{},n={};return Mv(n,e,s),Object.assign(n,j1(s,t)),n}function B1(s,t){const e={},n=V1(s,t);return s.drag&&s.dragListener!==!1&&(e.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=s.drag===!0?"none":`pan-${s.drag==="x"?"y":"x"}`),s.tabIndex===void 0&&(s.onTap||s.onTapStart||s.whileTap)&&(e.tabIndex=0),e.style=n,e}const z1={offset:"stroke-dashoffset",array:"stroke-dasharray"},H1={offset:"strokeDashoffset",array:"strokeDasharray"};function U1(s,t,e=1,n=0,r=!0){s.pathLength=1;const a=r?z1:H1;s[a.offset]=At.transform(-n);const l=At.transform(t),c=At.transform(e);s[a.array]=`${l} ${c}`}function Lv(s,{attrX:t,attrY:e,attrScale:n,pathLength:r,pathSpacing:a=1,pathOffset:l=0,...c},h,d,p){if(Jh(s,c,d),h){s.style.viewBox&&(s.attrs.viewBox=s.style.viewBox);return}s.attrs=s.style,s.style={};const{attrs:m,style:y}=s;m.transform&&(y.transform=m.transform,delete m.transform),(y.transform||m.transformOrigin)&&(y.transformOrigin=m.transformOrigin??"50% 50%",delete m.transformOrigin),y.transform&&(y.transformBox=p?.transformBox??"fill-box",delete m.transformBox),t!==void 0&&(m.x=t),e!==void 0&&(m.y=e),n!==void 0&&(m.scale=n),r!==void 0&&U1(m,r,a,l,!1)}const Iv=()=>({...td(),attrs:{}}),Dv=s=>typeof s=="string"&&s.toLowerCase()==="svg";function $1(s,t,e,n){const r=z.useMemo(()=>{const a=Iv();return Lv(a,t,Dv(n),s.transformTemplate,s.style),{...a.attrs,style:{...a.style}}},[t]);if(s.style){const a={};Mv(a,s.style,s),r.style={...a,...r.style}}return r}const G1=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ed(s){return typeof s!="string"||s.includes("-")?!1:!!(G1.indexOf(s)>-1||/[A-Z]/u.test(s))}function W1(s,t,e,{latestValues:n},r,a=!1){const c=(ed(s)?$1:B1)(t,n,r,s),h=M1(t,typeof s=="string",a),d=s!==z.Fragment?{...h,...c,ref:e}:{},{children:p}=t,m=z.useMemo(()=>De(p)?p.get():p,[p]);return z.createElement(s,{...d,children:m})}function Qm(s){const t=[{},{}];return s?.values.forEach((e,n)=>{t[0][n]=e.get(),t[1][n]=e.getVelocity()}),t}function nd(s,t,e,n){if(typeof t=="function"){const[r,a]=Qm(n);t=t(e!==void 0?e:s.custom,r,a)}if(typeof t=="string"&&(t=s.variants&&s.variants[t]),typeof t=="function"){const[r,a]=Qm(n);t=t(e!==void 0?e:s.custom,r,a)}return t}function il(s){return De(s)?s.get():s}function X1({scrapeMotionValuesFromProps:s,createRenderState:t},e,n,r){return{latestValues:K1(e,n,r,s),renderState:t()}}function K1(s,t,e,n){const r={},a=n(s,{});for(const y in a)r[y]=il(a[y]);let{initial:l,animate:c}=s;const h=yl(s),d=Pv(s);t&&d&&!h&&s.inherit!==!1&&(l===void 0&&(l=t.initial),c===void 0&&(c=t.animate));let p=e?e.initial===!1:!1;p=p||l===!1;const m=p?c:l;if(m&&typeof m!="boolean"&&!gl(m)){const y=Array.isArray(m)?m:[m];for(let w=0;w<y.length;w++){const b=nd(s,y[w]);if(b){const{transitionEnd:x,transition:S,...E}=b;for(const T in E){let _=E[T];if(Array.isArray(_)){const P=p?_.length-1:0;_=_[P]}_!==null&&(r[T]=_)}for(const T in x)r[T]=x[T]}}}return r}const Nv=s=>(t,e)=>{const n=z.useContext(ml),r=z.useContext(Ph),a=()=>X1(s,t,n,r);return e?a():kA(a)};function id(s,t,e){const{style:n}=s,r={};for(const a in n)(De(n[a])||t.style&&De(t.style[a])||Rv(a,s)||e?.getValue(a)?.liveStyle!==void 0)&&(r[a]=n[a]);return r}const q1=Nv({scrapeMotionValuesFromProps:id,createRenderState:td});function Fv(s,t,e){const n=id(s,t,e);for(const r in s)if(De(s[r])||De(t[r])){const a=nr.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[a]=s[r]}return n}const Y1=Nv({scrapeMotionValuesFromProps:Fv,createRenderState:Iv}),Q1=Symbol.for("motionComponentSymbol");function js(s){return s&&typeof s=="object"&&Object.prototype.hasOwnProperty.call(s,"current")}function Z1(s,t,e){return z.useCallback(n=>{n&&s.onMount&&s.onMount(n),t&&(n?t.mount(n):t.unmount()),e&&(typeof e=="function"?e(n):js(e)&&(e.current=n))},[t])}const sd=s=>s.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),J1="framerAppearId",Ov="data-"+sd(J1),jv=z.createContext({});function tE(s,t,e,n,r){const{visualElement:a}=z.useContext(ml),l=z.useContext(Tv),c=z.useContext(Ph),h=z.useContext(Cv).reducedMotion,d=z.useRef(null);n=n||l.renderer,!d.current&&n&&(d.current=n(s,{visualState:t,parent:a,props:e,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:h}));const p=d.current,m=z.useContext(jv);p&&!p.projection&&r&&(p.type==="html"||p.type==="svg")&&eE(d.current,e,r,m);const y=z.useRef(!1);z.useInsertionEffect(()=>{p&&y.current&&p.update(e,c)});const w=e[Ov],b=z.useRef(!!w&&!window.MotionHandoffIsComplete?.(w)&&window.MotionHasOptimisedAnimation?.(w));return PA(()=>{p&&(y.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),p.scheduleRenderMicrotask(),b.current&&p.animationState&&p.animationState.animateChanges())}),z.useEffect(()=>{p&&(!b.current&&p.animationState&&p.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(w)}),b.current=!1),p.enteringChildren=void 0)}),p}function eE(s,t,e,n){const{layoutId:r,layout:a,drag:l,dragConstraints:c,layoutScroll:h,layoutRoot:d,layoutCrossfade:p}=t;s.projection=new e(s.latestValues,t["data-framer-portal-id"]?void 0:Vv(s.parent)),s.projection.setOptions({layoutId:r,layout:a,alwaysMeasureLayout:!!l||c&&js(c),visualElement:s,animationType:typeof a=="string"?a:"both",initialPromotionConfig:n,crossfade:p,layoutScroll:h,layoutRoot:d})}function Vv(s){if(s)return s.options.allowProjection!==!1?s.projection:Vv(s.parent)}function ku(s,{forwardMotionProps:t=!1}={},e,n){e&&k1(e);const r=ed(s)?Y1:q1;function a(c,h){let d;const p={...z.useContext(Cv),...c,layoutId:nE(c)},{isStatic:m}=p,y=I1(c),w=r(c,m);if(!m&&kh){iE();const b=sE(p);d=b.MeasureLayout,y.visualElement=tE(s,w,p,n,b.ProjectionNode)}return F.jsxs(ml.Provider,{value:y,children:[d&&y.visualElement?F.jsx(d,{visualElement:y.visualElement,...p}):null,W1(s,c,Z1(w,y.visualElement,h),w,m,t)]})}a.displayName=`motion.${typeof s=="string"?s:`create(${s.displayName??s.name??""})`}`;const l=z.forwardRef(a);return l[Q1]=s,l}function nE({layoutId:s}){const t=z.useContext(Fy).id;return t&&s!==void 0?t+"-"+s:s}function iE(s,t){z.useContext(Tv).strict}function sE(s){const{drag:t,layout:e}=Ys;if(!t&&!e)return{};const n={...t,...e};return{MeasureLayout:t?.isEnabled(s)||e?.isEnabled(s)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}function rE(s,t){if(typeof Proxy>"u")return ku;const e=new Map,n=(a,l)=>ku(a,l,s,t),r=(a,l)=>n(a,l);return new Proxy(r,{get:(a,l)=>l==="create"?n:(e.has(l)||e.set(l,ku(l,void 0,s,t)),e.get(l))})}function Bv({top:s,left:t,right:e,bottom:n}){return{x:{min:t,max:e},y:{min:s,max:n}}}function oE({x:s,y:t}){return{top:t.min,right:s.max,bottom:t.max,left:s.min}}function aE(s,t){if(!t)return s;const e=t({x:s.left,y:s.top}),n=t({x:s.right,y:s.bottom});return{top:e.y,left:e.x,bottom:n.y,right:n.x}}function Pu(s){return s===void 0||s===1}function lh({scale:s,scaleX:t,scaleY:e}){return!Pu(s)||!Pu(t)||!Pu(e)}function Yi(s){return lh(s)||zv(s)||s.z||s.rotate||s.rotateX||s.rotateY||s.skewX||s.skewY}function zv(s){return Zm(s.x)||Zm(s.y)}function Zm(s){return s&&s!=="0%"}function ul(s,t,e){const n=s-e,r=t*n;return e+r}function Jm(s,t,e,n,r){return r!==void 0&&(s=ul(s,r,n)),ul(s,e,n)+t}function ch(s,t=0,e=1,n,r){s.min=Jm(s.min,t,e,n,r),s.max=Jm(s.max,t,e,n,r)}function Hv(s,{x:t,y:e}){ch(s.x,t.translate,t.scale,t.originPoint),ch(s.y,e.translate,e.scale,e.originPoint)}const tg=.999999999999,eg=1.0000000000001;function lE(s,t,e,n=!1){const r=e.length;if(!r)return;t.x=t.y=1;let a,l;for(let c=0;c<r;c++){a=e[c],l=a.projectionDelta;const{visualElement:h}=a.options;h&&h.props.style&&h.props.style.display==="contents"||(n&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Bs(s,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(t.x*=l.x.scale,t.y*=l.y.scale,Hv(s,l)),n&&Yi(a.latestValues)&&Bs(s,a.latestValues))}t.x<eg&&t.x>tg&&(t.x=1),t.y<eg&&t.y>tg&&(t.y=1)}function Vs(s,t){s.min=s.min+t,s.max=s.max+t}function ng(s,t,e,n,r=.5){const a=qt(s.min,s.max,r);ch(s,t,e,a,n)}function Bs(s,t){ng(s.x,t.x,t.scaleX,t.scale,t.originX),ng(s.y,t.y,t.scaleY,t.scale,t.originY)}function Uv(s,t){return Bv(aE(s.getBoundingClientRect(),t))}function cE(s,t,e){const n=Uv(s,e),{scroll:r}=t;return r&&(Vs(n.x,r.offset.x),Vs(n.y,r.offset.y)),n}const ig=()=>({translate:0,scale:1,origin:0,originPoint:0}),zs=()=>({x:ig(),y:ig()}),sg=()=>({min:0,max:0}),se=()=>({x:sg(),y:sg()}),uh={current:null},$v={current:!1};function uE(){if($v.current=!0,!!kh)if(window.matchMedia){const s=window.matchMedia("(prefers-reduced-motion)"),t=()=>uh.current=s.matches;s.addEventListener("change",t),t()}else uh.current=!1}const hE=new WeakMap;function dE(s,t,e){for(const n in t){const r=t[n],a=e[n];if(De(r))s.addValue(n,r);else if(De(a))s.addValue(n,qs(r,{owner:s}));else if(a!==r)if(s.hasValue(n)){const l=s.getValue(n);l.liveStyle===!0?l.jump(r):l.hasAnimated||l.set(r)}else{const l=s.getStaticValue(n);s.addValue(n,qs(l!==void 0?l:r,{owner:s}))}}for(const n in e)t[n]===void 0&&s.removeValue(n);return t}const rg=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class fE{scrapeMotionValuesFromProps(t,e,n){return{}}constructor({parent:t,props:e,presenceContext:n,reducedMotionConfig:r,blockInitialAnimation:a,visualState:l},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Wh,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const y=Xe.now();this.renderScheduledAt<y&&(this.renderScheduledAt=y,Gt.render(this.render,!1,!0))};const{latestValues:h,renderState:d}=l;this.latestValues=h,this.baseTarget={...h},this.initialValues=e.initial?{...h}:{},this.renderState=d,this.parent=t,this.props=e,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=r,this.options=c,this.blockInitialAnimation=!!a,this.isControllingVariants=yl(e),this.isVariantNode=Pv(e),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:p,...m}=this.scrapeMotionValuesFromProps(e,{},this);for(const y in m){const w=m[y];h[y]!==void 0&&De(w)&&w.set(h[y])}}mount(t){this.current=t,hE.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,n)=>this.bindToMotionValue(n,e)),$v.current||uE(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:uh.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),ki(this.notifyUpdate),ki(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const e=this.features[t];e&&(e.unmount(),e.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,e){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=ir.has(t);n&&this.onBindTransform&&this.onBindTransform();const r=e.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&Gt.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,t,e)),this.valueSubscriptions.set(t,()=>{r(),a&&a(),e.owner&&e.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Ys){const e=Ys[t];if(!e)continue;const{isEnabled:n,Feature:r}=e;if(!this.features[t]&&r&&n(this.props)&&(this.features[t]=new r(this)),this.features[t]){const a=this.features[t];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):se()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,e){this.latestValues[t]=e}update(t,e){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=e;for(let n=0;n<rg.length;n++){const r=rg[n];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const a="on"+r,l=t[a];l&&(this.propEventSubscriptions[r]=this.on(r,l))}this.prevMotionValues=dE(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const e=this.getClosestVariantNode();if(e)return e.variantChildren&&e.variantChildren.add(t),()=>e.variantChildren.delete(t)}addValue(t,e){const n=this.values.get(t);e!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,e),this.values.set(t,e),this.latestValues[t]=e.get())}removeValue(t){this.values.delete(t);const e=this.valueSubscriptions.get(t);e&&(e(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,e){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&e!==void 0&&(n=qs(e===null?void 0:e,{owner:this}),this.addValue(t,n)),n}readValue(t,e){let n=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return n!=null&&(typeof n=="string"&&(Oy(n)||Vy(n))?n=parseFloat(n):!C1(n)&&Pi.test(e)&&(n=bv(t,e)),this.setBaseTarget(t,De(n)?n.get():n)),De(n)?n.get():n}setBaseTarget(t,e){this.baseTarget[t]=e}getBaseTarget(t){const{initial:e}=this.props;let n;if(typeof e=="string"||typeof e=="object"){const a=nd(this.props,e,this.presenceContext?.custom);a&&(n=a[t])}if(e&&n!==void 0)return n;const r=this.getBaseTargetFromProps(this.props,t);return r!==void 0&&!De(r)?r:this.initialValues[t]!==void 0&&n===void 0?void 0:this.baseTarget[t]}on(t,e){return this.events[t]||(this.events[t]=new Dh),this.events[t].add(e)}notify(t,...e){this.events[t]&&this.events[t].notify(...e)}scheduleRenderMicrotask(){qh.render(this.render)}}class Gv extends fE{constructor(){super(...arguments),this.KeyframeResolver=f1}sortInstanceNodePosition(t,e){return t.compareDocumentPosition(e)&2?1:-1}getBaseTargetFromProps(t,e){return t.style?t.style[e]:void 0}removeValueFromRenderState(t,{vars:e,style:n}){delete e[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;De(t)&&(this.childSubscription=t.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}function Wv(s,{style:t,vars:e},n,r){const a=s.style;let l;for(l in t)a[l]=t[l];r?.applyProjectionStyles(a,n);for(l in e)a.setProperty(l,e[l])}function pE(s){return window.getComputedStyle(s)}class mE extends Gv{constructor(){super(...arguments),this.type="html",this.renderInstance=Wv}readValueFromInstance(t,e){if(ir.has(e))return this.projection?.isProjecting?eh(e):LS(t,e);{const n=pE(t),r=(Oh(e)?n.getPropertyValue(e):n[e])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(t,{transformPagePoint:e}){return Uv(t,e)}build(t,e,n){Jh(t,e,n.transformTemplate)}scrapeMotionValuesFromProps(t,e,n){return id(t,e,n)}}const Xv=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function gE(s,t,e,n){Wv(s,t,void 0,n);for(const r in t.attrs)s.setAttribute(Xv.has(r)?r:sd(r),t.attrs[r])}class yE extends Gv{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=se}getBaseTargetFromProps(t,e){return t[e]}readValueFromInstance(t,e){if(ir.has(e)){const n=wv(e);return n&&n.default||0}return e=Xv.has(e)?e:sd(e),t.getAttribute(e)}scrapeMotionValuesFromProps(t,e,n){return Fv(t,e,n)}build(t,e,n){Lv(t,e,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(t,e,n,r){gE(t,e,n,r)}mount(t){this.isSVGTag=Dv(t.tagName),super.mount(t)}}const vE=(s,t)=>ed(s)?new yE(t):new mE(t,{allowProjection:s!==z.Fragment});function Gs(s,t,e){const n=s.getProps();return nd(n,t,e!==void 0?e:n.custom,s)}const hh=s=>Array.isArray(s);function wE(s,t,e){s.hasValue(t)?s.getValue(t).set(e):s.addValue(t,qs(e))}function bE(s){return hh(s)?s[s.length-1]||0:s}function xE(s,t){const e=Gs(s,t);let{transitionEnd:n={},transition:r={},...a}=e||{};a={...a,...n};for(const l in a){const c=bE(a[l]);wE(s,l,c)}}function AE(s){return!!(De(s)&&s.add)}function dh(s,t){const e=s.getValue("willChange");if(AE(e))return e.add(t);if(!e&&ei.WillChange){const n=new ei.WillChange("auto");s.addValue("willChange",n),n.add(t)}}function Kv(s){return s.props[Ov]}const SE=s=>s!==null;function EE(s,{repeat:t,repeatType:e="loop"},n){const r=s.filter(SE),a=t&&e!=="loop"&&t%2===1?0:r.length-1;return r[a]}const _E={type:"spring",stiffness:500,damping:25,restSpeed:10},CE=s=>({type:"spring",stiffness:550,damping:s===0?2*Math.sqrt(550):30,restSpeed:10}),TE={type:"keyframes",duration:.8},kE={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},PE=(s,{keyframes:t})=>t.length>2?TE:ir.has(s)?s.startsWith("scale")?CE(t[1]):_E:kE;function RE({when:s,delay:t,delayChildren:e,staggerChildren:n,staggerDirection:r,repeat:a,repeatType:l,repeatDelay:c,from:h,elapsed:d,...p}){return!!Object.keys(p).length}const rd=(s,t,e,n={},r,a)=>l=>{const c=Xh(n,s)||{},h=c.delay||n.delay||0;let{elapsed:d=0}=n;d=d-Bn(h);const p={keyframes:Array.isArray(e)?e:[null,e],ease:"easeOut",velocity:t.getVelocity(),...c,delay:-d,onUpdate:y=>{t.set(y),c.onUpdate&&c.onUpdate(y)},onComplete:()=>{l(),c.onComplete&&c.onComplete()},name:s,motionValue:t,element:a?void 0:r};RE(c)||Object.assign(p,PE(s,p)),p.duration&&(p.duration=Bn(p.duration)),p.repeatDelay&&(p.repeatDelay=Bn(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let m=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(oh(p),p.delay===0&&(m=!0)),(ei.instantAnimations||ei.skipAnimations)&&(m=!0,oh(p),p.delay=0),p.allowFlatten=!c.type&&!c.ease,m&&!a&&t.get()!==void 0){const y=EE(p.keyframes,c);if(y!==void 0){Gt.update(()=>{p.onUpdate(y),p.onComplete()});return}}return c.isSync?new Gh(p):new e1(p)};function ME({protectedKeys:s,needsAnimating:t},e){const n=s.hasOwnProperty(e)&&t[e]!==!0;return t[e]=!1,n}function qv(s,t,{delay:e=0,transitionOverride:n,type:r}={}){let{transition:a=s.getDefaultTransition(),transitionEnd:l,...c}=t;n&&(a=n);const h=[],d=r&&s.animationState&&s.animationState.getState()[r];for(const p in c){const m=s.getValue(p,s.latestValues[p]??null),y=c[p];if(y===void 0||d&&ME(d,p))continue;const w={delay:e,...Xh(a||{},p)},b=m.get();if(b!==void 0&&!m.isAnimating&&!Array.isArray(y)&&y===b&&!w.velocity)continue;let x=!1;if(window.MotionHandoffAnimation){const E=Kv(s);if(E){const T=window.MotionHandoffAnimation(E,p,Gt);T!==null&&(w.startTime=T,x=!0)}}dh(s,p),m.start(rd(p,m,y,s.shouldReduceMotion&&gv.has(p)?{type:!1}:w,s,x));const S=m.animation;S&&h.push(S)}return l&&Promise.all(h).then(()=>{Gt.update(()=>{l&&xE(s,l)})}),h}function Yv(s,t,e,n=0,r=1){const a=Array.from(s).sort((d,p)=>d.sortNodePosition(p)).indexOf(t),l=s.size,c=(l-1)*n;return typeof e=="function"?e(a,l):r===1?a*n:c-a*n}function fh(s,t,e={}){const n=Gs(s,t,e.type==="exit"?s.presenceContext?.custom:void 0);let{transition:r=s.getDefaultTransition()||{}}=n||{};e.transitionOverride&&(r=e.transitionOverride);const a=n?()=>Promise.all(qv(s,n,e)):()=>Promise.resolve(),l=s.variantChildren&&s.variantChildren.size?(h=0)=>{const{delayChildren:d=0,staggerChildren:p,staggerDirection:m}=r;return LE(s,t,h,d,p,m,e)}:()=>Promise.resolve(),{when:c}=r;if(c){const[h,d]=c==="beforeChildren"?[a,l]:[l,a];return h().then(()=>d())}else return Promise.all([a(),l(e.delay)])}function LE(s,t,e=0,n=0,r=0,a=1,l){const c=[];for(const h of s.variantChildren)h.notify("AnimationStart",t),c.push(fh(h,t,{...l,delay:e+(typeof n=="function"?0:n)+Yv(s.variantChildren,h,n,r,a)}).then(()=>h.notify("AnimationComplete",t)));return Promise.all(c)}function IE(s,t,e={}){s.notify("AnimationStart",t);let n;if(Array.isArray(t)){const r=t.map(a=>fh(s,a,e));n=Promise.all(r)}else if(typeof t=="string")n=fh(s,t,e);else{const r=typeof t=="function"?Gs(s,t,e.custom):t;n=Promise.all(qv(s,r,e))}return n.then(()=>{s.notify("AnimationComplete",t)})}function Qv(s,t){if(!Array.isArray(t))return!1;const e=t.length;if(e!==s.length)return!1;for(let n=0;n<e;n++)if(t[n]!==s[n])return!1;return!0}const DE=Zh.length;function Zv(s){if(!s)return;if(!s.isControllingVariants){const e=s.parent?Zv(s.parent)||{}:{};return s.props.initial!==void 0&&(e.initial=s.props.initial),e}const t={};for(let e=0;e<DE;e++){const n=Zh[e],r=s.props[n];(co(r)||r===!1)&&(t[n]=r)}return t}const NE=[...Qh].reverse(),FE=Qh.length;function OE(s){return t=>Promise.all(t.map(({animation:e,options:n})=>IE(s,e,n)))}function jE(s){let t=OE(s),e=og(),n=!0;const r=h=>(d,p)=>{const m=Gs(s,p,h==="exit"?s.presenceContext?.custom:void 0);if(m){const{transition:y,transitionEnd:w,...b}=m;d={...d,...b,...w}}return d};function a(h){t=h(s)}function l(h){const{props:d}=s,p=Zv(s.parent)||{},m=[],y=new Set;let w={},b=1/0;for(let S=0;S<FE;S++){const E=NE[S],T=e[E],_=d[E]!==void 0?d[E]:p[E],P=co(_),k=E===h?T.isActive:null;k===!1&&(b=S);let D=_===p[E]&&_!==d[E]&&P;if(D&&n&&s.manuallyAnimateOnMount&&(D=!1),T.protectedKeys={...w},!T.isActive&&k===null||!_&&!T.prevProp||gl(_)||typeof _=="boolean")continue;const N=VE(T.prevProp,_);let L=N||E===h&&T.isActive&&!D&&P||S>b&&P,$=!1;const K=Array.isArray(_)?_:[_];let Z=K.reduce(r(E),{});k===!1&&(Z={});const{prevResolvedValues:ft={}}=T,dt={...ft,...Z},nt=U=>{L=!0,y.has(U)&&($=!0,y.delete(U)),T.needsAnimating[U]=!0;const j=s.getValue(U);j&&(j.liveStyle=!1)};for(const U in dt){const j=Z[U],tt=ft[U];if(w.hasOwnProperty(U))continue;let Y=!1;hh(j)&&hh(tt)?Y=!Qv(j,tt):Y=j!==tt,Y?j!=null?nt(U):y.add(U):j!==void 0&&y.has(U)?nt(U):T.protectedKeys[U]=!0}T.prevProp=_,T.prevResolvedValues=Z,T.isActive&&(w={...w,...Z}),n&&s.blockInitialAnimation&&(L=!1);const xt=D&&N;L&&(!xt||$)&&m.push(...K.map(U=>{const j={type:E};if(typeof U=="string"&&n&&!xt&&s.manuallyAnimateOnMount&&s.parent){const{parent:tt}=s,Y=Gs(tt,U);if(tt.enteringChildren&&Y){const{delayChildren:I}=Y.transition||{};j.delay=Yv(tt.enteringChildren,s,I)}}return{animation:U,options:j}}))}if(y.size){const S={};if(typeof d.initial!="boolean"){const E=Gs(s,Array.isArray(d.initial)?d.initial[0]:d.initial);E&&E.transition&&(S.transition=E.transition)}y.forEach(E=>{const T=s.getBaseTarget(E),_=s.getValue(E);_&&(_.liveStyle=!0),S[E]=T??null}),m.push({animation:S})}let x=!!m.length;return n&&(d.initial===!1||d.initial===d.animate)&&!s.manuallyAnimateOnMount&&(x=!1),n=!1,x?t(m):Promise.resolve()}function c(h,d){if(e[h].isActive===d)return Promise.resolve();s.variantChildren?.forEach(m=>m.animationState?.setActive(h,d)),e[h].isActive=d;const p=l(h);for(const m in e)e[m].protectedKeys={};return p}return{animateChanges:l,setActive:c,setAnimateFunction:a,getState:()=>e,reset:()=>{e=og(),n=!0}}}function VE(s,t){return typeof t=="string"?t!==s:Array.isArray(t)?!Qv(t,s):!1}function Ki(s=!1){return{isActive:s,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function og(){return{animate:Ki(!0),whileInView:Ki(),whileHover:Ki(),whileTap:Ki(),whileDrag:Ki(),whileFocus:Ki(),exit:Ki()}}class Mi{constructor(t){this.isMounted=!1,this.node=t}update(){}}class BE extends Mi{constructor(t){super(t),t.animationState||(t.animationState=jE(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();gl(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:e}=this.node.prevProps||{};t!==e&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let zE=0;class HE extends Mi{constructor(){super(...arguments),this.id=zE++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:e}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const r=this.node.animationState.setActive("exit",!t);e&&!t&&r.then(()=>{e(this.id)})}mount(){const{register:t,onExitComplete:e}=this.node.presenceContext||{};e&&e(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const UE={animation:{Feature:BE},exit:{Feature:HE}};function ho(s,t,e,n={passive:!0}){return s.addEventListener(t,e,n),()=>s.removeEventListener(t,e)}function xo(s){return{point:{x:s.pageX,y:s.pageY}}}const $E=s=>t=>Yh(t)&&s(t,xo(t));function eo(s,t,e,n){return ho(s,t,$E(e),n)}const Jv=1e-4,GE=1-Jv,WE=1+Jv,t0=.01,XE=0-t0,KE=0+t0;function je(s){return s.max-s.min}function qE(s,t,e){return Math.abs(s-t)<=e}function ag(s,t,e,n=.5){s.origin=n,s.originPoint=qt(t.min,t.max,s.origin),s.scale=je(e)/je(t),s.translate=qt(e.min,e.max,s.origin)-s.originPoint,(s.scale>=GE&&s.scale<=WE||isNaN(s.scale))&&(s.scale=1),(s.translate>=XE&&s.translate<=KE||isNaN(s.translate))&&(s.translate=0)}function no(s,t,e,n){ag(s.x,t.x,e.x,n?n.originX:void 0),ag(s.y,t.y,e.y,n?n.originY:void 0)}function lg(s,t,e){s.min=e.min+t.min,s.max=s.min+je(t)}function YE(s,t,e){lg(s.x,t.x,e.x),lg(s.y,t.y,e.y)}function cg(s,t,e){s.min=t.min-e.min,s.max=s.min+je(t)}function io(s,t,e){cg(s.x,t.x,e.x),cg(s.y,t.y,e.y)}function dn(s){return[s("x"),s("y")]}const e0=({current:s})=>s?s.ownerDocument.defaultView:null,ug=(s,t)=>Math.abs(s-t);function QE(s,t){const e=ug(s.x,t.x),n=ug(s.y,t.y);return Math.sqrt(e**2+n**2)}class n0{constructor(t,e,{transformPagePoint:n,contextWindow:r=window,dragSnapToOrigin:a=!1,distanceThreshold:l=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=Mu(this.lastMoveEventInfo,this.history),w=this.startEvent!==null,b=QE(y.offset,{x:0,y:0})>=this.distanceThreshold;if(!w&&!b)return;const{point:x}=y,{timestamp:S}=_e;this.history.push({...x,timestamp:S});const{onStart:E,onMove:T}=this.handlers;w||(E&&E(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),T&&T(this.lastMoveEvent,y)},this.handlePointerMove=(y,w)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=Ru(w,this.transformPagePoint),Gt.update(this.updatePoint,!0)},this.handlePointerUp=(y,w)=>{this.end();const{onEnd:b,onSessionEnd:x,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=Mu(y.type==="pointercancel"?this.lastMoveEventInfo:Ru(w,this.transformPagePoint),this.history);this.startEvent&&b&&b(y,E),x&&x(y,E)},!Yh(t))return;this.dragSnapToOrigin=a,this.handlers=e,this.transformPagePoint=n,this.distanceThreshold=l,this.contextWindow=r||window;const c=xo(t),h=Ru(c,this.transformPagePoint),{point:d}=h,{timestamp:p}=_e;this.history=[{...d,timestamp:p}];const{onSessionStart:m}=e;m&&m(t,Mu(h,this.history)),this.removeListeners=vo(eo(this.contextWindow,"pointermove",this.handlePointerMove),eo(this.contextWindow,"pointerup",this.handlePointerUp),eo(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),ki(this.updatePoint)}}function Ru(s,t){return t?{point:t(s.point)}:s}function hg(s,t){return{x:s.x-t.x,y:s.y-t.y}}function Mu({point:s},t){return{point:s,delta:hg(s,i0(t)),offset:hg(s,ZE(t)),velocity:JE(t,.1)}}function ZE(s){return s[0]}function i0(s){return s[s.length-1]}function JE(s,t){if(s.length<2)return{x:0,y:0};let e=s.length-1,n=null;const r=i0(s);for(;e>=0&&(n=s[e],!(r.timestamp-n.timestamp>Bn(t)));)e--;if(!n)return{x:0,y:0};const a=zn(r.timestamp-n.timestamp);if(a===0)return{x:0,y:0};const l={x:(r.x-n.x)/a,y:(r.y-n.y)/a};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function t_(s,{min:t,max:e},n){return t!==void 0&&s<t?s=n?qt(t,s,n.min):Math.max(s,t):e!==void 0&&s>e&&(s=n?qt(e,s,n.max):Math.min(s,e)),s}function dg(s,t,e){return{min:t!==void 0?s.min+t:void 0,max:e!==void 0?s.max+e-(s.max-s.min):void 0}}function e_(s,{top:t,left:e,bottom:n,right:r}){return{x:dg(s.x,e,r),y:dg(s.y,t,n)}}function fg(s,t){let e=t.min-s.min,n=t.max-s.max;return t.max-t.min<s.max-s.min&&([e,n]=[n,e]),{min:e,max:n}}function n_(s,t){return{x:fg(s.x,t.x),y:fg(s.y,t.y)}}function i_(s,t){let e=.5;const n=je(s),r=je(t);return r>n?e=oo(t.min,t.max-n,s.min):n>r&&(e=oo(s.min,s.max-r,t.min)),ti(0,1,e)}function s_(s,t){const e={};return t.min!==void 0&&(e.min=t.min-s.min),t.max!==void 0&&(e.max=t.max-s.min),e}const ph=.35;function r_(s=ph){return s===!1?s=0:s===!0&&(s=ph),{x:pg(s,"left","right"),y:pg(s,"top","bottom")}}function pg(s,t,e){return{min:mg(s,t),max:mg(s,e)}}function mg(s,t){return typeof s=="number"?s:s[t]||0}const o_=new WeakMap;class a_{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=se(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:e=!1,distanceThreshold:n}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const a=m=>{const{dragSnapToOrigin:y}=this.getProps();y?this.pauseAnimation():this.stopAnimation(),e&&this.snapToCursor(xo(m).point)},l=(m,y)=>{const{drag:w,dragPropagation:b,onDragStart:x}=this.getProps();if(w&&!b&&(this.openDragLock&&this.openDragLock(),this.openDragLock=v1(w),!this.openDragLock))return;this.latestPointerEvent=m,this.latestPanInfo=y,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),dn(E=>{let T=this.getAxisMotionValue(E).get()||0;if(Hn.test(T)){const{projection:_}=this.visualElement;if(_&&_.layout){const P=_.layout.layoutBox[E];P&&(T=je(P)*(parseFloat(T)/100))}}this.originPoint[E]=T}),x&&Gt.postRender(()=>x(m,y)),dh(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},c=(m,y)=>{this.latestPointerEvent=m,this.latestPanInfo=y;const{dragPropagation:w,dragDirectionLock:b,onDirectionLock:x,onDrag:S}=this.getProps();if(!w&&!this.openDragLock)return;const{offset:E}=y;if(b&&this.currentDirection===null){this.currentDirection=l_(E),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",y.point,E),this.updateAxis("y",y.point,E),this.visualElement.render(),S&&S(m,y)},h=(m,y)=>{this.latestPointerEvent=m,this.latestPanInfo=y,this.stop(m,y),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>dn(m=>this.getAnimationState(m)==="paused"&&this.getAxisMotionValue(m).animation?.play()),{dragSnapToOrigin:p}=this.getProps();this.panSession=new n0(t,{onSessionStart:a,onStart:l,onMove:c,onSessionEnd:h,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,distanceThreshold:n,contextWindow:e0(this.visualElement)})}stop(t,e){const n=t||this.latestPointerEvent,r=e||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!r||!n)return;const{velocity:l}=r;this.startAnimation(l);const{onDragEnd:c}=this.getProps();c&&Gt.postRender(()=>c(n,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:e}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),e&&e.setActive("whileDrag",!1)}updateAxis(t,e,n){const{drag:r}=this.getProps();if(!n||!Xa(t,r,this.currentDirection))return;const a=this.getAxisMotionValue(t);let l=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(l=t_(l,this.constraints[t],this.elastic[t])),a.set(l)}resolveConstraints(){const{dragConstraints:t,dragElastic:e}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,r=this.constraints;t&&js(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&n?this.constraints=e_(n.layoutBox,t):this.constraints=!1,this.elastic=r_(e),r!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&dn(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=s_(n.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:e}=this.getProps();if(!t||!js(t))return!1;const n=t.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const a=cE(n,r.root,this.visualElement.getTransformPagePoint());let l=n_(r.layout.layoutBox,a);if(e){const c=e(oE(l));this.hasMutatedConstraints=!!c,c&&(l=Bv(c))}return l}startAnimation(t){const{drag:e,dragMomentum:n,dragElastic:r,dragTransition:a,dragSnapToOrigin:l,onDragTransitionEnd:c}=this.getProps(),h=this.constraints||{},d=dn(p=>{if(!Xa(p,e,this.currentDirection))return;let m=h&&h[p]||{};l&&(m={min:0,max:0});const y=r?200:1e6,w=r?40:1e7,b={type:"inertia",velocity:n?t[p]:0,bounceStiffness:y,bounceDamping:w,timeConstant:750,restDelta:1,restSpeed:10,...a,...m};return this.startAxisValueAnimation(p,b)});return Promise.all(d).then(c)}startAxisValueAnimation(t,e){const n=this.getAxisMotionValue(t);return dh(this.visualElement,t),n.start(rd(t,n,0,e,this.visualElement,!1))}stopAnimation(){dn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){dn(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const e=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),r=n[e];return r||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){dn(e=>{const{drag:n}=this.getProps();if(!Xa(e,n,this.currentDirection))return;const{projection:r}=this.visualElement,a=this.getAxisMotionValue(e);if(r&&r.layout){const{min:l,max:c}=r.layout.layoutBox[e];a.set(t[e]-qt(l,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:e}=this.getProps(),{projection:n}=this.visualElement;if(!js(e)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};dn(l=>{const c=this.getAxisMotionValue(l);if(c&&this.constraints!==!1){const h=c.get();r[l]=i_({min:h,max:h},this.constraints[l])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),dn(l=>{if(!Xa(l,t,null))return;const c=this.getAxisMotionValue(l),{min:h,max:d}=this.constraints[l];c.set(qt(h,d,r[l]))})}addListeners(){if(!this.visualElement.current)return;o_.set(this.visualElement,this);const t=this.visualElement.current,e=eo(t,"pointerdown",h=>{const{drag:d,dragListener:p=!0}=this.getProps();d&&p&&this.start(h)}),n=()=>{const{dragConstraints:h}=this.getProps();js(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,a=r.addEventListener("measure",n);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),Gt.read(n);const l=ho(window,"resize",()=>this.scalePositionWithinConstraints()),c=r.addEventListener("didUpdate",(({delta:h,hasLayoutChanged:d})=>{this.isDragging&&d&&(dn(p=>{const m=this.getAxisMotionValue(p);m&&(this.originPoint[p]+=h[p].translate,m.set(m.get()+h[p].translate))}),this.visualElement.render())}));return()=>{l(),e(),a(),c&&c()}}getProps(){const t=this.visualElement.getProps(),{drag:e=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:a=!1,dragElastic:l=ph,dragMomentum:c=!0}=t;return{...t,drag:e,dragDirectionLock:n,dragPropagation:r,dragConstraints:a,dragElastic:l,dragMomentum:c}}}function Xa(s,t,e){return(t===!0||t===s)&&(e===null||e===s)}function l_(s,t=10){let e=null;return Math.abs(s.y)>t?e="y":Math.abs(s.x)>t&&(e="x"),e}class c_ extends Mi{constructor(t){super(t),this.removeGroupControls=fn,this.removeListeners=fn,this.controls=new a_(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||fn}unmount(){this.removeGroupControls(),this.removeListeners()}}const gg=s=>(t,e)=>{s&&Gt.postRender(()=>s(t,e))};class u_ extends Mi{constructor(){super(...arguments),this.removePointerDownListener=fn}onPointerDown(t){this.session=new n0(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:e0(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:e,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:gg(t),onStart:gg(e),onMove:n,onEnd:(a,l)=>{delete this.session,r&&Gt.postRender(()=>r(a,l))}}}mount(){this.removePointerDownListener=eo(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const sl={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function yg(s,t){return t.max===t.min?0:s/(t.max-t.min)*100}const Gr={correct:(s,t)=>{if(!t.target)return s;if(typeof s=="string")if(At.test(s))s=parseFloat(s);else return s;const e=yg(s,t.target.x),n=yg(s,t.target.y);return`${e}% ${n}%`}},h_={correct:(s,{treeScale:t,projectionDelta:e})=>{const n=s,r=Pi.parse(s);if(r.length>5)return n;const a=Pi.createTransformer(s),l=typeof r[0]!="number"?1:0,c=e.x.scale*t.x,h=e.y.scale*t.y;r[0+l]/=c,r[1+l]/=h;const d=qt(c,h,.5);return typeof r[2+l]=="number"&&(r[2+l]/=d),typeof r[3+l]=="number"&&(r[3+l]/=d),a(r)}};let Lu=!1;class d_ extends z.Component{componentDidMount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:n,layoutId:r}=this.props,{projection:a}=t;D1(f_),a&&(e.group&&e.group.add(a),n&&n.register&&r&&n.register(a),Lu&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),sl.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:e,visualElement:n,drag:r,isPresent:a}=this.props,{projection:l}=n;return l&&(l.isPresent=a,Lu=!0,r||t.layoutDependency!==e||e===void 0||t.isPresent!==a?l.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?l.promote():l.relegate()||Gt.postRender(()=>{const c=l.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),qh.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:n}=this.props,{projection:r}=t;Lu=!0,r&&(r.scheduleCheckAfterUnmount(),e&&e.group&&e.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function s0(s){const[t,e]=T1(),n=z.useContext(Fy);return F.jsx(d_,{...s,layoutGroup:n,switchLayoutGroup:z.useContext(jv),isPresent:t,safeToRemove:e})}const f_={borderRadius:{...Gr,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Gr,borderTopRightRadius:Gr,borderBottomLeftRadius:Gr,borderBottomRightRadius:Gr,boxShadow:h_};function p_(s,t,e){const n=De(s)?s:qs(s);return n.start(rd("",n,t,e)),n.animation}const m_=(s,t)=>s.depth-t.depth;class g_{constructor(){this.children=[],this.isDirty=!1}add(t){Rh(this.children,t),this.isDirty=!0}remove(t){Mh(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(m_),this.isDirty=!1,this.children.forEach(t)}}function y_(s,t){const e=Xe.now(),n=({timestamp:r})=>{const a=r-e;a>=t&&(ki(n),s(a-t))};return Gt.setup(n,!0),()=>ki(n)}const r0=["TopLeft","TopRight","BottomLeft","BottomRight"],v_=r0.length,vg=s=>typeof s=="string"?parseFloat(s):s,wg=s=>typeof s=="number"||At.test(s);function w_(s,t,e,n,r,a){r?(s.opacity=qt(0,e.opacity??1,b_(n)),s.opacityExit=qt(t.opacity??1,0,x_(n))):a&&(s.opacity=qt(t.opacity??1,e.opacity??1,n));for(let l=0;l<v_;l++){const c=`border${r0[l]}Radius`;let h=bg(t,c),d=bg(e,c);if(h===void 0&&d===void 0)continue;h||(h=0),d||(d=0),h===0||d===0||wg(h)===wg(d)?(s[c]=Math.max(qt(vg(h),vg(d),n),0),(Hn.test(d)||Hn.test(h))&&(s[c]+="%")):s[c]=d}(t.rotate||e.rotate)&&(s.rotate=qt(t.rotate||0,e.rotate||0,n))}function bg(s,t){return s[t]!==void 0?s[t]:s.borderRadius}const b_=o0(0,.5,Xy),x_=o0(.5,.95,fn);function o0(s,t,e){return n=>n<s?0:n>t?1:e(oo(s,t,n))}function xg(s,t){s.min=t.min,s.max=t.max}function cn(s,t){xg(s.x,t.x),xg(s.y,t.y)}function Ag(s,t){s.translate=t.translate,s.scale=t.scale,s.originPoint=t.originPoint,s.origin=t.origin}function Sg(s,t,e,n,r){return s-=t,s=ul(s,1/e,n),r!==void 0&&(s=ul(s,1/r,n)),s}function A_(s,t=0,e=1,n=.5,r,a=s,l=s){if(Hn.test(t)&&(t=parseFloat(t),t=qt(l.min,l.max,t/100)-l.min),typeof t!="number")return;let c=qt(a.min,a.max,n);s===a&&(c-=t),s.min=Sg(s.min,t,e,c,r),s.max=Sg(s.max,t,e,c,r)}function Eg(s,t,[e,n,r],a,l){A_(s,t[e],t[n],t[r],t.scale,a,l)}const S_=["x","scaleX","originX"],E_=["y","scaleY","originY"];function _g(s,t,e,n){Eg(s.x,t,S_,e?e.x:void 0,n?n.x:void 0),Eg(s.y,t,E_,e?e.y:void 0,n?n.y:void 0)}function Cg(s){return s.translate===0&&s.scale===1}function a0(s){return Cg(s.x)&&Cg(s.y)}function Tg(s,t){return s.min===t.min&&s.max===t.max}function __(s,t){return Tg(s.x,t.x)&&Tg(s.y,t.y)}function kg(s,t){return Math.round(s.min)===Math.round(t.min)&&Math.round(s.max)===Math.round(t.max)}function l0(s,t){return kg(s.x,t.x)&&kg(s.y,t.y)}function Pg(s){return je(s.x)/je(s.y)}function Rg(s,t){return s.translate===t.translate&&s.scale===t.scale&&s.originPoint===t.originPoint}class C_{constructor(){this.members=[]}add(t){Rh(this.members,t),t.scheduleRender()}remove(t){if(Mh(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(t){const e=this.members.findIndex(r=>t===r);if(e===0)return!1;let n;for(let r=e;r>=0;r--){const a=this.members[r];if(a.isPresent!==!1){n=a;break}}return n?(this.promote(n),!0):!1}promote(t,e){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,e&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:r}=t.options;r===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:e,resumingFrom:n}=t;e.onExitComplete&&e.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function T_(s,t,e){let n="";const r=s.x.translate/t.x,a=s.y.translate/t.y,l=e?.z||0;if((r||a||l)&&(n=`translate3d(${r}px, ${a}px, ${l}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),e){const{transformPerspective:d,rotate:p,rotateX:m,rotateY:y,skewX:w,skewY:b}=e;d&&(n=`perspective(${d}px) ${n}`),p&&(n+=`rotate(${p}deg) `),m&&(n+=`rotateX(${m}deg) `),y&&(n+=`rotateY(${y}deg) `),w&&(n+=`skewX(${w}deg) `),b&&(n+=`skewY(${b}deg) `)}const c=s.x.scale*t.x,h=s.y.scale*t.y;return(c!==1||h!==1)&&(n+=`scale(${c}, ${h})`),n||"none"}const Iu=["","X","Y","Z"],k_=1e3;let P_=0;function Du(s,t,e,n){const{latestValues:r}=t;r[s]&&(e[s]=r[s],t.setStaticValue(s,0),n&&(n[s]=0))}function c0(s){if(s.hasCheckedOptimisedAppear=!0,s.root===s)return;const{visualElement:t}=s.options;if(!t)return;const e=Kv(t);if(window.MotionHasOptimisedAnimation(e,"transform")){const{layout:r,layoutId:a}=s.options;window.MotionCancelOptimisedAnimation(e,"transform",Gt,!(r||a))}const{parent:n}=s;n&&!n.hasCheckedOptimisedAppear&&c0(n)}function u0({attachResizeListener:s,defaultParent:t,measureScroll:e,checkIsScrollRoot:n,resetTransform:r}){return class{constructor(l={},c=t?.()){this.id=P_++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(L_),this.nodes.forEach(F_),this.nodes.forEach(O_),this.nodes.forEach(I_)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new g_)}addEventListener(l,c){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new Dh),this.eventHandlers.get(l).add(c)}notifyListeners(l,...c){const h=this.eventHandlers.get(l);h&&h.notify(...c)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=_v(l)&&!E1(l),this.instance=l;const{layoutId:c,layout:h,visualElement:d}=this.options;if(d&&!d.current&&d.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(h||c)&&(this.isLayoutDirty=!0),s){let p,m=0;const y=()=>this.root.updateBlockedByResize=!1;Gt.read(()=>{m=window.innerWidth}),s(l,()=>{const w=window.innerWidth;w!==m&&(m=w,this.root.updateBlockedByResize=!0,p&&p(),p=y_(y,250),sl.hasAnimatedSinceResize&&(sl.hasAnimatedSinceResize=!1,this.nodes.forEach(Ig)))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||h)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:m,hasRelativeLayoutChanged:y,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||d.getDefaultTransition()||H_,{onLayoutAnimationStart:x,onLayoutAnimationComplete:S}=d.getProps(),E=!this.targetLayout||!l0(this.targetLayout,w),T=!m&&y;if(this.options.layoutRoot||this.resumeFrom||T||m&&(E||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const _={...Xh(b,"layout"),onPlay:x,onComplete:S};(d.shouldReduceMotion||this.options.layoutRoot)&&(_.delay=0,_.type=!1),this.startAnimation(_),this.setAnimationOrigin(p,T)}else m||Ig(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ki(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(j_),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&c0(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const m=this.path[p];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:c,layout:h}=this.options;if(c===void 0&&!h)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Mg);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Lg);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(N_),this.nodes.forEach(R_),this.nodes.forEach(M_)):this.nodes.forEach(Lg),this.clearAllSnapshots();const c=Xe.now();_e.delta=ti(0,1e3/60,c-_e.timestamp),_e.timestamp=c,_e.isProcessing=!0,Au.update.process(_e),Au.preRender.process(_e),Au.render.process(_e),_e.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,qh.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(D_),this.sharedNodes.forEach(V_)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Gt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Gt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!je(this.snapshot.measuredBox.x)&&!je(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=se(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(c=!1),c&&this.instance){const h=n(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:h,offset:e(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!r)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!a0(this.projectionDelta),h=this.getTransformTemplate(),d=h?h(this.latestValues,""):void 0,p=d!==this.prevTransformTemplateValue;l&&this.instance&&(c||Yi(this.latestValues)||p)&&(r(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const c=this.measurePageBox();let h=this.removeElementScroll(c);return l&&(h=this.removeTransform(h)),U_(h),{animationId:this.root.animationId,measuredBox:c,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return se();const c=l.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some($_))){const{scroll:d}=this.root;d&&(Vs(c.x,d.offset.x),Vs(c.y,d.offset.y))}return c}removeElementScroll(l){const c=se();if(cn(c,l),this.scroll?.wasRoot)return c;for(let h=0;h<this.path.length;h++){const d=this.path[h],{scroll:p,options:m}=d;d!==this.root&&p&&m.layoutScroll&&(p.wasRoot&&cn(c,l),Vs(c.x,p.offset.x),Vs(c.y,p.offset.y))}return c}applyTransform(l,c=!1){const h=se();cn(h,l);for(let d=0;d<this.path.length;d++){const p=this.path[d];!c&&p.options.layoutScroll&&p.scroll&&p!==p.root&&Bs(h,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),Yi(p.latestValues)&&Bs(h,p.latestValues)}return Yi(this.latestValues)&&Bs(h,this.latestValues),h}removeTransform(l){const c=se();cn(c,l);for(let h=0;h<this.path.length;h++){const d=this.path[h];if(!d.instance||!Yi(d.latestValues))continue;lh(d.latestValues)&&d.updateSnapshot();const p=se(),m=d.measurePageBox();cn(p,m),_g(c,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,p)}return Yi(this.latestValues)&&_g(c,this.latestValues),c}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==_e.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==c;if(!(l||h&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:m}=this.options;if(!(!this.layout||!(p||m))){if(this.resolvedRelativeTargetAt=_e.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=se(),this.relativeTargetOrigin=se(),io(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),cn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=se(),this.targetWithTransforms=se()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),YE(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):cn(this.target,this.layout.layoutBox),Hv(this.target,this.targetDelta)):cn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=se(),this.relativeTargetOrigin=se(),io(this.relativeTargetOrigin,this.target,y.target),cn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||lh(this.parent.latestValues)||zv(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const l=this.getLead(),c=!!this.resumingFrom||this!==l;let h=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(h=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===_e.timestamp&&(h=!1),h)return;const{layout:d,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||p))return;cn(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,y=this.treeScale.y;lE(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=se());const{target:w}=l;if(!w){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Ag(this.prevProjectionDelta.x,this.projectionDelta.x),Ag(this.prevProjectionDelta.y,this.projectionDelta.y)),no(this.projectionDelta,this.layoutCorrected,w,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==y||!Rg(this.projectionDelta.x,this.prevProjectionDelta.x)||!Rg(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){if(this.options.visualElement?.scheduleRender(),l){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=zs(),this.projectionDelta=zs(),this.projectionDeltaWithTransform=zs()}setAnimationOrigin(l,c=!1){const h=this.snapshot,d=h?h.latestValues:{},p={...this.latestValues},m=zs();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const y=se(),w=h?h.source:void 0,b=this.layout?this.layout.source:void 0,x=w!==b,S=this.getStack(),E=!S||S.members.length<=1,T=!!(x&&!E&&this.options.crossfade===!0&&!this.path.some(z_));this.animationProgress=0;let _;this.mixTargetDelta=P=>{const k=P/1e3;Dg(m.x,l.x,k),Dg(m.y,l.y,k),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(io(y,this.layout.layoutBox,this.relativeParent.layout.layoutBox),B_(this.relativeTarget,this.relativeTargetOrigin,y,k),_&&__(this.relativeTarget,_)&&(this.isProjectionDirty=!1),_||(_=se()),cn(_,this.relativeTarget)),x&&(this.animationValues=p,w_(p,d,this.latestValues,k,T,E)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=k},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(ki(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Gt.update(()=>{sl.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=qs(0)),this.currentAnimation=p_(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:c=>{this.mixTargetDelta(c),l.onUpdate&&l.onUpdate(c)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(k_),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:c,target:h,layout:d,latestValues:p}=l;if(!(!c||!h||!d)){if(this!==l&&this.layout&&d&&h0(this.options.animationType,this.layout.layoutBox,d.layoutBox)){h=this.target||se();const m=je(this.layout.layoutBox.x);h.x.min=l.target.x.min,h.x.max=h.x.min+m;const y=je(this.layout.layoutBox.y);h.y.min=l.target.y.min,h.y.max=h.y.min+y}cn(c,h),Bs(c,p),no(this.projectionDeltaWithTransform,this.layoutCorrected,c,p)}}registerSharedNode(l,c){this.sharedNodes.has(l)||this.sharedNodes.set(l,new C_),this.sharedNodes.get(l).add(c);const d=c.options.initialPromotionConfig;c.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(c):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){const{layoutId:l}=this.options;return l?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:l}=this.options;return l?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:c,preserveFollowOpacity:h}={}){const d=this.getStack();d&&d.promote(this,h),l&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let c=!1;const{latestValues:h}=l;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(c=!0),!c)return;const d={};h.z&&Du("z",l,d,this.animationValues);for(let p=0;p<Iu.length;p++)Du(`rotate${Iu[p]}`,l,d,this.animationValues),Du(`skew${Iu[p]}`,l,d,this.animationValues);l.render();for(const p in d)l.setStaticValue(p,d[p]),this.animationValues&&(this.animationValues[p]=d[p]);l.scheduleRender()}applyProjectionStyles(l,c){if(!this.instance||this.isSVG)return;if(!this.isVisible){l.visibility="hidden";return}const h=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,l.visibility="",l.opacity="",l.pointerEvents=il(c?.pointerEvents)||"",l.transform=h?h(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(l.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,l.pointerEvents=il(c?.pointerEvents)||""),this.hasProjected&&!Yi(this.latestValues)&&(l.transform=h?h({},""):"none",this.hasProjected=!1);return}l.visibility="";const p=d.animationValues||d.latestValues;this.applyTransformsToTarget();let m=T_(this.projectionDeltaWithTransform,this.treeScale,p);h&&(m=h(p,m)),l.transform=m;const{x:y,y:w}=this.projectionDelta;l.transformOrigin=`${y.origin*100}% ${w.origin*100}% 0`,d.animationValues?l.opacity=d===this?p.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:l.opacity=d===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const b in uo){if(p[b]===void 0)continue;const{correct:x,applyTo:S,isCSSVariable:E}=uo[b],T=m==="none"?p[b]:x(p[b],d);if(S){const _=S.length;for(let P=0;P<_;P++)l[S[P]]=T}else E?this.options.visualElement.renderState.vars[b]=T:l[b]=T}this.options.layoutId&&(l.pointerEvents=d===this?il(c?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>l.currentAnimation?.stop()),this.root.nodes.forEach(Mg),this.root.sharedNodes.clear()}}}function R_(s){s.updateLayout()}function M_(s){const t=s.resumeFrom?.snapshot||s.snapshot;if(s.isLead()&&s.layout&&t&&s.hasListeners("didUpdate")){const{layoutBox:e,measuredBox:n}=s.layout,{animationType:r}=s.options,a=t.source!==s.layout.source;r==="size"?dn(p=>{const m=a?t.measuredBox[p]:t.layoutBox[p],y=je(m);m.min=e[p].min,m.max=m.min+y}):h0(r,t.layoutBox,e)&&dn(p=>{const m=a?t.measuredBox[p]:t.layoutBox[p],y=je(e[p]);m.max=m.min+y,s.relativeTarget&&!s.currentAnimation&&(s.isProjectionDirty=!0,s.relativeTarget[p].max=s.relativeTarget[p].min+y)});const l=zs();no(l,e,t.layoutBox);const c=zs();a?no(c,s.applyTransform(n,!0),t.measuredBox):no(c,e,t.layoutBox);const h=!a0(l);let d=!1;if(!s.resumeFrom){const p=s.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:m,layout:y}=p;if(m&&y){const w=se();io(w,t.layoutBox,m.layoutBox);const b=se();io(b,e,y.layoutBox),l0(w,b)||(d=!0),p.options.layoutRoot&&(s.relativeTarget=b,s.relativeTargetOrigin=w,s.relativeParent=p)}}}s.notifyListeners("didUpdate",{layout:e,snapshot:t,delta:c,layoutDelta:l,hasLayoutChanged:h,hasRelativeLayoutChanged:d})}else if(s.isLead()){const{onExitComplete:e}=s.options;e&&e()}s.options.transition=void 0}function L_(s){s.parent&&(s.isProjecting()||(s.isProjectionDirty=s.parent.isProjectionDirty),s.isSharedProjectionDirty||(s.isSharedProjectionDirty=!!(s.isProjectionDirty||s.parent.isProjectionDirty||s.parent.isSharedProjectionDirty)),s.isTransformDirty||(s.isTransformDirty=s.parent.isTransformDirty))}function I_(s){s.isProjectionDirty=s.isSharedProjectionDirty=s.isTransformDirty=!1}function D_(s){s.clearSnapshot()}function Mg(s){s.clearMeasurements()}function Lg(s){s.isLayoutDirty=!1}function N_(s){const{visualElement:t}=s.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),s.resetTransform()}function Ig(s){s.finishAnimation(),s.targetDelta=s.relativeTarget=s.target=void 0,s.isProjectionDirty=!0}function F_(s){s.resolveTargetDelta()}function O_(s){s.calcProjection()}function j_(s){s.resetSkewAndRotation()}function V_(s){s.removeLeadSnapshot()}function Dg(s,t,e){s.translate=qt(t.translate,0,e),s.scale=qt(t.scale,1,e),s.origin=t.origin,s.originPoint=t.originPoint}function Ng(s,t,e,n){s.min=qt(t.min,e.min,n),s.max=qt(t.max,e.max,n)}function B_(s,t,e,n){Ng(s.x,t.x,e.x,n),Ng(s.y,t.y,e.y,n)}function z_(s){return s.animationValues&&s.animationValues.opacityExit!==void 0}const H_={duration:.45,ease:[.4,0,.1,1]},Fg=s=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(s),Og=Fg("applewebkit/")&&!Fg("chrome/")?Math.round:fn;function jg(s){s.min=Og(s.min),s.max=Og(s.max)}function U_(s){jg(s.x),jg(s.y)}function h0(s,t,e){return s==="position"||s==="preserve-aspect"&&!qE(Pg(t),Pg(e),.2)}function $_(s){return s!==s.root&&s.scroll?.wasRoot}const G_=u0({attachResizeListener:(s,t)=>ho(s,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Nu={current:void 0},d0=u0({measureScroll:s=>({x:s.scrollLeft,y:s.scrollTop}),defaultParent:()=>{if(!Nu.current){const s=new G_({});s.mount(window),s.setOptions({layoutScroll:!0}),Nu.current=s}return Nu.current},resetTransform:(s,t)=>{s.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:s=>window.getComputedStyle(s).position==="fixed"}),W_={pan:{Feature:u_},drag:{Feature:c_,ProjectionNode:d0,MeasureLayout:s0}};function Vg(s,t,e){const{props:n}=s;s.animationState&&n.whileHover&&s.animationState.setActive("whileHover",e==="Start");const r="onHover"+e,a=n[r];a&&Gt.postRender(()=>a(t,xo(t)))}class X_ extends Mi{mount(){const{current:t}=this.node;t&&(this.unmount=w1(t,(e,n)=>(Vg(this.node,n,"Start"),r=>Vg(this.node,r,"End"))))}unmount(){}}class K_ extends Mi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=vo(ho(this.node.current,"focus",()=>this.onFocus()),ho(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Bg(s,t,e){const{props:n}=s;if(s.current instanceof HTMLButtonElement&&s.current.disabled)return;s.animationState&&n.whileTap&&s.animationState.setActive("whileTap",e==="Start");const r="onTap"+(e==="End"?"":e),a=n[r];a&&Gt.postRender(()=>a(t,xo(t)))}class q_ extends Mi{mount(){const{current:t}=this.node;t&&(this.unmount=S1(t,(e,n)=>(Bg(this.node,n,"Start"),(r,{success:a})=>Bg(this.node,r,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const mh=new WeakMap,Fu=new WeakMap,Y_=s=>{const t=mh.get(s.target);t&&t(s)},Q_=s=>{s.forEach(Y_)};function Z_({root:s,...t}){const e=s||document;Fu.has(e)||Fu.set(e,{});const n=Fu.get(e),r=JSON.stringify(t);return n[r]||(n[r]=new IntersectionObserver(Q_,{root:s,...t})),n[r]}function J_(s,t,e){const n=Z_(t);return mh.set(s,e),n.observe(s),()=>{mh.delete(s),n.unobserve(s)}}const tC={some:0,all:1};class eC extends Mi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:e,margin:n,amount:r="some",once:a}=t,l={root:e?e.current:void 0,rootMargin:n,threshold:typeof r=="number"?r:tC[r]},c=h=>{const{isIntersecting:d}=h;if(this.isInView===d||(this.isInView=d,a&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:p,onViewportLeave:m}=this.node.getProps(),y=d?p:m;y&&y(h)};return J_(this.node.current,l,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:e}=this.node;["amount","margin","root"].some(nC(t,e))&&this.startObserver()}unmount(){}}function nC({viewport:s={}},{viewport:t={}}={}){return e=>s[e]!==t[e]}const iC={inView:{Feature:eC},tap:{Feature:q_},focus:{Feature:K_},hover:{Feature:X_}},sC={layout:{ProjectionNode:d0,MeasureLayout:s0}},rC={...UE,...iC,...W_,...sC},Ot=rE(rC,vE),oC="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODgiIGhlaWdodD0iODgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBvcGFjaXR5PSIuMyIgZmlsbD0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIzLjciPjxyZWN0IHg9IjE2IiB5PSIxNiIgd2lkdGg9IjU2IiBoZWlnaHQ9IjU2IiByeD0iNiIvPjxwYXRoIGQ9Im0xNiA1OCAxNi0xOCAzMiAzMiIvPjxjaXJjbGUgY3g9IjUzIiBjeT0iMzUiIHI9IjciLz48L3N2Zz4KCg==";function aC(s){const[t,e]=z.useState(!1),n=()=>{e(!0)},{src:r,alt:a,style:l,className:c,...h}=s;return t?F.jsx("div",{className:`inline-block bg-gray-100 text-center align-middle ${c??""}`,style:l,children:F.jsx("div",{className:"flex items-center justify-center w-full h-full",children:F.jsx("img",{src:oC,alt:"Error loading image",...h,"data-original-url":r})})}):F.jsx("img",{src:r,alt:a,className:c,style:l,...h,onError:n})}const lC="/weiyings-portfolio/assets/pfp-C4mp_MeN.jpeg";function zg(){const s=["an Information Technology Student","a Junior Full Stack Web Developer","a Problem Solver","a Tech Enthusiast","a Creative Thinker"],[t,e]=z.useState(0);z.useEffect(()=>{const a=setInterval(()=>{e(l=>(l+1)%s.length)},3e3);return()=>clearInterval(a)},[]);const n=()=>{window.open("https://www.linkedin.com/in/lee-weiying/","_blank")},r=()=>{window.open("https://github.com/emery97","_blank")};return F.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center relative overflow-hidden",children:[F.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 via-background to-secondary/10"}),F.jsx(Ot.div,{className:"absolute bottom-32 right-16 w-32 h-32 bg-secondary/20 rounded-full blur-xl",animate:{y:[0,15,0],x:[0,-15,0]},transition:{duration:8,repeat:1/0,ease:"easeInOut"}}),F.jsxs("div",{className:"text-center z-10 px-4",children:[F.jsx(Ot.div,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},transition:{duration:.8,ease:"easeOut"},className:"mb-8",children:F.jsxs("div",{className:"relative mx-auto w-32 h-32 md:w-40 md:h-40 lg:w-48 lg:h-48",children:[F.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary to-primary/70 rounded-full animate-pulse"}),F.jsx("div",{className:"absolute inset-1 bg-background rounded-full",children:F.jsx(aC,{src:lC,alt:"Wei Ying",className:"w-full h-full object-cover rounded-full"})})]})}),F.jsx(Ot.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},children:F.jsxs("h1",{className:"text-4xl md:text-6xl lg:text-7xl mb-6",children:["Hi there, I'm"," ",F.jsx("span",{className:"bg-gradient-to-r from-primary to-primary/70 bg-clip-text text-transparent",children:"Wei Ying"}),F.jsx("span",{className:"wave",role:"img","aria-labelledby":"wave",children:""})]})}),F.jsxs(Ot.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.4},className:"text-xl md:text-2xl lg:text-3xl mb-8 h-12 flex items-center justify-center",children:[F.jsx("span",{className:"mr-3",children:"I am"}),F.jsx(Ot.span,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.5},className:"text-primary font-medium",children:s[t]},t)]}),F.jsx(Ot.p,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.6},className:"text-lg md:text-xl text-muted-foreground max-w-2xl mx-auto mb-12",children:"Passionate about technology, always learning, and ready to create amazing digital experiences."}),F.jsxs(Ot.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.8,delay:.8},className:"flex flex-col sm:flex-row gap-4 justify-center",children:[F.jsxs(Ot.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:n,className:"btn linkedin-btn",children:[F.jsx(Ay,{size:20}),"LinkedIn"]}),F.jsxs(Ot.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:r,className:"btn github-btn",children:[F.jsx(rl,{size:20}),"GitHub"]})]})]})]})}const cC=_y("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function Hs({className:s,variant:t,asChild:e=!1,...n}){const r=e?Sy:"span";return F.jsx(r,{"data-slot":"badge",className:as(cC({variant:t}),s),...n})}function f0({className:s,...t}){return F.jsx("div",{"data-slot":"card",className:as("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",s),...t})}function uC({className:s,...t}){return F.jsx("div",{"data-slot":"card-header",className:as("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",s),...t})}function hC({className:s,...t}){return F.jsx("h4",{"data-slot":"card-title",className:as("leading-none",s),...t})}function dC({className:s,...t}){return F.jsx("p",{"data-slot":"card-description",className:as("text-muted-foreground",s),...t})}function p0({className:s,...t}){return F.jsx("div",{"data-slot":"card-content",className:as("px-6 [&:last-child]:pb-6",s),...t})}function fC(){const[s,t]=z.useState(0),e=z.useRef(null),n=["JavaScript","TypeScript","React","Node.js","Python","HTML/CSS","Tailwind CSS","Git","MongoDB","PostgreSQL","Docker","AWS","Express.js","Next.js","C++","C#","React Native","Java","SQL"],r=["PowerBI","Figma","Visual Paradigm","Postman","GitHub","Canva","Andriod Studio","Jira","Visual Studio Code"],a=[{year:"Mar 2025 - Mar 2026",title:"Software Development Intern",company:"A*STAR | Agency for Science, Technology and Research",description:"Contributed to software development projects, collaborating with cross-functional teams to design, implement, and optimize software solutions for sustainability initiatives.",type:"experience"},{year:"2023 - 2026",title:"Diploma in Information Technology",company:"Ngee Ann Polytechnic, School of Infocomm Technology",description:"Specialized in Software Engineering with a minor in Social Media Marketing. Gained comprehensive knowledge in IT systems, programming, and digital marketing strategies.",type:"education"},{year:"Dec 2023 - Feb 2024",title:"Indoor Sales Associate",company:"AR Robotics and Automation",description:"Composed persuasive email campaigns targeting companies, promoted robotic solutions, sourced and compiled contact information using Apollo.io and Hunter.io, and optimized outreach strategies to improve productivity and conversion.",type:"experience"},{year:"Nov 2020 - Nov 2023",title:"Crew",company:"McDonalds, Singapore",description:"Cross-trained across multiple store positions to ensure smooth operations. Delivered excellent customer service and effectively handled inquiries and complaints.",type:"experience"}];z.useEffect(()=>{const c=()=>{if(!e.current)return;const h=e.current.getBoundingClientRect(),d=h.height,p=window.innerHeight,m=window.pageYOffset||document.documentElement.scrollTop,y=h.top+m,w=Math.min(1,Math.max(0,(m-y+p)/d)),b=Math.min(Math.floor(w*(a.length-1)+.3),a.length-1);t(b)};return window.addEventListener("scroll",c,{passive:!0}),c(),()=>window.removeEventListener("scroll",c)},[a.length]);const l=c=>({education:"bg-blue-500",experience:"bg-green-500",project:"bg-purple-500",skill:"bg-purple-500"})[c]||"bg-gray-500";return F.jsx("div",{className:"min-h-screen pt-20 pb-16",children:F.jsxs("div",{className:"container mx-auto px-4",children:[F.jsxs(Ot.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"text-center mb-16",children:[F.jsx("h1",{className:"text-4xl md:text-5xl mb-6",children:"About Me"}),F.jsxs("div",{className:"max-w-3xl mx-auto",children:[F.jsx("p",{className:"text-lg text-muted-foreground mb-6",children:"I have a deep passion for both technology and business. My long-term goal is to build my own business, integrating technology to drive innovation and growth. I pride myself on a strong work ethic, resilience in the face of challenges, and the ability to thrive both as a team player and as a leader."}),F.jsxs("p",{className:"text-lg text-muted-foreground mb-6",children:['One of my guiding principles is the mindset of "Not Yet," inspired by Matt Abrahams ',F.jsx("em",{children:"Think Faster, Talk Smarter"}),". This perspective helps me view setbacks as opportunities rather than failures, turning challenges into stepping stones for continuous learning and growth."]}),F.jsxs("p",{className:"text-lg text-muted-foreground",children:["If youd like to connect or have job opportunities available, feel free to reach out to me at"," ",F.jsx("a",{href:"mailto:leeweiying.info@gmail.com",className:"email-link",children:"leeweiying.info@gmail.com"}),"."]})]})]}),F.jsxs(Ot.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"mb-20",children:[F.jsx("h2",{className:"text-3xl text-center mb-8",children:"Tech Stack"}),F.jsx("div",{className:"flex flex-wrap justify-center gap-3 max-w-4xl mx-auto",children:n.map((c,h)=>F.jsx(Ot.div,{initial:{opacity:0,scale:.8},whileInView:{opacity:1,scale:1},transition:{duration:.5,delay:h*.1},viewport:{once:!0},children:F.jsx(Hs,{variant:"secondary",className:"px-4 py-2 text-sm",children:c})},c))})]}),F.jsxs(Ot.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"mb-20",children:[F.jsx("h2",{className:"text-3xl text-center mb-8",children:"Tool Stack"}),F.jsx("div",{className:"flex flex-wrap justify-center gap-3 max-w-4xl mx-auto",children:r.map((c,h)=>F.jsx(Ot.div,{initial:{opacity:0,scale:.8},whileInView:{opacity:1,scale:1},transition:{duration:.5,delay:h*.1},viewport:{once:!0},children:F.jsxs(Hs,{variant:"secondary",className:"px-4 py-2 text-sm",children:[c," "]})},c))})]}),F.jsxs(Ot.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"mb-16",children:[F.jsx("h2",{className:"text-3xl text-center mb-12",children:"My Journey"}),F.jsxs("div",{ref:e,className:"relative max-w-4xl mx-auto pb-[100vh]",children:[F.jsx("div",{className:"absolute left-4 md:left-1/2 top-0 bottom-0 w-0.5 bg-border transform md:-translate-x-1/2",children:F.jsx(Ot.div,{className:"absolute top-0 left-0 w-full bg-gradient-to-b from-primary to-primary/70 origin-top",initial:{height:"0%"},animate:{height:`${s/Math.max(a.length-1,1)*100}%`},transition:{duration:.6,ease:"easeInOut"}})}),a.map((c,h)=>F.jsxs(Ot.div,{initial:{opacity:0,x:h%2===0?-50:50},whileInView:{opacity:1,x:0},transition:{duration:.6,delay:h*.1},viewport:{once:!0},className:`relative flex items-center mb-12 ${h%2===0?"md:flex-row":"md:flex-row-reverse"}`,children:[F.jsxs("div",{className:"absolute left-4 md:left-1/2 transform md:-translate-x-1/2 z-10",children:[F.jsx(Ot.div,{className:`w-4 h-4 rounded-full border-4 border-background ${h<=s?l(c.type):"bg-muted"}`,initial:{scale:.8,opacity:.5},animate:{scale:h<=s?1.2:.8,opacity:h<=s?1:.5},transition:{duration:.4,ease:"easeInOut"}}),h<=s&&F.jsx(Ot.div,{className:`absolute inset-0 rounded-full ${l(c.type)} opacity-30`,initial:{scale:1},animate:{scale:[1,1.5,1]},transition:{duration:2,repeat:1/0,ease:"easeInOut"}})]}),F.jsx("div",{className:`ml-12 md:ml-0 ${h%2===0?"md:mr-8":"md:ml-8"} md:w-1/2`,children:F.jsx(Ot.div,{initial:{opacity:.6,scale:.95},animate:{opacity:h<=s?1:.6,scale:h<=s?1:.95,y:h<=s?0:10},transition:{duration:.5,ease:"easeInOut"},children:F.jsx(f0,{className:`transition-all duration-500 rounded-xl overflow-hidden ${h<=s?"shadow-lg border-primary/20 bg-card":"shadow-sm border-border/50 bg-muted/30"}`,children:F.jsxs(p0,{className:"p-6",children:[F.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[F.jsx(Hs,{variant:"outline",className:"text-xs",children:c.year}),F.jsx(Hs,{variant:"secondary",className:`text-xs ${l(c.type)} text-white`,children:c.type})]}),F.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:c.title}),F.jsx("div",{className:"text-indigo-600 font-light text-sm mb-2",children:c.company}),F.jsx("p",{className:"text-muted-foreground text-sm leading-relaxed",children:c.description})]})})})})]},h))]})]})]})})}const pC="/weiyings-portfolio/assets/ameliaXweiying-spgJd3qV.png",mC="/weiyings-portfolio/assets/eduhelper-D5rjDXex.png",gC="/weiyings-portfolio/assets/ticketFinder-BFyK47Se.png",yC="/weiyings-portfolio/assets/legitAnot-BcNCfGby.png",vC="/weiyings-portfolio/assets/SPM-BvqHrV9h.png",wC="/weiyings-portfolio/assets/sustainify-11fd5MUp.png",bC="/weiyings-portfolio/assets/chioset-Bk9ZOybw.jpg",xC="/weiyings-portfolio/assets/instantInsurance-BNREiIlh.png";function AC(){const s=[{title:"Chioset",description:"Helps users plan outfits efficiently with AR try-ons and weather-based suggestions.",technologies:["React","Node.js","TensorFlow","MongoDB"],status:"Completed",github:"https://github.com/emery97/HackAndRoll.git",demo:null,image:bC},{title:"Ticket Finder | Android App",description:"Simplifies event discovery and booking with seat selection, ticket transfer, and automated reminders.",technologies:["Java","XML","Firebase"],status:"Completed",github:"https://github.com/emery97/MAD24_P02_Team3.git",demo:"https://www.canva.com/design/DAGbDpzpoIs/M85vZfoxhGgMjBTaL1PHqA/edit?utm_content=DAGbDpzpoIs&utm_campaign=designshare&utm_medium=link2&utm_source=sharebutton",image:gC},{title:"Sustainify",description:"Helps transport companies track and reduce carbon emissions with dashboards, reports, and actionable insights.",technologies:["HTML","CSS","JavaScript","MongoDB","Node.js"],status:"Completed",github:"https://github.com/emery97/sustainify.git",demo:null,image:wC},{title:"Instant Insurance",description:"Delivers interactive insurance data visualizations, featuring custom Sankey charts and other charts for clear, actionable insights.",technologies:["Angular","TypeScript","PostGreSQL","D3.js","HighChart.js"],status:"Completed",github:"https://github.com/emery97/instant-insurance-",image:xC},{title:"Legit Anot",description:"Protects users from malicious links with real-time safety evaluations and feedback integration.",technologies:["React","Bootstrap","MongoDB","Node.js"],status:"Completed",github:"https://github.com/enjiawu/youthxhack.git",demo:"https://www.canva.com/design/DAGbD_UhG9I/JogaW6SvL2QPgORJbO9udw/edit?utm_content=DAGbD_UhG9I&utm_campaign=designshare&utm_medium=link2&utm_source=sharebutton",image:yC},{title:"EduHelper",description:"Linkedin-inspired web app enabling students to access courses and lectures while allowing educators to upload content seamlessly.",technologies:["HTML","CSS","JavaScript","MS SQL Server"],status:"Completed",github:"https://github.com/NgJoeYi/BED2024Apr_P07_T08.git",demo:null,image:mC},{title:"Ngee Ann City",description:"Demonstrates SCRUM methodology while delivering a functional website in a collaborative class project.",technologies:["HTML","CSS","JavaScript","Jira"],status:"Completed",github:"https://github.com/RaeannTaiYuXuan/SPM_Assignment.git",demo:null,image:vC},{title:"Amelia x Weiying",description:"Empowers teenage girls with stylish, affordable clothing through a user-friendly website.",technologies:["HTML","CSS","JavaScript"],status:"Completed",github:"https://github.com/emery97/FED-ameliaXweiying.git",demo:"https://emery97.github.io/FED-ameliaXweiying/",image:pC}],t=e=>{switch(e){case"Completed":return"bg-green-500";case"In Progress":return"bg-yellow-500";default:return"bg-gray-500"}};return F.jsx("div",{className:"min-h-screen pt-20 pb-16",children:F.jsxs("div",{className:"container mx-auto px-4",children:[F.jsxs(Ot.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"text-center mb-16",children:[F.jsx("h1",{className:"text-4xl md:text-5xl mb-6",children:"My Projects"}),F.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Here are some of the projects I've worked on. Each project represents a step in my learning journey and showcases different technologies and problem-solving approaches."})]}),F.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map((e,n)=>F.jsx(Ot.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:n*.1},viewport:{once:!0},whileHover:{y:-5},className:"h-full",children:F.jsxs(f0,{className:"h-full flex flex-col hover:shadow-lg transition-all duration-300",children:[F.jsxs("div",{className:"relative overflow-hidden rounded-t-lg bg-gradient-to-br from-primary/10 to-secondary/10",children:[F.jsx("div",{className:"h-48 flex items-center justify-center",children:F.jsx("img",{src:e.image,alt:e.title,className:"object-contain h-full"})}),F.jsx("div",{className:"absolute top-4 right-4",children:F.jsx(Hs,{className:`${t(e.status)} text-white text-xs`,children:e.status})})]}),F.jsxs(uC,{children:[F.jsx(hC,{className:"text-lg",children:e.title}),F.jsx(dC,{className:"text-sm line-clamp-3",children:e.description})]}),F.jsxs(p0,{className:"flex-1 flex flex-col",children:[F.jsx("div",{className:"flex flex-wrap gap-1 mb-4",children:e.technologies.map(r=>F.jsx(Hs,{variant:"outline",className:"text-xs",children:r},r))}),F.jsxs("div",{className:"mt-auto flex gap-2",children:[F.jsxs(Ci,{variant:"outline",size:"sm",className:"flex-1 cursor-pointer",onClick:()=>window.open(e.github,"_blank"),children:[F.jsx(rl,{size:16,className:"mr-2"}),"Code"]}),e.demo&&F.jsxs(Ci,{size:"sm",className:"flex-1 cursor-pointer",onClick:()=>window.open(e.demo,"_blank"),children:[F.jsx(Ax,{size:16,className:"mr-2"}),"Demo"]})]})]})]})},e.title))}),F.jsxs(Ot.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"text-center mt-16",children:[F.jsx("h2",{className:"text-2xl mb-4",children:"Want to see more?"}),F.jsx("p",{className:"text-muted-foreground mb-6",children:"Check out my GitHub profile for more projects and contributions."}),F.jsxs(Ci,{className:"px-8 py-3",onClick:()=>window.open("https://github.com/emery97","_blank"),children:[F.jsx(rl,{size:20,className:"mr-2"}),"Visit My GitHub"]})]})]})})}var m0={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Hg=es.createContext&&es.createContext(m0),SC=["attr","size","title"];function EC(s,t){if(s==null)return{};var e=_C(s,t),n,r;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(s);for(r=0;r<a.length;r++)n=a[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(s,n)&&(e[n]=s[n])}return e}function _C(s,t){if(s==null)return{};var e={};for(var n in s)if(Object.prototype.hasOwnProperty.call(s,n)){if(t.indexOf(n)>=0)continue;e[n]=s[n]}return e}function hl(){return hl=Object.assign?Object.assign.bind():function(s){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(s[n]=e[n])}return s},hl.apply(this,arguments)}function Ug(s,t){var e=Object.keys(s);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(s);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(s,r).enumerable})),e.push.apply(e,n)}return e}function dl(s){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?Ug(Object(e),!0).forEach(function(n){CC(s,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(e)):Ug(Object(e)).forEach(function(n){Object.defineProperty(s,n,Object.getOwnPropertyDescriptor(e,n))})}return s}function CC(s,t,e){return t=TC(t),t in s?Object.defineProperty(s,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):s[t]=e,s}function TC(s){var t=kC(s,"string");return typeof t=="symbol"?t:t+""}function kC(s,t){if(typeof s!="object"||!s)return s;var e=s[Symbol.toPrimitive];if(e!==void 0){var n=e.call(s,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(s)}function g0(s){return s&&s.map((t,e)=>es.createElement(t.tag,dl({key:e},t.attr),g0(t.child)))}function PC(s){return t=>es.createElement(RC,hl({attr:dl({},s.attr)},t),g0(s.child))}function RC(s){var t=e=>{var{attr:n,size:r,title:a}=s,l=EC(s,SC),c=r||e.size||"1em",h;return e.className&&(h=e.className),s.className&&(h=(h?h+" ":"")+s.className),es.createElement("svg",hl({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},e.attr,n,l,{className:h,style:dl(dl({color:s.color||e.color},e.style),s.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),a&&es.createElement("title",null,a),s.children)};return Hg!==void 0?es.createElement(Hg.Consumer,null,e=>t(e)):t(m0)}function MC(s){return PC({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M505.7 661a8 8 0 0 0 12.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"},child:[]}]})(s)}const Oe=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),gh=[.001,0,0,.001,0,0],Ou=1.35,Ze={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},Vn={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},y0="pdfjs_internal_editor_",Et={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,SIGNATURE:101},It={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35,DRAW_STEP:41},v0={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Me={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},so={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},ne={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},Ns={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Ao={ERRORS:0,WARNINGS:1,INFOS:5},fo={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},Ka={moveTo:0,lineTo:1,curveTo:2,closePath:3},w0={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let vl=Ao.WARNINGS;function LC(s){Number.isInteger(s)&&(vl=s)}function IC(){return vl}function wl(s){vl>=Ao.INFOS&&console.log(`Info: ${s}`)}function _t(s){vl>=Ao.WARNINGS&&console.log(`Warning: ${s}`)}function Vt(s){throw new Error(s)}function ue(s,t){s||Vt(t)}function DC(s){switch(s?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function od(s,t=null,e=null){if(!s)return null;if(e&&typeof s=="string"&&(e.addDefaultProtocol&&s.startsWith("www.")&&s.match(/\./g)?.length>=2&&(s=`http://${s}`),e.tryConvertEncoding))try{s=VC(s)}catch{}const n=t?URL.parse(s,t):URL.parse(s);return DC(n)?n:null}function ad(s,t,e=!1){const n=URL.parse(s);return n?(n.hash=t,n.href):e&&od(s,"http://example.com")?s.split("#",1)[0]+`${t?`#${t}`:""}`:""}function Mt(s,t,e,n=!1){return Object.defineProperty(s,t,{value:e,enumerable:!n,configurable:!0,writable:!1}),e}const ls=(function(){function t(e,n){this.message=e,this.name=n}return t.prototype=new Error,t.constructor=t,t})();class $g extends ls{constructor(t,e){super(t,"PasswordException"),this.code=e}}class ju extends ls{constructor(t,e){super(t,"UnknownErrorException"),this.details=e}}class fl extends ls{constructor(t){super(t,"InvalidPDFException")}}class po extends ls{constructor(t,e,n){super(t,"ResponseException"),this.status=e,this.missing=n}}class NC extends ls{constructor(t){super(t,"FormatError")}}class ni extends ls{constructor(t){super(t,"AbortException")}}function b0(s){(typeof s!="object"||s?.length===void 0)&&Vt("Invalid argument for bytesToString");const t=s.length,e=8192;if(t<e)return String.fromCharCode.apply(null,s);const n=[];for(let r=0;r<t;r+=e){const a=Math.min(r+e,t),l=s.subarray(r,a);n.push(String.fromCharCode.apply(null,l))}return n.join("")}function So(s){typeof s!="string"&&Vt("Invalid argument for stringToBytes");const t=s.length,e=new Uint8Array(t);for(let n=0;n<t;++n)e[n]=s.charCodeAt(n)&255;return e}function FC(s){return String.fromCharCode(s>>24&255,s>>16&255,s>>8&255,s&255)}function OC(){const s=new Uint8Array(4);return s[0]=1,new Uint32Array(s.buffer,0,1)[0]===1}function jC(){try{return new Function(""),!0}catch{return!1}}class xe{static get isLittleEndian(){return Mt(this,"isLittleEndian",OC())}static get isEvalSupported(){return Mt(this,"isEvalSupported",jC())}static get isOffscreenCanvasSupported(){return Mt(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return Mt(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){const{platform:t,userAgent:e}=navigator;return Mt(this,"platform",{isAndroid:e.includes("Android"),isLinux:t.includes("Linux"),isMac:t.includes("Mac"),isWindows:t.includes("Win"),isFirefox:e.includes("Firefox")})}static get isCSSRoundSupported(){return Mt(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}const Vu=Array.from(Array(256).keys(),s=>s.toString(16).padStart(2,"0"));class pt{static makeHexColor(t,e,n){return`#${Vu[t]}${Vu[e]}${Vu[n]}`}static scaleMinMax(t,e){let n;t[0]?(t[0]<0&&(n=e[0],e[0]=e[2],e[2]=n),e[0]*=t[0],e[2]*=t[0],t[3]<0&&(n=e[1],e[1]=e[3],e[3]=n),e[1]*=t[3],e[3]*=t[3]):(n=e[0],e[0]=e[1],e[1]=n,n=e[2],e[2]=e[3],e[3]=n,t[1]<0&&(n=e[1],e[1]=e[3],e[3]=n),e[1]*=t[1],e[3]*=t[1],t[2]<0&&(n=e[0],e[0]=e[2],e[2]=n),e[0]*=t[2],e[2]*=t[2]),e[0]+=t[4],e[1]+=t[5],e[2]+=t[4],e[3]+=t[5]}static transform(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}static applyTransform(t,e,n=0){const r=t[n],a=t[n+1];t[n]=r*e[0]+a*e[2]+e[4],t[n+1]=r*e[1]+a*e[3]+e[5]}static applyTransformToBezier(t,e,n=0){const r=e[0],a=e[1],l=e[2],c=e[3],h=e[4],d=e[5];for(let p=0;p<6;p+=2){const m=t[n+p],y=t[n+p+1];t[n+p]=m*r+y*l+h,t[n+p+1]=m*a+y*c+d}}static applyInverseTransform(t,e){const n=t[0],r=t[1],a=e[0]*e[3]-e[1]*e[2];t[0]=(n*e[3]-r*e[2]+e[2]*e[5]-e[4]*e[3])/a,t[1]=(-n*e[1]+r*e[0]+e[4]*e[1]-e[5]*e[0])/a}static axialAlignedBoundingBox(t,e,n){const r=e[0],a=e[1],l=e[2],c=e[3],h=e[4],d=e[5],p=t[0],m=t[1],y=t[2],w=t[3];let b=r*p+h,x=b,S=r*y+h,E=S,T=c*m+d,_=T,P=c*w+d,k=P;if(a!==0||l!==0){const D=a*p,N=a*y,L=l*m,$=l*w;b+=L,E+=L,S+=$,x+=$,T+=D,k+=D,P+=N,_+=N}n[0]=Math.min(n[0],b,S,x,E),n[1]=Math.min(n[1],T,P,_,k),n[2]=Math.max(n[2],b,S,x,E),n[3]=Math.max(n[3],T,P,_,k)}static inverseTransform(t){const e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]}static singularValueDecompose2dScale(t,e){const n=t[0],r=t[1],a=t[2],l=t[3],c=n**2+r**2,h=n*a+r*l,d=a**2+l**2,p=(c+d)/2,m=Math.sqrt(p**2-(c*d-h**2));e[0]=Math.sqrt(p+m||1),e[1]=Math.sqrt(p-m||1)}static normalizeRect(t){const e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e}static intersect(t,e){const n=Math.max(Math.min(t[0],t[2]),Math.min(e[0],e[2])),r=Math.min(Math.max(t[0],t[2]),Math.max(e[0],e[2]));if(n>r)return null;const a=Math.max(Math.min(t[1],t[3]),Math.min(e[1],e[3])),l=Math.min(Math.max(t[1],t[3]),Math.max(e[1],e[3]));return a>l?null:[n,a,r,l]}static pointBoundingBox(t,e,n){n[0]=Math.min(n[0],t),n[1]=Math.min(n[1],e),n[2]=Math.max(n[2],t),n[3]=Math.max(n[3],e)}static rectBoundingBox(t,e,n,r,a){a[0]=Math.min(a[0],t,n),a[1]=Math.min(a[1],e,r),a[2]=Math.max(a[2],t,n),a[3]=Math.max(a[3],e,r)}static#t(t,e,n,r,a,l,c,h,d,p){if(d<=0||d>=1)return;const m=1-d,y=d*d,w=y*d,b=m*(m*(m*t+3*d*e)+3*y*n)+w*r,x=m*(m*(m*a+3*d*l)+3*y*c)+w*h;p[0]=Math.min(p[0],b),p[1]=Math.min(p[1],x),p[2]=Math.max(p[2],b),p[3]=Math.max(p[3],x)}static#e(t,e,n,r,a,l,c,h,d,p,m,y){if(Math.abs(d)<1e-12){Math.abs(p)>=1e-12&&this.#t(t,e,n,r,a,l,c,h,-m/p,y);return}const w=p**2-4*m*d;if(w<0)return;const b=Math.sqrt(w),x=2*d;this.#t(t,e,n,r,a,l,c,h,(-p+b)/x,y),this.#t(t,e,n,r,a,l,c,h,(-p-b)/x,y)}static bezierBoundingBox(t,e,n,r,a,l,c,h,d){d[0]=Math.min(d[0],t,c),d[1]=Math.min(d[1],e,h),d[2]=Math.max(d[2],t,c),d[3]=Math.max(d[3],e,h),this.#e(t,n,a,c,e,r,l,h,3*(-t+3*(n-a)+c),6*(t-2*n+a),3*(n-t),d),this.#e(t,n,a,c,e,r,l,h,3*(-e+3*(r-l)+h),6*(e-2*r+l),3*(r-e),d)}}function VC(s){return decodeURIComponent(escape(s))}let Bu=null,Gg=null;function x0(s){return Bu||(Bu=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,Gg=new Map([["","t"]])),s.replaceAll(Bu,(t,e,n)=>e?e.normalize("NFKC"):Gg.get(n))}function ld(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const s=new Uint8Array(32);return crypto.getRandomValues(s),b0(s)}const cd="pdfjs_internal_id_";function BC(s,t,e){if(!Array.isArray(e)||e.length<2)return!1;const[n,r,...a]=e;if(!s(n)&&!Number.isInteger(n)||!t(r))return!1;const l=a.length;let c=!0;switch(r.name){case"XYZ":if(l<2||l>3)return!1;break;case"Fit":case"FitB":return l===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(l>1)return!1;break;case"FitR":if(l!==4)return!1;c=!1;break;default:return!1}for(const h of a)if(!(typeof h=="number"||c&&h===null))return!1;return!0}function Le(s,t,e){return Math.min(Math.max(s,t),e)}function A0(s){return Uint8Array.prototype.toBase64?s.toBase64():btoa(b0(s))}function zC(s){return Uint8Array.fromBase64?Uint8Array.fromBase64(s):So(atob(s))}typeof Promise.try!="function"&&(Promise.try=function(s,...t){return new Promise(e=>{e(s(...t))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(s){return s.reduce((t,e)=>t+e,0)});const Jn="http://www.w3.org/2000/svg";class ss{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}async function sr(s,t="text"){if(Qr(s,document.baseURI)){const e=await fetch(s);if(!e.ok)throw new Error(e.statusText);switch(t){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"json":return e.json()}return e.text()}return new Promise((e,n)=>{const r=new XMLHttpRequest;r.open("GET",s,!0),r.responseType=t,r.onreadystatechange=()=>{if(r.readyState===XMLHttpRequest.DONE){if(r.status===200||r.status===0){switch(t){case"arraybuffer":case"blob":case"json":e(r.response);return}e(r.responseText);return}n(new Error(r.statusText))}},r.send(null)})}class Eo{constructor({viewBox:t,userUnit:e,scale:n,rotation:r,offsetX:a=0,offsetY:l=0,dontFlip:c=!1}){this.viewBox=t,this.userUnit=e,this.scale=n,this.rotation=r,this.offsetX=a,this.offsetY=l,n*=e;const h=(t[2]+t[0])/2,d=(t[3]+t[1])/2;let p,m,y,w;switch(r%=360,r<0&&(r+=360),r){case 180:p=-1,m=0,y=0,w=1;break;case 90:p=0,m=1,y=1,w=0;break;case 270:p=0,m=-1,y=-1,w=0;break;case 0:p=1,m=0,y=0,w=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}c&&(y=-y,w=-w);let b,x,S,E;p===0?(b=Math.abs(d-t[1])*n+a,x=Math.abs(h-t[0])*n+l,S=(t[3]-t[1])*n,E=(t[2]-t[0])*n):(b=Math.abs(h-t[0])*n+a,x=Math.abs(d-t[1])*n+l,S=(t[2]-t[0])*n,E=(t[3]-t[1])*n),this.transform=[p*n,m*n,y*n,w*n,b-p*n*h-y*n*d,x-m*n*h-w*n*d],this.width=S,this.height=E}get rawDims(){const t=this.viewBox;return Mt(this,"rawDims",{pageWidth:t[2]-t[0],pageHeight:t[3]-t[1],pageX:t[0],pageY:t[1]})}clone({scale:t=this.scale,rotation:e=this.rotation,offsetX:n=this.offsetX,offsetY:r=this.offsetY,dontFlip:a=!1}={}){return new Eo({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:t,rotation:e,offsetX:n,offsetY:r,dontFlip:a})}convertToViewportPoint(t,e){const n=[t,e];return pt.applyTransform(n,this.transform),n}convertToViewportRectangle(t){const e=[t[0],t[1]];pt.applyTransform(e,this.transform);const n=[t[2],t[3]];return pt.applyTransform(n,this.transform),[e[0],e[1],n[0],n[1]]}convertToPdfPoint(t,e){const n=[t,e];return pt.applyInverseTransform(n,this.transform),n}}class bl extends ls{constructor(t,e=0){super(t,"RenderingCancelledException"),this.extraDelay=e}}function _o(s){const t=s.length;let e=0;for(;e<t&&s[e].trim()==="";)e++;return s.substring(e,e+5).toLowerCase()==="data:"}function xl(s){return typeof s=="string"&&/\.pdf$/i.test(s)}function S0(s){return[s]=s.split(/[#?]/,1),s.substring(s.lastIndexOf("/")+1)}function E0(s,t="document.pdf"){if(typeof s!="string")return t;if(_o(s))return _t('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const n=(c=>{try{return new URL(c)}catch{try{return new URL(decodeURIComponent(c))}catch{try{return new URL(c,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(c),"https://foo.bar")}catch{return null}}}}})(s);if(!n)return t;const r=c=>{try{let h=decodeURIComponent(c);return h.includes("/")?(h=h.split("/").at(-1),h.test(/^\.pdf$/i)?h:c):h}catch{return c}},a=/\.pdf$/i,l=n.pathname.split("/").at(-1);if(a.test(l))return r(l);if(n.searchParams.size>0){const c=Array.from(n.searchParams.values()).reverse();for(const d of c)if(a.test(d))return r(d);const h=Array.from(n.searchParams.keys()).reverse();for(const d of h)if(a.test(d))return r(d)}if(n.hash){const h=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(n.hash);if(h)return r(h[0])}return t}class Wg{started=Object.create(null);times=[];time(t){t in this.started&&_t(`Timer is already running for ${t}`),this.started[t]=Date.now()}timeEnd(t){t in this.started||_t(`Timer has not been started for ${t}`),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){const t=[];let e=0;for(const{name:n}of this.times)e=Math.max(n.length,e);for(const{name:n,start:r,end:a}of this.times)t.push(`${n.padEnd(e)} ${a-r}ms
`);return t.join("")}}function Qr(s,t){const e=t?URL.parse(s,t):URL.parse(s);return e?.protocol==="http:"||e?.protocol==="https:"}function pn(s){s.preventDefault()}function re(s){s.preventDefault(),s.stopPropagation()}function HC(s){console.log("Deprecated API usage: "+s)}class ud{static#t;static toDateObject(t){if(!t||typeof t!="string")return null;this.#t||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const e=this.#t.exec(t);if(!e)return null;const n=parseInt(e[1],10);let r=parseInt(e[2],10);r=r>=1&&r<=12?r-1:0;let a=parseInt(e[3],10);a=a>=1&&a<=31?a:1;let l=parseInt(e[4],10);l=l>=0&&l<=23?l:0;let c=parseInt(e[5],10);c=c>=0&&c<=59?c:0;let h=parseInt(e[6],10);h=h>=0&&h<=59?h:0;const d=e[7]||"Z";let p=parseInt(e[8],10);p=p>=0&&p<=23?p:0;let m=parseInt(e[9],10)||0;return m=m>=0&&m<=59?m:0,d==="-"?(l+=p,c+=m):d==="+"&&(l-=p,c-=m),new Date(Date.UTC(n,r,a,l,c,h))}}function _0(s,{scale:t=1,rotation:e=0}){const{width:n,height:r}=s.attributes.style,a=[0,0,parseInt(n),parseInt(r)];return new Eo({viewBox:a,userUnit:1,scale:t,rotation:e})}function hd(s){if(s.startsWith("#")){const t=parseInt(s.slice(1),16);return[(t&16711680)>>16,(t&65280)>>8,t&255]}return s.startsWith("rgb(")?s.slice(4,-1).split(",").map(t=>parseInt(t)):s.startsWith("rgba(")?s.slice(5,-1).split(",").map(t=>parseInt(t)).slice(0,3):(_t(`Not a valid color format: "${s}"`),[0,0,0])}function UC(s){const t=document.createElement("span");t.style.visibility="hidden",t.style.colorScheme="only light",document.body.append(t);for(const e of s.keys()){t.style.color=e;const n=window.getComputedStyle(t).color;s.set(e,hd(n))}t.remove()}function Kt(s){const{a:t,b:e,c:n,d:r,e:a,f:l}=s.getTransform();return[t,e,n,r,a,l]}function Dn(s){const{a:t,b:e,c:n,d:r,e:a,f:l}=s.getTransform().invertSelf();return[t,e,n,r,a,l]}function Ri(s,t,e=!1,n=!0){if(t instanceof Eo){const{pageWidth:r,pageHeight:a}=t.rawDims,{style:l}=s,c=xe.isCSSRoundSupported,h=`var(--total-scale-factor) * ${r}px`,d=`var(--total-scale-factor) * ${a}px`,p=c?`round(down, ${h}, var(--scale-round-x))`:`calc(${h})`,m=c?`round(down, ${d}, var(--scale-round-y))`:`calc(${d})`;!e||t.rotation%180===0?(l.width=p,l.height=m):(l.width=m,l.height=p)}n&&s.setAttribute("data-main-rotation",t.rotation)}class Cn{constructor(){const{pixelRatio:t}=Cn;this.sx=t,this.sy=t}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(t,e,n,r,a=-1){let l=1/0,c=1/0,h=1/0;n=Cn.capPixels(n,a),n>0&&(l=Math.sqrt(n/(t*e))),r!==-1&&(c=r/t,h=r/e);const d=Math.min(l,c,h);return this.sx>d||this.sy>d?(this.sx=d,this.sy=d,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(t,e){if(e>=0){const n=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+e/100));return t>0?Math.min(t,n):n}return t}}const pl=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class ro{#t=null;#e=null;#n;#i=null;#r=null;#s=null;static#o=null;constructor(t){this.#n=t,ro.#o||=Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"})}render(){const t=this.#t=document.createElement("div");t.classList.add("editToolbar","hidden"),t.setAttribute("role","toolbar");const e=this.#n._uiManager._signal;t.addEventListener("contextmenu",pn,{signal:e}),t.addEventListener("pointerdown",ro.#a,{signal:e});const n=this.#i=document.createElement("div");n.className="buttons",t.append(n);const r=this.#n.toolbarPosition;if(r){const{style:a}=t,l=this.#n._uiManager.direction==="ltr"?1-r[0]:r[0];a.insetInlineEnd=`${100*l}%`,a.top=`calc(${100*r[1]}% + var(--editor-toolbar-vert-offset))`}return t}get div(){return this.#t}static#a(t){t.stopPropagation()}#h(t){this.#n._focusEventsAllowed=!1,re(t)}#l(t){this.#n._focusEventsAllowed=!0,re(t)}#d(t){const e=this.#n._uiManager._signal;t.addEventListener("focusin",this.#h.bind(this),{capture:!0,signal:e}),t.addEventListener("focusout",this.#l.bind(this),{capture:!0,signal:e}),t.addEventListener("contextmenu",pn,{signal:e})}hide(){this.#t.classList.add("hidden"),this.#e?.hideDropdown()}show(){this.#t.classList.remove("hidden"),this.#r?.shown()}addDeleteButton(){const{editorType:t,_uiManager:e}=this.#n,n=document.createElement("button");n.className="delete",n.tabIndex=0,n.setAttribute("data-l10n-id",ro.#o[t]),this.#d(n),n.addEventListener("click",r=>{e.delete()},{signal:e._signal}),this.#i.append(n)}get#c(){const t=document.createElement("div");return t.className="divider",t}async addAltText(t){const e=await t.render();this.#d(e),this.#i.append(e,this.#c),this.#r=t}addColorPicker(t){this.#e=t;const e=t.renderButton();this.#d(e),this.#i.append(e,this.#c)}async addEditSignatureButton(t){const e=this.#s=await t.renderEditButton(this.#n);this.#d(e),this.#i.append(e,this.#c)}async addButton(t,e){switch(t){case"colorPicker":this.addColorPicker(e);break;case"altText":await this.addAltText(e);break;case"editSignature":await this.addEditSignatureButton(e);break;case"delete":this.addDeleteButton();break}}updateEditSignatureButton(t){this.#s&&(this.#s.title=t)}remove(){this.#t.remove(),this.#e?.destroy(),this.#e=null}}class $C{#t=null;#e=null;#n;constructor(t){this.#n=t}#i(){const t=this.#e=document.createElement("div");t.className="editToolbar",t.setAttribute("role","toolbar"),t.addEventListener("contextmenu",pn,{signal:this.#n._signal});const e=this.#t=document.createElement("div");return e.className="buttons",t.append(e),this.#s(),t}#r(t,e){let n=0,r=0;for(const a of t){const l=a.y+a.height;if(l<n)continue;const c=a.x+(e?a.width:0);if(l>n){r=c,n=l;continue}e?c>r&&(r=c):c<r&&(r=c)}return[e?1-r:r,n]}show(t,e,n){const[r,a]=this.#r(e,n),{style:l}=this.#e||=this.#i();t.append(this.#e),l.insetInlineEnd=`${100*r}%`,l.top=`calc(${100*a}% + var(--editor-toolbar-vert-offset))`}hide(){this.#e.remove()}#s(){const t=document.createElement("button");t.className="highlightButton",t.tabIndex=0,t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const e=document.createElement("span");t.append(e),e.className="visuallyHidden",e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const n=this.#n._signal;t.addEventListener("contextmenu",pn,{signal:n}),t.addEventListener("click",()=>{this.#n.highlightSelection("floating_button")},{signal:n}),this.#t.append(t)}}function C0(s,t,e){for(const n of e)t.addEventListener(n,s[n].bind(s))}class GC{#t=0;get id(){return`${y0}${this.#t++}`}}class dd{#t=ld();#e=0;#n=null;static get _isSVGFittingCanvas(){const t='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',n=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),r=new Image;r.src=t;const a=r.decode().then(()=>(n.drawImage(r,0,0,1,1,0,0,1,3),new Uint32Array(n.getImageData(0,0,1,1).data.buffer)[0]===0));return Mt(this,"_isSVGFittingCanvas",a)}async#i(t,e){this.#n||=new Map;let n=this.#n.get(t);if(n===null)return null;if(n?.bitmap)return n.refCounter+=1,n;try{n||={bitmap:null,id:`image_${this.#t}_${this.#e++}`,refCounter:0,isSvg:!1};let r;if(typeof e=="string"?(n.url=e,r=await sr(e,"blob")):e instanceof File?r=n.file=e:e instanceof Blob&&(r=e),r.type==="image/svg+xml"){const a=dd._isSVGFittingCanvas,l=new FileReader,c=new Image,h=new Promise((d,p)=>{c.onload=()=>{n.bitmap=c,n.isSvg=!0,d()},l.onload=async()=>{const m=n.svgUrl=l.result;c.src=await a?`${m}#svgView(preserveAspectRatio(none))`:m},c.onerror=l.onerror=p});l.readAsDataURL(r),await h}else n.bitmap=await createImageBitmap(r);n.refCounter=1}catch(r){_t(r),n=null}return this.#n.set(t,n),n&&this.#n.set(n.id,n),n}async getFromFile(t){const{lastModified:e,name:n,size:r,type:a}=t;return this.#i(`${e}_${n}_${r}_${a}`,t)}async getFromUrl(t){return this.#i(t,t)}async getFromBlob(t,e){const n=await e;return this.#i(t,n)}async getFromId(t){this.#n||=new Map;const e=this.#n.get(t);if(!e)return null;if(e.bitmap)return e.refCounter+=1,e;if(e.file)return this.getFromFile(e.file);if(e.blobPromise){const{blobPromise:n}=e;return delete e.blobPromise,this.getFromBlob(e.id,n)}return this.getFromUrl(e.url)}getFromCanvas(t,e){this.#n||=new Map;let n=this.#n.get(t);if(n?.bitmap)return n.refCounter+=1,n;const r=new OffscreenCanvas(e.width,e.height);return r.getContext("2d").drawImage(e,0,0),n={bitmap:r.transferToImageBitmap(),id:`image_${this.#t}_${this.#e++}`,refCounter:1,isSvg:!1},this.#n.set(t,n),this.#n.set(n.id,n),n}getSvgUrl(t){const e=this.#n.get(t);return e?.isSvg?e.svgUrl:null}deleteId(t){this.#n||=new Map;const e=this.#n.get(t);if(!e||(e.refCounter-=1,e.refCounter!==0))return;const{bitmap:n}=e;if(!e.url&&!e.file){const r=new OffscreenCanvas(n.width,n.height);r.getContext("bitmaprenderer").transferFromImageBitmap(n),e.blobPromise=r.convertToBlob()}n.close?.(),e.bitmap=null}isValidId(t){return t.startsWith(`image_${this.#t}_`)}}class WC{#t=[];#e=!1;#n;#i=-1;constructor(t=128){this.#n=t}add({cmd:t,undo:e,post:n,mustExec:r,type:a=NaN,overwriteIfSameType:l=!1,keepUndo:c=!1}){if(r&&t(),this.#e)return;const h={cmd:t,undo:e,post:n,type:a};if(this.#i===-1){this.#t.length>0&&(this.#t.length=0),this.#i=0,this.#t.push(h);return}if(l&&this.#t[this.#i].type===a){c&&(h.undo=this.#t[this.#i].undo),this.#t[this.#i]=h;return}const d=this.#i+1;d===this.#n?this.#t.splice(0,1):(this.#i=d,d<this.#t.length&&this.#t.splice(d)),this.#t.push(h)}undo(){if(this.#i===-1)return;this.#e=!0;const{undo:t,post:e}=this.#t[this.#i];t(),e?.(),this.#e=!1,this.#i-=1}redo(){if(this.#i<this.#t.length-1){this.#i+=1,this.#e=!0;const{cmd:t,post:e}=this.#t[this.#i];t(),e?.(),this.#e=!1}}hasSomethingToUndo(){return this.#i!==-1}hasSomethingToRedo(){return this.#i<this.#t.length-1}cleanType(t){if(this.#i!==-1){for(let e=this.#i;e>=0;e--)if(this.#t[e].type!==t){this.#t.splice(e+1,this.#i-e),this.#i=e;return}this.#t.length=0,this.#i=-1}}destroy(){this.#t=null}}class Co{constructor(t){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:e}=xe.platform;for(const[n,r,a={}]of t)for(const l of n){const c=l.startsWith("mac+");e&&c?(this.callbacks.set(l.slice(4),{callback:r,options:a}),this.allKeys.add(l.split("+").at(-1))):!e&&!c&&(this.callbacks.set(l,{callback:r,options:a}),this.allKeys.add(l.split("+").at(-1)))}}#t(t){t.altKey&&this.buffer.push("alt"),t.ctrlKey&&this.buffer.push("ctrl"),t.metaKey&&this.buffer.push("meta"),t.shiftKey&&this.buffer.push("shift"),this.buffer.push(t.key);const e=this.buffer.join("+");return this.buffer.length=0,e}exec(t,e){if(!this.allKeys.has(e.key))return;const n=this.callbacks.get(this.#t(e));if(!n)return;const{callback:r,options:{bubbles:a=!1,args:l=[],checker:c=null}}=n;c&&!c(t,e)||(r.bind(t,...l,e)(),a||re(e))}}class fd{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const t=new Map([["CanvasText",null],["Canvas",null]]);return UC(t),Mt(this,"_colors",t)}convert(t){const e=hd(t);if(!window.matchMedia("(forced-colors: active)").matches)return e;for(const[n,r]of this._colors)if(r.every((a,l)=>a===e[l]))return fd._colorsMapping.get(n);return e}getHexCode(t){const e=this._colors.get(t);return e?pt.makeHexColor(...e):t}}class ii{#t=new AbortController;#e=null;#n=new Map;#i=new Map;#r=null;#s=null;#o=null;#a=new WC;#h=null;#l=null;#d=0;#c=new Set;#f=null;#p=null;#m=new Set;_editorUndoBar=null;#u=!1;#g=!1;#y=!1;#v=null;#b=null;#x=null;#A=null;#_=!1;#T=null;#P=new GC;#S=!1;#k=!1;#C=null;#M=null;#L=null;#I=null;#B=null;#E=Et.NONE;#w=new Set;#O=null;#j=null;#U=null;#$=null;#G={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1};#z=[0,0];#D=null;#N=null;#H=null;#q=null;#F=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){const t=ii.prototype,e=l=>l.#N.contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&l.hasSomethingToControl(),n=(l,{target:c})=>{if(c instanceof HTMLInputElement){const{type:h}=c;return h!=="text"&&h!=="number"}return!0},r=this.TRANSLATE_SMALL,a=this.TRANSLATE_BIG;return Mt(this,"_keyboardManager",new Co([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],t.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:n}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(l,{target:c})=>!(c instanceof HTMLButtonElement)&&l.#N.contains(c)&&!l.isEnterHandled}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(l,{target:c})=>!(c instanceof HTMLButtonElement)&&l.#N.contains(document.activeElement)}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-r,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-a,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[r,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[a,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-r],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-a],checker:e}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,r],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,a],checker:e}]]))}constructor(t,e,n,r,a,l,c,h,d,p,m,y,w,b,x){const S=this._signal=this.#t.signal;this.#N=t,this.#H=e,this.#q=n,this.#r=r,this.#j=a,this._eventBus=l,l._on("editingaction",this.onEditingAction.bind(this),{signal:S}),l._on("pagechanging",this.onPageChanging.bind(this),{signal:S}),l._on("scalechanging",this.onScaleChanging.bind(this),{signal:S}),l._on("rotationchanging",this.onRotationChanging.bind(this),{signal:S}),l._on("setpreference",this.onSetPreference.bind(this),{signal:S}),l._on("switchannotationeditorparams",E=>this.updateParams(E.type,E.value),{signal:S}),this.#st(),this.#lt(),this.#Q(),this.#s=c.annotationStorage,this.#v=c.filterFactory,this.#U=h,this.#A=d||null,this.#u=p,this.#g=m,this.#y=y,this.#B=w||null,this.viewParameters={realScale:ss.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=b||null,this._supportsPinchToZoom=x!==!1}destroy(){this.#F?.resolve(),this.#F=null,this.#t?.abort(),this.#t=null,this._signal=null;for(const t of this.#i.values())t.destroy();this.#i.clear(),this.#n.clear(),this.#m.clear(),this.#I?.clear(),this.#e=null,this.#w.clear(),this.#a.destroy(),this.#r?.destroy(),this.#j?.destroy(),this.#T?.hide(),this.#T=null,this.#L?.destroy(),this.#L=null,this.#b&&(clearTimeout(this.#b),this.#b=null),this.#D&&(clearTimeout(this.#D),this.#D=null),this._editorUndoBar?.destroy()}combinedSignal(t){return AbortSignal.any([this._signal,t.signal])}get mlManager(){return this.#B}get useNewAltTextFlow(){return this.#g}get useNewAltTextWhenAddingImage(){return this.#y}get hcmFilter(){return Mt(this,"hcmFilter",this.#U?this.#v.addHCMFilter(this.#U.foreground,this.#U.background):"none")}get direction(){return Mt(this,"direction",getComputedStyle(this.#N).direction)}get highlightColors(){return Mt(this,"highlightColors",this.#A?new Map(this.#A.split(",").map(t=>(t=t.split("=").map(e=>e.trim()),t[1]=t[1].toUpperCase(),t))):null)}get highlightColorNames(){return Mt(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,t=>t.reverse())):null)}setCurrentDrawingSession(t){t?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),this.#l=t}setMainHighlightColorPicker(t){this.#L=t}editAltText(t,e=!1){this.#r?.editAltText(this,t,e)}getSignature(t){this.#j?.getSignature({uiManager:this,editor:t})}get signatureManager(){return this.#j}switchToMode(t,e){this._eventBus.on("annotationeditormodechanged",e,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:t})}setPreference(t,e){this._eventBus.dispatch("setpreference",{source:this,name:t,value:e})}onSetPreference({name:t,value:e}){switch(t){case"enableNewAltTextWhenAddingImage":this.#y=e;break}}onPageChanging({pageNumber:t}){this.#d=t-1}focusMainContainer(){this.#N.focus()}findParent(t,e){for(const n of this.#i.values()){const{x:r,y:a,width:l,height:c}=n.div.getBoundingClientRect();if(t>=r&&t<=r+l&&e>=a&&e<=a+c)return n}return null}disableUserSelect(t=!1){this.#H.classList.toggle("noUserSelect",t)}addShouldRescale(t){this.#m.add(t)}removeShouldRescale(t){this.#m.delete(t)}onScaleChanging({scale:t}){this.commitOrRemove(),this.viewParameters.realScale=t*ss.PDF_TO_CSS_UNITS;for(const e of this.#m)e.onScaleChanging();this.#l?.onScaleChanging()}onRotationChanging({pagesRotation:t}){this.commitOrRemove(),this.viewParameters.rotation=t}#X({anchorNode:t}){return t.nodeType===Node.TEXT_NODE?t.parentElement:t}#Y(t){const{currentLayer:e}=this;if(e.hasTextLayer(t))return e;for(const n of this.#i.values())if(n.hasTextLayer(t))return n;return null}highlightSelection(t=""){const e=document.getSelection();if(!e||e.isCollapsed)return;const{anchorNode:n,anchorOffset:r,focusNode:a,focusOffset:l}=e,c=e.toString(),d=this.#X(e).closest(".textLayer"),p=this.getSelectionBoxes(d);if(!p)return;e.empty();const m=this.#Y(d),y=this.#E===Et.NONE,w=()=>{m?.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:p,anchorNode:n,anchorOffset:r,focusNode:a,focusOffset:l,text:c}),y&&this.showAllEditors("highlight",!0,!0)};if(y){this.switchToMode(Et.HIGHLIGHT,w);return}w()}#nt(){const t=document.getSelection();if(!t||t.isCollapsed)return;const n=this.#X(t).closest(".textLayer"),r=this.getSelectionBoxes(n);r&&(this.#T||=new $C(this),this.#T.show(n,r,this.direction==="ltr"))}addToAnnotationStorage(t){!t.isEmpty()&&this.#s&&!this.#s.has(t.id)&&this.#s.setValue(t.id,t)}a11yAlert(t,e=null){const n=this.#q;n&&(n.setAttribute("data-l10n-id",t),e?n.setAttribute("data-l10n-args",JSON.stringify(e)):n.removeAttribute("data-l10n-args"))}#it(){const t=document.getSelection();if(!t||t.isCollapsed){this.#O&&(this.#T?.hide(),this.#O=null,this.#R({hasSelectedText:!1}));return}const{anchorNode:e}=t;if(e===this.#O)return;const r=this.#X(t).closest(".textLayer");if(!r){this.#O&&(this.#T?.hide(),this.#O=null,this.#R({hasSelectedText:!1}));return}if(this.#T?.hide(),this.#O=e,this.#R({hasSelectedText:!0}),!(this.#E!==Et.HIGHLIGHT&&this.#E!==Et.NONE)&&(this.#E===Et.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),this.#_=this.isShiftKeyDown,!this.isShiftKeyDown)){const a=this.#E===Et.HIGHLIGHT?this.#Y(r):null;a?.toggleDrawing();const l=new AbortController,c=this.combinedSignal(l),h=d=>{d.type==="pointerup"&&d.button!==0||(l.abort(),a?.toggleDrawing(!0),d.type==="pointerup"&&this.#K("main_toolbar"))};window.addEventListener("pointerup",h,{signal:c}),window.addEventListener("blur",h,{signal:c})}}#K(t=""){this.#E===Et.HIGHLIGHT?this.highlightSelection(t):this.#u&&this.#nt()}#st(){document.addEventListener("selectionchange",this.#it.bind(this),{signal:this._signal})}#rt(){if(this.#x)return;this.#x=new AbortController;const t=this.combinedSignal(this.#x);window.addEventListener("focus",this.focus.bind(this),{signal:t}),window.addEventListener("blur",this.blur.bind(this),{signal:t})}#ot(){this.#x?.abort(),this.#x=null}blur(){if(this.isShiftKeyDown=!1,this.#_&&(this.#_=!1,this.#K("main_toolbar")),!this.hasSelection)return;const{activeElement:t}=document;for(const e of this.#w)if(e.div.contains(t)){this.#M=[e,t],e._focusEventsAllowed=!1;break}}focus(){if(!this.#M)return;const[t,e]=this.#M;this.#M=null,e.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this._signal}),e.focus()}#Q(){if(this.#C)return;this.#C=new AbortController;const t=this.combinedSignal(this.#C);window.addEventListener("keydown",this.keydown.bind(this),{signal:t}),window.addEventListener("keyup",this.keyup.bind(this),{signal:t})}#at(){this.#C?.abort(),this.#C=null}#Z(){if(this.#h)return;this.#h=new AbortController;const t=this.combinedSignal(this.#h);document.addEventListener("copy",this.copy.bind(this),{signal:t}),document.addEventListener("cut",this.cut.bind(this),{signal:t}),document.addEventListener("paste",this.paste.bind(this),{signal:t})}#J(){this.#h?.abort(),this.#h=null}#lt(){const t=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:t}),document.addEventListener("drop",this.drop.bind(this),{signal:t})}addEditListeners(){this.#Q(),this.#Z()}removeEditListeners(){this.#at(),this.#J()}dragOver(t){for(const{type:e}of t.dataTransfer.items)for(const n of this.#p)if(n.isHandlingMimeForPasting(e)){t.dataTransfer.dropEffect="copy",t.preventDefault();return}}drop(t){for(const e of t.dataTransfer.items)for(const n of this.#p)if(n.isHandlingMimeForPasting(e.type)){n.paste(e,this.currentLayer),t.preventDefault();return}}copy(t){if(t.preventDefault(),this.#e?.commitOrRemove(),!this.hasSelection)return;const e=[];for(const n of this.#w){const r=n.serialize(!0);r&&e.push(r)}e.length!==0&&t.clipboardData.setData("application/pdfjs",JSON.stringify(e))}cut(t){this.copy(t),this.delete()}async paste(t){t.preventDefault();const{clipboardData:e}=t;for(const a of e.items)for(const l of this.#p)if(l.isHandlingMimeForPasting(a.type)){l.paste(a,this.currentLayer);return}let n=e.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(a){_t(`paste: "${a.message}".`);return}if(!Array.isArray(n))return;this.unselectAll();const r=this.currentLayer;try{const a=[];for(const h of n){const d=await r.deserialize(h);if(!d)return;a.push(d)}const l=()=>{for(const h of a)this.#tt(h);this.#et(a)},c=()=>{for(const h of a)h.remove()};this.addCommands({cmd:l,undo:c,mustExec:!0})}catch(a){_t(`paste: "${a.message}".`)}}keydown(t){!this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!0),this.#E!==Et.NONE&&!this.isEditorHandlingKeyboard&&ii._keyboardManager.exec(this,t)}keyup(t){this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!1,this.#_&&(this.#_=!1,this.#K("main_toolbar")))}onEditingAction({name:t}){switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}#R(t){Object.entries(t).some(([n,r])=>this.#G[n]!==r)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#G,t)}),this.#E===Et.HIGHLIGHT&&t.hasSelectedEditor===!1&&this.#V([[It.HIGHLIGHT_FREE,!0]]))}#V(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})}setEditingState(t){t?(this.#rt(),this.#Z(),this.#R({isEditing:this.#E!==Et.NONE,isEmpty:this.#W(),hasSomethingToUndo:this.#a.hasSomethingToUndo(),hasSomethingToRedo:this.#a.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#ot(),this.#J(),this.#R({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!this.#p){this.#p=t;for(const e of this.#p)this.#V(e.defaultPropertiesToUpdate)}}getId(){return this.#P.id}get currentLayer(){return this.#i.get(this.#d)}getLayer(t){return this.#i.get(t)}get currentPageIndex(){return this.#d}addLayer(t){this.#i.set(t.pageIndex,t),this.#S?t.enable():t.disable()}removeLayer(t){this.#i.delete(t.pageIndex)}async updateMode(t,e=null,n=!1,r=!1){if(this.#E!==t&&!(this.#F&&(await this.#F.promise,!this.#F))){if(this.#F=Promise.withResolvers(),this.#l?.commitOrRemove(),this.#E=t,t===Et.NONE){this.setEditingState(!1),this.#ut(),this._editorUndoBar?.hide(),this.#F.resolve();return}t===Et.SIGNATURE&&await this.#j?.loadSignatures(),this.setEditingState(!0),await this.#ct(),this.unselectAll();for(const a of this.#i.values())a.updateMode(t);if(!e){n&&this.addNewEditorFromKeyboard(),this.#F.resolve();return}for(const a of this.#n.values())a.annotationElementId===e||a.id===e?(this.setSelected(a),r&&a.enterInEditMode()):a.unselect();this.#F.resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t.mode!==this.#E&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...t})}updateParams(t,e){if(this.#p){switch(t){case It.CREATE:this.currentLayer.addNewEditor(e);return;case It.HIGHLIGHT_DEFAULT_COLOR:this.#L?.updateColor(e);break;case It.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(this.#$||=new Map).set(t,e),this.showAllEditors("highlight",e);break}for(const n of this.#w)n.updateParams(t,e);for(const n of this.#p)n.updateDefaultParams(t,e)}}showAllEditors(t,e,n=!1){for(const a of this.#n.values())a.editorType===t&&a.show(e);(this.#$?.get(It.HIGHLIGHT_SHOW_ALL)??!0)!==e&&this.#V([[It.HIGHLIGHT_SHOW_ALL,e]])}enableWaiting(t=!1){if(this.#k!==t){this.#k=t;for(const e of this.#i.values())t?e.disableClick():e.enableClick(),e.div.classList.toggle("waiting",t)}}async#ct(){if(!this.#S){this.#S=!0;const t=[];for(const e of this.#i.values())t.push(e.enable());await Promise.all(t);for(const e of this.#n.values())e.enable()}}#ut(){if(this.unselectAll(),this.#S){this.#S=!1;for(const t of this.#i.values())t.disable();for(const t of this.#n.values())t.disable()}}getEditors(t){const e=[];for(const n of this.#n.values())n.pageIndex===t&&e.push(n);return e}getEditor(t){return this.#n.get(t)}addEditor(t){this.#n.set(t.id,t)}removeEditor(t){t.div.contains(document.activeElement)&&(this.#b&&clearTimeout(this.#b),this.#b=setTimeout(()=>{this.focusMainContainer(),this.#b=null},0)),this.#n.delete(t.id),t.annotationElementId&&this.#I?.delete(t.annotationElementId),this.unselect(t),(!t.annotationElementId||!this.#c.has(t.annotationElementId))&&this.#s?.remove(t.id)}addDeletedAnnotationElement(t){this.#c.add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}isDeletedAnnotationElement(t){return this.#c.has(t)}removeDeletedAnnotationElement(t){this.#c.delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}#tt(t){const e=this.#i.get(t.pageIndex);e?e.addOrRebuild(t):(this.addEditor(t),this.addToAnnotationStorage(t))}setActiveEditor(t){this.#e!==t&&(this.#e=t,t&&this.#V(t.propertiesToUpdate))}get#ht(){let t=null;for(t of this.#w);return t}updateUI(t){this.#ht===t&&this.#V(t.propertiesToUpdate)}updateUIForDefaultProperties(t){this.#V(t.defaultPropertiesToUpdate)}toggleSelected(t){if(this.#w.has(t)){this.#w.delete(t),t.unselect(),this.#R({hasSelectedEditor:this.hasSelection});return}this.#w.add(t),t.select(),this.#V(t.propertiesToUpdate),this.#R({hasSelectedEditor:!0})}setSelected(t){this.updateToolbar({mode:t.mode,editId:t.id}),this.#l?.commitOrRemove();for(const e of this.#w)e!==t&&e.unselect();this.#w.clear(),this.#w.add(t),t.select(),this.#V(t.propertiesToUpdate),this.#R({hasSelectedEditor:!0})}isSelected(t){return this.#w.has(t)}get firstSelectedEditor(){return this.#w.values().next().value}unselect(t){t.unselect(),this.#w.delete(t),this.#R({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#w.size!==0}get isEnterHandled(){return this.#w.size===1&&this.firstSelectedEditor.isEnterHandled}undo(){this.#a.undo(),this.#R({hasSomethingToUndo:this.#a.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#W()}),this._editorUndoBar?.hide()}redo(){this.#a.redo(),this.#R({hasSomethingToUndo:!0,hasSomethingToRedo:this.#a.hasSomethingToRedo(),isEmpty:this.#W()})}addCommands(t){this.#a.add(t),this.#R({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#W()})}cleanUndoStack(t){this.#a.cleanType(t)}#W(){if(this.#n.size===0)return!0;if(this.#n.size===1)for(const t of this.#n.values())return t.isEmpty();return!1}delete(){this.commitOrRemove();const t=this.currentLayer?.endDrawingSession(!0);if(!this.hasSelection&&!t)return;const e=t?[t]:[...this.#w],n=()=>{this._editorUndoBar?.show(r,e.length===1?e[0].editorType:e.length);for(const a of e)a.remove()},r=()=>{for(const a of e)this.#tt(a)};this.addCommands({cmd:n,undo:r,mustExec:!0})}commitOrRemove(){this.#e?.commitOrRemove()}hasSomethingToControl(){return this.#e||this.hasSelection}#et(t){for(const e of this.#w)e.unselect();this.#w.clear();for(const e of t)e.isEmpty()||(this.#w.add(e),e.select());this.#R({hasSelectedEditor:this.hasSelection})}selectAll(){for(const t of this.#w)t.commit();this.#et(this.#n.values())}unselectAll(){if(!(this.#e&&(this.#e.commitOrRemove(),this.#E!==Et.NONE))&&!this.#l?.commitOrRemove()&&this.hasSelection){for(const t of this.#w)t.unselect();this.#w.clear(),this.#R({hasSelectedEditor:!1})}}translateSelectedEditors(t,e,n=!1){if(n||this.commitOrRemove(),!this.hasSelection)return;this.#z[0]+=t,this.#z[1]+=e;const[r,a]=this.#z,l=[...this.#w],c=1e3;this.#D&&clearTimeout(this.#D),this.#D=setTimeout(()=>{this.#D=null,this.#z[0]=this.#z[1]=0,this.addCommands({cmd:()=>{for(const h of l)this.#n.has(h.id)&&(h.translateInPage(r,a),h.translationDone())},undo:()=>{for(const h of l)this.#n.has(h.id)&&(h.translateInPage(-r,-a),h.translationDone())},mustExec:!1})},c);for(const h of l)h.translateInPage(t,e),h.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#f=new Map;for(const t of this.#w)this.#f.set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#f)return!1;this.disableUserSelect(!1);const t=this.#f;this.#f=null;let e=!1;for(const[{x:r,y:a,pageIndex:l},c]of t)c.newX=r,c.newY=a,c.newPageIndex=l,e||=r!==c.savedX||a!==c.savedY||l!==c.savedPageIndex;if(!e)return!1;const n=(r,a,l,c)=>{if(this.#n.has(r.id)){const h=this.#i.get(c);h?r._setParentAndPosition(h,a,l):(r.pageIndex=c,r.x=a,r.y=l)}};return this.addCommands({cmd:()=>{for(const[r,{newX:a,newY:l,newPageIndex:c}]of t)n(r,a,l,c)},undo:()=>{for(const[r,{savedX:a,savedY:l,savedPageIndex:c}]of t)n(r,a,l,c)},mustExec:!0}),!0}dragSelectedEditors(t,e){if(this.#f)for(const n of this.#f.keys())n.drag(t,e)}rebuild(t){if(t.parent===null){const e=this.getLayer(t.pageIndex);e?(e.changeParent(t),e.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){return this.getActive()?.shouldGetKeyboardEvents()||this.#w.size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return this.#e===t}getActive(){return this.#e}getMode(){return this.#E}get imageManager(){return Mt(this,"imageManager",new dd)}getSelectionBoxes(t){if(!t)return null;const e=document.getSelection();for(let d=0,p=e.rangeCount;d<p;d++)if(!t.contains(e.getRangeAt(d).commonAncestorContainer))return null;const{x:n,y:r,width:a,height:l}=t.getBoundingClientRect();let c;switch(t.getAttribute("data-main-rotation")){case"90":c=(d,p,m,y)=>({x:(p-r)/l,y:1-(d+m-n)/a,width:y/l,height:m/a});break;case"180":c=(d,p,m,y)=>({x:1-(d+m-n)/a,y:1-(p+y-r)/l,width:m/a,height:y/l});break;case"270":c=(d,p,m,y)=>({x:1-(p+y-r)/l,y:(d-n)/a,width:y/l,height:m/a});break;default:c=(d,p,m,y)=>({x:(d-n)/a,y:(p-r)/l,width:m/a,height:y/l});break}const h=[];for(let d=0,p=e.rangeCount;d<p;d++){const m=e.getRangeAt(d);if(!m.collapsed)for(const{x:y,y:w,width:b,height:x}of m.getClientRects())b===0||x===0||h.push(c(y,w,b,x))}return h.length===0?null:h}addChangedExistingAnnotation({annotationElementId:t,id:e}){(this.#o||=new Map).set(t,e)}removeChangedExistingAnnotation({annotationElementId:t}){this.#o?.delete(t)}renderAnnotationElement(t){const e=this.#o?.get(t.data.id);if(!e)return;const n=this.#s.getRawValue(e);n&&(this.#E===Et.NONE&&!n.hasBeenModified||n.renderAnnotationElement(t))}setMissingCanvas(t,e,n){const r=this.#I?.get(t);r&&(r.setCanvas(e,n),this.#I.delete(t))}addMissingCanvas(t,e){(this.#I||=new Map).set(t,e)}}class On{#t=null;#e=!1;#n=null;#i=null;#r=null;#s=null;#o=!1;#a=null;#h=null;#l=null;#d=null;#c=!1;static#f=null;static _l10n=null;constructor(t){this.#h=t,this.#c=t._uiManager.useNewAltTextFlow,On.#f||=Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"})}static initialize(t){On._l10n??=t}async render(){const t=this.#n=document.createElement("button");t.className="altText",t.tabIndex="0";const e=this.#i=document.createElement("span");t.append(e),this.#c?(t.classList.add("new"),t.setAttribute("data-l10n-id",On.#f.missing),e.setAttribute("data-l10n-id",On.#f["missing-label"])):(t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const n=this.#h._uiManager._signal;t.addEventListener("contextmenu",pn,{signal:n}),t.addEventListener("pointerdown",a=>a.stopPropagation(),{signal:n});const r=a=>{a.preventDefault(),this.#h._uiManager.editAltText(this.#h),this.#c&&this.#h._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:this.#p}})};return t.addEventListener("click",r,{capture:!0,signal:n}),t.addEventListener("keydown",a=>{a.target===t&&a.key==="Enter"&&(this.#o=!0,r(a))},{signal:n}),await this.#m(),t}get#p(){return this.#t&&"added"||this.#t===null&&this.guessedText&&"review"||"missing"}finish(){this.#n&&(this.#n.focus({focusVisible:this.#o}),this.#o=!1)}isEmpty(){return this.#c?this.#t===null:!this.#t&&!this.#e}hasData(){return this.#c?this.#t!==null||!!this.#l:this.isEmpty()}get guessedText(){return this.#l}async setGuessedText(t){this.#t===null&&(this.#l=t,this.#d=await On._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:t}),this.#m())}toggleAltTextBadge(t=!1){if(!this.#c||this.#t){this.#a?.remove(),this.#a=null;return}if(!this.#a){const e=this.#a=document.createElement("div");e.className="noAltTextBadge",this.#h.div.append(e)}this.#a.classList.toggle("hidden",!t)}serialize(t){let e=this.#t;return!t&&this.#l===e&&(e=this.#d),{altText:e,decorative:this.#e,guessedText:this.#l,textWithDisclaimer:this.#d}}get data(){return{altText:this.#t,decorative:this.#e}}set data({altText:t,decorative:e,guessedText:n,textWithDisclaimer:r,cancel:a=!1}){n&&(this.#l=n,this.#d=r),!(this.#t===t&&this.#e===e)&&(a||(this.#t=t,this.#e=e),this.#m())}toggle(t=!1){this.#n&&(!t&&this.#s&&(clearTimeout(this.#s),this.#s=null),this.#n.disabled=!t)}shown(){this.#h._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:this.#p}})}destroy(){this.#n?.remove(),this.#n=null,this.#i=null,this.#r=null,this.#a?.remove(),this.#a=null}async#m(){const t=this.#n;if(!t)return;if(this.#c){if(t.classList.toggle("done",!!this.#t),t.setAttribute("data-l10n-id",On.#f[this.#p]),this.#i?.setAttribute("data-l10n-id",On.#f[`${this.#p}-label`]),!this.#t){this.#r?.remove();return}}else{if(!this.#t&&!this.#e){t.classList.remove("done"),this.#r?.remove();return}t.classList.add("done"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let e=this.#r;if(!e){this.#r=e=document.createElement("span"),e.className="tooltip",e.setAttribute("role","tooltip"),e.id=`alt-text-tooltip-${this.#h.id}`;const r=100,a=this.#h._uiManager._signal;a.addEventListener("abort",()=>{clearTimeout(this.#s),this.#s=null},{once:!0}),t.addEventListener("mouseenter",()=>{this.#s=setTimeout(()=>{this.#s=null,this.#r.classList.add("show"),this.#h._reportTelemetry({action:"alt_text_tooltip"})},r)},{signal:a}),t.addEventListener("mouseleave",()=>{this.#s&&(clearTimeout(this.#s),this.#s=null),this.#r?.classList.remove("show")},{signal:a})}this.#e?e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(e.removeAttribute("data-l10n-id"),e.textContent=this.#t),e.parentNode||t.append(e),this.#h.getElementForAltText()?.setAttribute("aria-describedby",e.id)}}class To{#t;#e=!1;#n=null;#i;#r;#s;#o;#a=null;#h;#l=null;#d;#c=null;constructor({container:t,isPinchingDisabled:e=null,isPinchingStopped:n=null,onPinchStart:r=null,onPinching:a=null,onPinchEnd:l=null,signal:c}){this.#t=t,this.#n=n,this.#i=e,this.#r=r,this.#s=a,this.#o=l,this.#d=new AbortController,this.#h=AbortSignal.any([c,this.#d.signal]),t.addEventListener("touchstart",this.#f.bind(this),{passive:!1,signal:this.#h})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/Cn.pixelRatio}#f(t){if(this.#i?.())return;if(t.touches.length===1){if(this.#a)return;const r=this.#a=new AbortController,a=AbortSignal.any([this.#h,r.signal]),l=this.#t,c={capture:!0,signal:a,passive:!1},h=d=>{d.pointerType==="touch"&&(this.#a?.abort(),this.#a=null)};l.addEventListener("pointerdown",d=>{d.pointerType==="touch"&&(re(d),h(d))},c),l.addEventListener("pointerup",h,c),l.addEventListener("pointercancel",h,c);return}if(!this.#c){this.#c=new AbortController;const r=AbortSignal.any([this.#h,this.#c.signal]),a=this.#t,l={signal:r,capture:!1,passive:!1};a.addEventListener("touchmove",this.#p.bind(this),l);const c=this.#m.bind(this);a.addEventListener("touchend",c,l),a.addEventListener("touchcancel",c,l),l.capture=!0,a.addEventListener("pointerdown",re,l),a.addEventListener("pointermove",re,l),a.addEventListener("pointercancel",re,l),a.addEventListener("pointerup",re,l),this.#r?.()}if(re(t),t.touches.length!==2||this.#n?.()){this.#l=null;return}let[e,n]=t.touches;e.identifier>n.identifier&&([e,n]=[n,e]),this.#l={touch0X:e.screenX,touch0Y:e.screenY,touch1X:n.screenX,touch1Y:n.screenY}}#p(t){if(!this.#l||t.touches.length!==2)return;re(t);let[e,n]=t.touches;e.identifier>n.identifier&&([e,n]=[n,e]);const{screenX:r,screenY:a}=e,{screenX:l,screenY:c}=n,h=this.#l,{touch0X:d,touch0Y:p,touch1X:m,touch1Y:y}=h,w=m-d,b=y-p,x=l-r,S=c-a,E=Math.hypot(x,S)||1,T=Math.hypot(w,b)||1;if(!this.#e&&Math.abs(T-E)<=To.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(h.touch0X=r,h.touch0Y=a,h.touch1X=l,h.touch1Y=c,!this.#e){this.#e=!0;return}const _=[(r+l)/2,(a+c)/2];this.#s?.(_,T,E)}#m(t){t.touches.length>=2||(this.#c&&(this.#c.abort(),this.#c=null,this.#o?.()),this.#l&&(re(t),this.#l=null,this.#e=!1))}destroy(){this.#d?.abort(),this.#d=null,this.#a?.abort(),this.#a=null}}class vt{#t=null;#e=null;#n=null;#i=!1;#r=null;#s="";#o=!1;#a=null;#h=null;#l=null;#d=null;#c="";#f=!1;#p=null;#m=!1;#u=!1;#g=!1;#y=null;#v=0;#b=0;#x=null;#A=null;isSelected=!1;_isCopy=!1;_editToolbar=null;_initialOptions=Object.create(null);_initialData=null;_isVisible=!0;_uiManager=null;_focusEventsAllowed=!0;static _l10n=null;static _l10nResizer=null;#_=!1;#T=vt._zIndex++;static _borderLineWidth=-1;static _colorManager=new fd;static _zIndex=1;static _telemetryTimeout=1e3;static get _resizerKeyboardManager(){const t=vt.prototype._resizeWithKeyboard,e=ii.TRANSLATE_SMALL,n=ii.TRANSLATE_BIG;return Mt(this,"_resizerKeyboardManager",new Co([[["ArrowLeft","mac+ArrowLeft"],t,{args:[-e,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],t,{args:[e,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],t,{args:[0,-e]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],t,{args:[0,e]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t,{args:[0,n]}],[["Escape","mac+Escape"],vt.prototype._stopResizingWithKeyboard]]))}constructor(t){this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null,this._uiManager=t.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=t.isCentered,this._structTreeParentId=null,this.annotationElementId=t.annotationElementId||null;const{rotation:e,rawDims:{pageWidth:n,pageHeight:r,pageX:a,pageY:l}}=this.parent.viewport;this.rotation=e,this.pageRotation=(360+e-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,r],this.pageTranslation=[a,l];const[c,h]=this.parentDimensions;this.x=t.x/c,this.y=t.y/h,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return Mt(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(t){const e=new XC({id:t.parent.getNextId(),parent:t.parent,uiManager:t._uiManager});e.annotationElementId=t.annotationElementId,e.deleted=!0,e._uiManager.addToAnnotationStorage(e)}static initialize(t,e){if(vt._l10n??=t,vt._l10nResizer||=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"}),vt._borderLineWidth!==-1)return;const n=getComputedStyle(document.documentElement);vt._borderLineWidth=parseFloat(n.getPropertyValue("--outline-width"))||0}static updateDefaultParams(t,e){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(t){return!1}static paste(t,e){Vt("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#_}set _isDraggable(t){this.#_=t,this.div?.classList.toggle("draggable",t)}get isEnterHandled(){return!0}center(){const[t,e]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*e/(t*2),this.y+=this.width*t/(e*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*e/(t*2),this.y-=this.width*t/(e*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(t){this._uiManager.addCommands(t)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#T}setParent(t){t!==null?(this.pageIndex=t.pageIndex,this.pageDimensions=t.pageDimensions):this.#H(),this.parent=t}focusin(t){this._focusEventsAllowed&&(this.#f?this.#f=!1:this.parent.setSelected(this))}focusout(t){!this._focusEventsAllowed||!this.isAttachedToDOM||t.relatedTarget?.closest(`#${this.id}`)||(t.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(t,e,n,r){const[a,l]=this.parentDimensions;[n,r]=this.screenToPageTranslation(n,r),this.x=(t+n)/a,this.y=(e+r)/l,this.fixAndSetPosition()}_moveAfterPaste(t,e){const[n,r]=this.parentDimensions;this.setAt(t*n,e*r,this.width*n,this.height*r),this._onTranslated()}#P([t,e],n,r){[n,r]=this.screenToPageTranslation(n,r),this.x+=n/t,this.y+=r/e,this._onTranslating(this.x,this.y),this.fixAndSetPosition()}translate(t,e){this.#P(this.parentDimensions,t,e)}translateInPage(t,e){this.#p||=[this.x,this.y,this.width,this.height],this.#P(this.pageDimensions,t,e),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(t,e){this.#p||=[this.x,this.y,this.width,this.height];const{div:n,parentDimensions:[r,a]}=this;if(this.x+=t/r,this.y+=e/a,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:m,y}=this.div.getBoundingClientRect();this.parent.findNewParent(this,m,y)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:l,y:c}=this;const[h,d]=this.getBaseTranslation();l+=h,c+=d;const{style:p}=n;p.left=`${(100*l).toFixed(2)}%`,p.top=`${(100*c).toFixed(2)}%`,this._onTranslating(l,c),n.scrollIntoView({block:"nearest"})}_onTranslating(t,e){}_onTranslated(t,e){}get _hasBeenMoved(){return!!this.#p&&(this.#p[0]!==this.x||this.#p[1]!==this.y)}get _hasBeenResized(){return!!this.#p&&(this.#p[2]!==this.width||this.#p[3]!==this.height)}getBaseTranslation(){const[t,e]=this.parentDimensions,{_borderLineWidth:n}=vt,r=n/t,a=n/e;switch(this.rotation){case 90:return[-r,a];case 180:return[r,a];case 270:return[r,-a];default:return[-r,-a]}}get _mustFixPosition(){return!0}fixAndSetPosition(t=this.rotation){const{div:{style:e},pageDimensions:[n,r]}=this;let{x:a,y:l,width:c,height:h}=this;if(c*=n,h*=r,a*=n,l*=r,this._mustFixPosition)switch(t){case 0:a=Le(a,0,n-c),l=Le(l,0,r-h);break;case 90:a=Le(a,0,n-h),l=Le(l,c,r);break;case 180:a=Le(a,c,n),l=Le(l,h,r);break;case 270:a=Le(a,h,n),l=Le(l,0,r-c);break}this.x=a/=n,this.y=l/=r;const[d,p]=this.getBaseTranslation();a+=d,l+=p,e.left=`${(100*a).toFixed(2)}%`,e.top=`${(100*l).toFixed(2)}%`,this.moveInDOM()}static#S(t,e,n){switch(n){case 90:return[e,-t];case 180:return[-t,-e];case 270:return[-e,t];default:return[t,e]}}screenToPageTranslation(t,e){return vt.#S(t,e,this.parentRotation)}pageTranslationToScreen(t,e){return vt.#S(t,e,360-this.parentRotation)}#k(t){switch(t){case 90:{const[e,n]=this.pageDimensions;return[0,-e/n,n/e,0]}case 180:return[-1,0,0,-1];case 270:{const[e,n]=this.pageDimensions;return[0,e/n,-n/e,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:t,pageDimensions:[e,n]}=this;return[e*t,n*t]}setDims(t,e){const[n,r]=this.parentDimensions,{style:a}=this.div;a.width=`${(100*t/n).toFixed(2)}%`,this.#o||(a.height=`${(100*e/r).toFixed(2)}%`)}fixDims(){const{style:t}=this.div,{height:e,width:n}=t,r=n.endsWith("%"),a=!this.#o&&e.endsWith("%");if(r&&a)return;const[l,c]=this.parentDimensions;r||(t.width=`${(100*parseFloat(n)/l).toFixed(2)}%`),!this.#o&&!a&&(t.height=`${(100*parseFloat(e)/c).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}#C(){if(this.#a)return;this.#a=document.createElement("div"),this.#a.classList.add("resizers");const t=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],e=this._uiManager._signal;for(const n of t){const r=document.createElement("div");this.#a.append(r),r.classList.add("resizer",n),r.setAttribute("data-resizer-name",n),r.addEventListener("pointerdown",this.#M.bind(this,n),{signal:e}),r.addEventListener("contextmenu",pn,{signal:e}),r.tabIndex=-1}this.div.prepend(this.#a)}#M(t,e){e.preventDefault();const{isMac:n}=xe.platform;if(e.button!==0||e.ctrlKey&&n)return;this.#n?.toggle(!1);const r=this._isDraggable;this._isDraggable=!1,this.#h=[e.screenX,e.screenY];const a=new AbortController,l=this._uiManager.combinedSignal(a);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",this.#B.bind(this,t),{passive:!0,capture:!0,signal:l}),window.addEventListener("touchmove",re,{passive:!1,signal:l}),window.addEventListener("contextmenu",pn,{signal:l}),this.#l={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const c=this.parent.div.style.cursor,h=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(e.target).cursor;const d=()=>{a.abort(),this.parent.togglePointerEvents(!0),this.#n?.toggle(!0),this._isDraggable=r,this.parent.div.style.cursor=c,this.div.style.cursor=h,this.#I()};window.addEventListener("pointerup",d,{signal:l}),window.addEventListener("blur",d,{signal:l})}#L(t,e,n,r){this.width=n,this.height=r,this.x=t,this.y=e;const[a,l]=this.parentDimensions;this.setDims(a*n,l*r),this.fixAndSetPosition(),this._onResized()}_onResized(){}#I(){if(!this.#l)return;const{savedX:t,savedY:e,savedWidth:n,savedHeight:r}=this.#l;this.#l=null;const a=this.x,l=this.y,c=this.width,h=this.height;a===t&&l===e&&c===n&&h===r||this.addCommands({cmd:this.#L.bind(this,a,l,c,h),undo:this.#L.bind(this,t,e,n,r),mustExec:!0})}static _round(t){return Math.round(t*1e4)/1e4}#B(t,e){const[n,r]=this.parentDimensions,a=this.x,l=this.y,c=this.width,h=this.height,d=vt.MIN_SIZE/n,p=vt.MIN_SIZE/r,m=this.#k(this.rotation),y=(G,U)=>[m[0]*G+m[2]*U,m[1]*G+m[3]*U],w=this.#k(360-this.rotation),b=(G,U)=>[w[0]*G+w[2]*U,w[1]*G+w[3]*U];let x,S,E=!1,T=!1;switch(t){case"topLeft":E=!0,x=(G,U)=>[0,0],S=(G,U)=>[G,U];break;case"topMiddle":x=(G,U)=>[G/2,0],S=(G,U)=>[G/2,U];break;case"topRight":E=!0,x=(G,U)=>[G,0],S=(G,U)=>[0,U];break;case"middleRight":T=!0,x=(G,U)=>[G,U/2],S=(G,U)=>[0,U/2];break;case"bottomRight":E=!0,x=(G,U)=>[G,U],S=(G,U)=>[0,0];break;case"bottomMiddle":x=(G,U)=>[G/2,U],S=(G,U)=>[G/2,0];break;case"bottomLeft":E=!0,x=(G,U)=>[0,U],S=(G,U)=>[G,0];break;case"middleLeft":T=!0,x=(G,U)=>[0,U/2],S=(G,U)=>[G,U/2];break}const _=x(c,h),P=S(c,h);let k=y(...P);const D=vt._round(a+k[0]),N=vt._round(l+k[1]);let L=1,$=1,K,Z;if(e.fromKeyboard)({deltaX:K,deltaY:Z}=e);else{const{screenX:G,screenY:U}=e,[j,tt]=this.#h;[K,Z]=this.screenToPageTranslation(G-j,U-tt),this.#h[0]=G,this.#h[1]=U}if([K,Z]=b(K/n,Z/r),E){const G=Math.hypot(c,h);L=$=Math.max(Math.min(Math.hypot(P[0]-_[0]-K,P[1]-_[1]-Z)/G,1/c,1/h),d/c,p/h)}else T?L=Le(Math.abs(P[0]-_[0]-K),d,1)/c:$=Le(Math.abs(P[1]-_[1]-Z),p,1)/h;const ft=vt._round(c*L),dt=vt._round(h*$);k=y(...S(ft,dt));const nt=D-k[0],xt=N-k[1];this.#p||=[this.x,this.y,this.width,this.height],this.width=ft,this.height=dt,this.x=nt,this.y=xt,this.setDims(n*ft,r*dt),this.fixAndSetPosition(),this._onResizing()}_onResizing(){}altTextFinish(){this.#n?.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||this.#u)return this._editToolbar;this._editToolbar=new ro(this),this.div.append(this._editToolbar.render());const{toolbarButtons:t}=this;if(t)for(const[e,n]of t)await this._editToolbar.addButton(e,n);return this._editToolbar.addButton("delete"),this._editToolbar}removeEditToolbar(){this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,this.#n?.destroy())}addContainer(t){const e=this._editToolbar?.div;e?e.before(t):this.div.append(t)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return this.#n||(On.initialize(vt._l10n),this.#n=new On(this),this.#t&&(this.#n.data=this.#t,this.#t=null)),this.#n}get altTextData(){return this.#n?.data}set altTextData(t){this.#n&&(this.#n.data=t)}get guessedAltText(){return this.#n?.guessedText}async setGuessedAltText(t){await this.#n?.setGuessedText(t)}serializeAltText(t){return this.#n?.serialize(t)}hasAltText(){return!!this.#n&&!this.#n.isEmpty()}hasAltTextData(){return this.#n?.hasData()??!1}render(){const t=this.div=document.createElement("div");t.setAttribute("data-editor-rotation",(360-this.rotation)%360),t.className=this.name,t.setAttribute("id",this.id),t.tabIndex=this.#i?-1:0,t.setAttribute("role","application"),this.defaultL10nId&&t.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||t.classList.add("hidden"),this.setInForeground(),this.#$();const[e,n]=this.parentDimensions;this.parentRotation%180!==0&&(t.style.maxWidth=`${(100*n/e).toFixed(2)}%`,t.style.maxHeight=`${(100*e/n).toFixed(2)}%`);const[r,a]=this.getInitialTranslation();return this.translate(r,a),C0(this,t,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(this.#A||=new To({container:t,isPinchingDisabled:()=>!this.isSelected,onPinchStart:this.#E.bind(this),onPinching:this.#w.bind(this),onPinchEnd:this.#O.bind(this),signal:this._uiManager._signal})),this._uiManager._editorUndoBar?.hide(),t}#E(){this.#l={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height},this.#n?.toggle(!1),this.parent.togglePointerEvents(!1)}#w(t,e,n){let a=.7*(n/e)+1-.7;if(a===1)return;const l=this.#k(this.rotation),c=(D,N)=>[l[0]*D+l[2]*N,l[1]*D+l[3]*N],[h,d]=this.parentDimensions,p=this.x,m=this.y,y=this.width,w=this.height,b=vt.MIN_SIZE/h,x=vt.MIN_SIZE/d;a=Math.max(Math.min(a,1/y,1/w),b/y,x/w);const S=vt._round(y*a),E=vt._round(w*a);if(S===y&&E===w)return;this.#p||=[p,m,y,w];const T=c(y/2,w/2),_=vt._round(p+T[0]),P=vt._round(m+T[1]),k=c(S/2,E/2);this.x=_-k[0],this.y=P-k[1],this.width=S,this.height=E,this.setDims(h*S,d*E),this.fixAndSetPosition(),this._onResizing()}#O(){this.#n?.toggle(!0),this.parent.togglePointerEvents(!0),this.#I()}pointerdown(t){const{isMac:e}=xe.platform;if(t.button!==0||t.ctrlKey&&e){t.preventDefault();return}if(this.#f=!0,this._isDraggable){this.#U(t);return}this.#j(t)}#j(t){const{isMac:e}=xe.platform;t.ctrlKey&&!e||t.shiftKey||t.metaKey&&e?this.parent.toggleSelected(this):this.parent.setSelected(this)}#U(t){const{isSelected:e}=this;this._uiManager.setUpDragSession();let n=!1;const r=new AbortController,a=this._uiManager.combinedSignal(r),l={capture:!0,passive:!1,signal:a},c=d=>{r.abort(),this.#r=null,this.#f=!1,this._uiManager.endDragSession()||this.#j(d),n&&this._onStopDragging()};e&&(this.#v=t.clientX,this.#b=t.clientY,this.#r=t.pointerId,this.#s=t.pointerType,window.addEventListener("pointermove",d=>{n||(n=!0,this._onStartDragging());const{clientX:p,clientY:m,pointerId:y}=d;if(y!==this.#r){re(d);return}const[w,b]=this.screenToPageTranslation(p-this.#v,m-this.#b);this.#v=p,this.#b=m,this._uiManager.dragSelectedEditors(w,b)},l),window.addEventListener("touchmove",re,l),window.addEventListener("pointerdown",d=>{d.pointerType===this.#s&&(this.#A||d.isPrimary)&&c(d),re(d)},l));const h=d=>{if(!this.#r||this.#r===d.pointerId){c(d);return}re(d)};window.addEventListener("pointerup",h,{signal:a}),window.addEventListener("blur",h,{signal:a})}_onStartDragging(){}_onStopDragging(){}moveInDOM(){this.#y&&clearTimeout(this.#y),this.#y=setTimeout(()=>{this.#y=null,this.parent?.moveEditorInDOM(this)},0)}_setParentAndPosition(t,e,n){t.changeParent(this),this.x=e,this.y=n,this.fixAndSetPosition(),this._onTranslated()}getRect(t,e,n=this.rotation){const r=this.parentScale,[a,l]=this.pageDimensions,[c,h]=this.pageTranslation,d=t/r,p=e/r,m=this.x*a,y=this.y*l,w=this.width*a,b=this.height*l;switch(n){case 0:return[m+d+c,l-y-p-b+h,m+d+w+c,l-y-p+h];case 90:return[m+p+c,l-y+d+h,m+p+b+c,l-y+d+w+h];case 180:return[m-d-w+c,l-y+p+h,m-d+c,l-y+p+b+h];case 270:return[m-p-b+c,l-y-d-w+h,m-p+c,l-y-d+h];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(t,e){const[n,r,a,l]=t,c=a-n,h=l-r;switch(this.rotation){case 0:return[n,e-l,c,h];case 90:return[n,e-r,h,c];case 180:return[a,e-r,c,h];case 270:return[a,e-l,h,c];default:throw new Error("Invalid rotation")}}onceAdded(t){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),this.#u=!0,!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),this.#u=!1,!0):!1}isInEditMode(){return this.#u}shouldGetKeyboardEvents(){return this.#g}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:t,left:e,bottom:n,right:r}=this.getClientDimensions(),{innerHeight:a,innerWidth:l}=window;return e<l&&r>0&&t<a&&n>0}#$(){if(this.#d||!this.div)return;this.#d=new AbortController;const t=this._uiManager.combinedSignal(this.#d);this.div.addEventListener("focusin",this.focusin.bind(this),{signal:t}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:t})}rebuild(){this.#$()}rotate(t){}resize(){}serializeDeleted(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:this._initialData?.popupRef||""}}serialize(t=!1,e=null){Vt("An editor must be serializable")}static async deserialize(t,e,n){const r=new this.prototype.constructor({parent:e,id:e.getNextId(),uiManager:n,annotationElementId:t.annotationElementId});r.rotation=t.rotation,r.#t=t.accessibilityData,r._isCopy=t.isCopy||!1;const[a,l]=r.pageDimensions,[c,h,d,p]=r.getRectInCurrentCoords(t.rect,l);return r.x=c/a,r.y=h/l,r.width=d/a,r.height=p/l,r}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.#d?.abort(),this.#d=null,this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.#y&&(clearTimeout(this.#y),this.#y=null),this.#H(),this.removeEditToolbar(),this.#x){for(const t of this.#x.values())clearTimeout(t);this.#x=null}this.parent=null,this.#A?.destroy(),this.#A=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#C(),this.#a.classList.remove("hidden"))}get toolbarPosition(){return null}keydown(t){if(!this.isResizable||t.target!==this.div||t.key!=="Enter")return;this._uiManager.setSelected(this),this.#l={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const e=this.#a.children;if(!this.#e){this.#e=Array.from(e);const l=this.#G.bind(this),c=this.#z.bind(this),h=this._uiManager._signal;for(const d of this.#e){const p=d.getAttribute("data-resizer-name");d.setAttribute("role","spinbutton"),d.addEventListener("keydown",l,{signal:h}),d.addEventListener("blur",c,{signal:h}),d.addEventListener("focus",this.#D.bind(this,p),{signal:h}),d.setAttribute("data-l10n-id",vt._l10nResizer[p])}}const n=this.#e[0];let r=0;for(const l of e){if(l===n)break;r++}const a=(360-this.rotation+this.parentRotation)%360/90*(this.#e.length/4);if(a!==r){if(a<r)for(let c=0;c<r-a;c++)this.#a.append(this.#a.firstChild);else if(a>r)for(let c=0;c<a-r;c++)this.#a.firstChild.before(this.#a.lastChild);let l=0;for(const c of e){const d=this.#e[l++].getAttribute("data-resizer-name");c.setAttribute("data-l10n-id",vt._l10nResizer[d])}}this.#N(0),this.#g=!0,this.#a.firstChild.focus({focusVisible:!0}),t.preventDefault(),t.stopImmediatePropagation()}#G(t){vt._resizerKeyboardManager.exec(this,t)}#z(t){this.#g&&t.relatedTarget?.parentNode!==this.#a&&this.#H()}#D(t){this.#c=this.#g?t:""}#N(t){if(this.#e)for(const e of this.#e)e.tabIndex=t}_resizeWithKeyboard(t,e){this.#g&&this.#B(this.#c,{deltaX:t,deltaY:e,fromKeyboard:!0})}#H(){this.#g=!1,this.#N(-1),this.#I()}_stopResizingWithKeyboard(){this.#H(),this.div.focus()}select(){if(!(this.isSelected&&this._editToolbar)){if(this.isSelected=!0,this.makeResizable(),this.div?.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{this.div?.classList.contains("selectedEditor")&&this._editToolbar?.show()});return}this._editToolbar?.show(),this.#n?.toggleAltTextBadge(!1)}}unselect(){this.isSelected&&(this.isSelected=!1,this.#a?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),this._editToolbar?.hide(),this.#n?.toggleAltTextBadge(!0))}updateParams(t,e){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(t){this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.id})}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return this.#m}set isEditing(t){this.#m=t,this.parent&&(t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(t,e){this.#o=!0;const n=t/e,{style:r}=this.div;r.aspectRatio=n,r.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(t,e=!1){if(e){this.#x||=new Map;const{action:n}=t;let r=this.#x.get(n);r&&clearTimeout(r),r=setTimeout(()=>{this._reportTelemetry(t),this.#x.delete(n),this.#x.size===0&&(this.#x=null)},vt._telemetryTimeout),this.#x.set(n,r);return}t.type||=this.editorType,this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:t}})}show(t=this._isVisible){this.div.classList.toggle("hidden",!t),this._isVisible=t}enable(){this.div&&(this.div.tabIndex=0),this.#i=!1}disable(){this.div&&(this.div.tabIndex=-1),this.#i=!0}renderAnnotationElement(t){let e=t.container.querySelector(".annotationContent");if(!e)e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),t.container.prepend(e);else if(e.nodeName==="CANVAS"){const n=e;e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),n.before(e)}return e}resetAnnotationElement(t){const{firstChild:e}=t.container;e?.nodeName==="DIV"&&e.classList.contains("annotationContent")&&e.remove()}}class XC extends vt{constructor(t){super(t),this.annotationElementId=t.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const Xg=3285377520,un=4294901760,Nn=65535;class T0{constructor(t){this.h1=t?t&4294967295:Xg,this.h2=t?t&4294967295:Xg}update(t){let e,n;if(typeof t=="string"){e=new Uint8Array(t.length*2),n=0;for(let x=0,S=t.length;x<S;x++){const E=t.charCodeAt(x);E<=255?e[n++]=E:(e[n++]=E>>>8,e[n++]=E&255)}}else if(ArrayBuffer.isView(t))e=t.slice(),n=e.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const r=n>>2,a=n-r*4,l=new Uint32Array(e.buffer,0,r);let c=0,h=0,d=this.h1,p=this.h2;const m=3432918353,y=461845907,w=m&Nn,b=y&Nn;for(let x=0;x<r;x++)x&1?(c=l[x],c=c*m&un|c*w&Nn,c=c<<15|c>>>17,c=c*y&un|c*b&Nn,d^=c,d=d<<13|d>>>19,d=d*5+3864292196):(h=l[x],h=h*m&un|h*w&Nn,h=h<<15|h>>>17,h=h*y&un|h*b&Nn,p^=h,p=p<<13|p>>>19,p=p*5+3864292196);switch(c=0,a){case 3:c^=e[r*4+2]<<16;case 2:c^=e[r*4+1]<<8;case 1:c^=e[r*4],c=c*m&un|c*w&Nn,c=c<<15|c>>>17,c=c*y&un|c*b&Nn,r&1?d^=c:p^=c}this.h1=d,this.h2=p}hexdigest(){let t=this.h1,e=this.h2;return t^=e>>>1,t=t*3981806797&un|t*36045&Nn,e=e*4283543511&un|((e<<16|t>>>16)*2950163797&un)>>>16,t^=e>>>1,t=t*444984403&un|t*60499&Nn,e=e*3301882366&un|((e<<16|t>>>16)*3120437893&un)>>>16,t^=e>>>1,(t>>>0).toString(16).padStart(8,"0")+(e>>>0).toString(16).padStart(8,"0")}}const yh=Object.freeze({map:null,hash:"",transfer:void 0});class pd{#t=!1;#e=null;#n=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(t,e){const n=this.#n.get(t);return n===void 0?e:Object.assign(e,n)}getRawValue(t){return this.#n.get(t)}remove(t){if(this.#n.delete(t),this.#n.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const e of this.#n.values())if(e instanceof vt)return;this.onAnnotationEditor(null)}}setValue(t,e){const n=this.#n.get(t);let r=!1;if(n!==void 0)for(const[a,l]of Object.entries(e))n[a]!==l&&(r=!0,n[a]=l);else r=!0,this.#n.set(t,e);r&&this.#i(),e instanceof vt&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(e.constructor._type)}has(t){return this.#n.has(t)}get size(){return this.#n.size}#i(){this.#t||(this.#t=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this.#t&&(this.#t=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new k0(this)}get serializable(){if(this.#n.size===0)return yh;const t=new Map,e=new T0,n=[],r=Object.create(null);let a=!1;for(const[l,c]of this.#n){const h=c instanceof vt?c.serialize(!1,r):c;h&&(t.set(l,h),e.update(`${l}:${JSON.stringify(h)}`),a||=!!h.bitmap)}if(a)for(const l of t.values())l.bitmap&&n.push(l.bitmap);return t.size>0?{map:t,hash:e.hexdigest(),transfer:n}:yh}get editorStats(){let t=null;const e=new Map;for(const n of this.#n.values()){if(!(n instanceof vt))continue;const r=n.telemetryFinalData;if(!r)continue;const{type:a}=r;e.has(a)||e.set(a,Object.getPrototypeOf(n).constructor),t||=Object.create(null);const l=t[a]||=new Map;for(const[c,h]of Object.entries(r)){if(c==="type")continue;let d=l.get(c);d||(d=new Map,l.set(c,d));const p=d.get(h)??0;d.set(h,p+1)}}for(const[n,r]of e)t[n]=r.computeTelemetryFinalData(t[n]);return t}resetModifiedIds(){this.#e=null}get modifiedIds(){if(this.#e)return this.#e;const t=[];for(const e of this.#n.values())!(e instanceof vt)||!e.annotationElementId||!e.serialize()||t.push(e.annotationElementId);return this.#e={ids:new Set(t),hash:t.join(",")}}[Symbol.iterator](){return this.#n.entries()}}class k0 extends pd{#t;constructor(t){super();const{map:e,hash:n,transfer:r}=t.serializable,a=structuredClone(e,r?{transfer:r}:null);this.#t={map:a,hash:n,transfer:r}}get print(){Vt("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#t}get modifiedIds(){return Mt(this,"modifiedIds",{ids:new Set,hash:""})}}class KC{#t=new Set;constructor({ownerDocument:t=globalThis.document,styleElement:e=null}){this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(t){this.nativeFontFaces.add(t),this._document.fonts.add(t)}removeNativeFontFace(t){this.nativeFontFaces.delete(t),this._document.fonts.delete(t)}insertRule(t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const e=this.styleElement.sheet;e.insertRule(t,e.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.clear(),this.#t.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:t,disableFontFace:e,_inspectFont:n}){if(!(!t||this.#t.has(t.loadedName))){if(ue(!e,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:r,src:a,style:l}=t,c=new FontFace(r,a,l);this.addNativeFontFace(c);try{await c.load(),this.#t.add(r),n?.(t)}catch{_t(`Cannot load system font: ${t.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(c)}return}Vt("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(t){if(t.attached||t.missingFile&&!t.systemFontInfo)return;if(t.attached=!0,t.systemFontInfo){await this.loadSystemFont(t);return}if(this.isFontLoadingAPISupported){const n=t.createNativeFontFace();if(n){this.addNativeFontFace(n);try{await n.loaded}catch(r){throw _t(`Failed to load font '${n.family}': '${r}'.`),t.disableFontFace=!0,r}}return}const e=t.createFontFaceRule();if(e){if(this.insertRule(e),this.isSyncFontLoadingSupported)return;await new Promise(n=>{const r=this._queueLoadingCallback(n);this._prepareFontLoadEvent(t,r)})}}get isFontLoadingAPISupported(){const t=!!this._document?.fonts;return Mt(this,"isFontLoadingAPISupported",t)}get isSyncFontLoadingSupported(){return Mt(this,"isSyncFontLoadingSupported",Oe||xe.platform.isFirefox)}_queueLoadingCallback(t){function e(){for(ue(!r.done,"completeRequest() cannot be called twice."),r.done=!0;n.length>0&&n[0].done;){const a=n.shift();setTimeout(a.callback,0)}}const{loadingRequests:n}=this,r={done:!1,complete:e,callback:t};return n.push(r),r}get _loadTestFont(){const t=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Mt(this,"_loadTestFont",t)}_prepareFontLoadEvent(t,e){function n(P,k){return P.charCodeAt(k)<<24|P.charCodeAt(k+1)<<16|P.charCodeAt(k+2)<<8|P.charCodeAt(k+3)&255}function r(P,k,D,N){const L=P.substring(0,k),$=P.substring(k+D);return L+N+$}let a,l;const c=this._document.createElement("canvas");c.width=1,c.height=1;const h=c.getContext("2d");let d=0;function p(P,k){if(++d>30){_t("Load test font never loaded."),k();return}if(h.font="30px "+P,h.fillText(".",0,20),h.getImageData(0,0,1,1).data[3]>0){k();return}setTimeout(p.bind(null,P,k))}const m=`lt${Date.now()}${this.loadTestFontId++}`;let y=this._loadTestFont;y=r(y,976,m.length,m);const b=16,x=1482184792;let S=n(y,b);for(a=0,l=m.length-3;a<l;a+=4)S=S-x+n(m,a)|0;a<m.length&&(S=S-x+n(m+"XXX",a)|0),y=r(y,b,4,FC(S));const E=`url(data:font/opentype;base64,${btoa(y)});`,T=`@font-face {font-family:"${m}";src:${E}}`;this.insertRule(T);const _=this._document.createElement("div");_.style.visibility="hidden",_.style.width=_.style.height="10px",_.style.position="absolute",_.style.top=_.style.left="0px";for(const P of[t.loadedName,m]){const k=this._document.createElement("span");k.textContent="Hi",k.style.fontFamily=P,_.append(k)}this._document.body.append(_),p(m,()=>{_.remove(),e.complete()})}}class qC{constructor(t,e=null){this.compiledGlyphs=Object.create(null);for(const n in t)this[n]=t[n];this._inspectFont=e}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let t;if(!this.cssFontInfo)t=new FontFace(this.loadedName,this.data,{});else{const e={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(e.style=`oblique ${this.cssFontInfo.italicAngle}deg`),t=new FontFace(this.cssFontInfo.fontFamily,this.data,e)}return this._inspectFont?.(this),t}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const t=`url(data:${this.mimetype};base64,${A0(this.data)});`;let e;if(!this.cssFontInfo)e=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let n=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(n+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),e=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${n}src:${t}}`}return this._inspectFont?.(this,t),e}getPathGenerator(t,e){if(this.compiledGlyphs[e]!==void 0)return this.compiledGlyphs[e];const n=this.loadedName+"_path_"+e;let r;try{r=t.get(n)}catch(l){_t(`getPathGenerator - ignoring character: "${l}".`)}const a=new Path2D(r||"");return this.fontExtraProperties||t.delete(n),this.compiledGlyphs[e]=a}}function YC(s){if(s instanceof URL)return s.href;if(typeof s=="string"){if(Oe)return s;const t=URL.parse(s,window.location);if(t)return t.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function QC(s){if(Oe&&typeof Buffer<"u"&&s instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength)return s;if(typeof s=="string")return So(s);if(s instanceof ArrayBuffer||ArrayBuffer.isView(s)||typeof s=="object"&&!isNaN(s?.length))return new Uint8Array(s);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function qa(s){if(typeof s!="string")return null;if(s.endsWith("/"))return s;throw new Error(`Invalid factory url: "${s}" must include trailing slash.`)}const vh=s=>typeof s=="object"&&Number.isInteger(s?.num)&&s.num>=0&&Number.isInteger(s?.gen)&&s.gen>=0,ZC=s=>typeof s=="object"&&typeof s?.name=="string",P0=BC.bind(null,vh,ZC);class JC{#t=new Map;#e=Promise.resolve();postMessage(t,e){const n={data:structuredClone(t,e?{transfer:e}:null)};this.#e.then(()=>{for(const[r]of this.#t)r.call(this,n)})}addEventListener(t,e,n=null){let r=null;if(n?.signal instanceof AbortSignal){const{signal:a}=n;if(a.aborted){_t("LoopbackPort - cannot use an `aborted` signal.");return}const l=()=>this.removeEventListener(t,e);r=()=>a.removeEventListener("abort",l),a.addEventListener("abort",l)}this.#t.set(e,r)}removeEventListener(t,e){this.#t.get(e)?.(),this.#t.delete(e)}terminate(){for(const[,t]of this.#t)t?.();this.#t.clear()}}const Ya={DATA:1,ERROR:2},le={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function Kg(){}function Ge(s){if(s instanceof ni||s instanceof fl||s instanceof $g||s instanceof po||s instanceof ju)return s;switch(s instanceof Error||typeof s=="object"&&s!==null||Vt('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),s.name){case"AbortException":return new ni(s.message);case"InvalidPDFException":return new fl(s.message);case"PasswordException":return new $g(s.message,s.code);case"ResponseException":return new po(s.message,s.status,s.missing);case"UnknownErrorException":return new ju(s.message,s.details)}return new ju(s.message,s.toString())}class Zr{#t=new AbortController;constructor(t,e,n){this.sourceName=t,this.targetName=e,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),n.addEventListener("message",this.#e.bind(this),{signal:this.#t.signal})}#e({data:t}){if(t.targetName!==this.sourceName)return;if(t.stream){this.#i(t);return}if(t.callback){const n=t.callbackId,r=this.callbackCapabilities[n];if(!r)throw new Error(`Cannot resolve callback ${n}`);if(delete this.callbackCapabilities[n],t.callback===Ya.DATA)r.resolve(t.data);else if(t.callback===Ya.ERROR)r.reject(Ge(t.reason));else throw new Error("Unexpected callback case");return}const e=this.actionHandler[t.action];if(!e)throw new Error(`Unknown action from worker: ${t.action}`);if(t.callbackId){const n=this.sourceName,r=t.sourceName,a=this.comObj;Promise.try(e,t.data).then(function(l){a.postMessage({sourceName:n,targetName:r,callback:Ya.DATA,callbackId:t.callbackId,data:l})},function(l){a.postMessage({sourceName:n,targetName:r,callback:Ya.ERROR,callbackId:t.callbackId,reason:Ge(l)})});return}if(t.streamId){this.#n(t);return}e(t.data)}on(t,e){const n=this.actionHandler;if(n[t])throw new Error(`There is already an actionName called "${t}"`);n[t]=e}send(t,e,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:e},n)}sendWithPromise(t,e,n){const r=this.callbackId++,a=Promise.withResolvers();this.callbackCapabilities[r]=a;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:r,data:e},n)}catch(l){a.reject(l)}return a.promise}sendWithStream(t,e,n,r){const a=this.streamId++,l=this.sourceName,c=this.targetName,h=this.comObj;return new ReadableStream({start:d=>{const p=Promise.withResolvers();return this.streamControllers[a]={controller:d,startCall:p,pullCall:null,cancelCall:null,isClosed:!1},h.postMessage({sourceName:l,targetName:c,action:t,streamId:a,data:e,desiredSize:d.desiredSize},r),p.promise},pull:d=>{const p=Promise.withResolvers();return this.streamControllers[a].pullCall=p,h.postMessage({sourceName:l,targetName:c,stream:le.PULL,streamId:a,desiredSize:d.desiredSize}),p.promise},cancel:d=>{ue(d instanceof Error,"cancel must have a valid reason");const p=Promise.withResolvers();return this.streamControllers[a].cancelCall=p,this.streamControllers[a].isClosed=!0,h.postMessage({sourceName:l,targetName:c,stream:le.CANCEL,streamId:a,reason:Ge(d)}),p.promise}},n)}#n(t){const e=t.streamId,n=this.sourceName,r=t.sourceName,a=this.comObj,l=this,c=this.actionHandler[t.action],h={enqueue(d,p=1,m){if(this.isCancelled)return;const y=this.desiredSize;this.desiredSize-=p,y>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),a.postMessage({sourceName:n,targetName:r,stream:le.ENQUEUE,streamId:e,chunk:d},m)},close(){this.isCancelled||(this.isCancelled=!0,a.postMessage({sourceName:n,targetName:r,stream:le.CLOSE,streamId:e}),delete l.streamSinks[e])},error(d){ue(d instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,a.postMessage({sourceName:n,targetName:r,stream:le.ERROR,streamId:e,reason:Ge(d)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};h.sinkCapability.resolve(),h.ready=h.sinkCapability.promise,this.streamSinks[e]=h,Promise.try(c,t.data,h).then(function(){a.postMessage({sourceName:n,targetName:r,stream:le.START_COMPLETE,streamId:e,success:!0})},function(d){a.postMessage({sourceName:n,targetName:r,stream:le.START_COMPLETE,streamId:e,reason:Ge(d)})})}#i(t){const e=t.streamId,n=this.sourceName,r=t.sourceName,a=this.comObj,l=this.streamControllers[e],c=this.streamSinks[e];switch(t.stream){case le.START_COMPLETE:t.success?l.startCall.resolve():l.startCall.reject(Ge(t.reason));break;case le.PULL_COMPLETE:t.success?l.pullCall.resolve():l.pullCall.reject(Ge(t.reason));break;case le.PULL:if(!c){a.postMessage({sourceName:n,targetName:r,stream:le.PULL_COMPLETE,streamId:e,success:!0});break}c.desiredSize<=0&&t.desiredSize>0&&c.sinkCapability.resolve(),c.desiredSize=t.desiredSize,Promise.try(c.onPull||Kg).then(function(){a.postMessage({sourceName:n,targetName:r,stream:le.PULL_COMPLETE,streamId:e,success:!0})},function(d){a.postMessage({sourceName:n,targetName:r,stream:le.PULL_COMPLETE,streamId:e,reason:Ge(d)})});break;case le.ENQUEUE:if(ue(l,"enqueue should have stream controller"),l.isClosed)break;l.controller.enqueue(t.chunk);break;case le.CLOSE:if(ue(l,"close should have stream controller"),l.isClosed)break;l.isClosed=!0,l.controller.close(),this.#r(l,e);break;case le.ERROR:ue(l,"error should have stream controller"),l.controller.error(Ge(t.reason)),this.#r(l,e);break;case le.CANCEL_COMPLETE:t.success?l.cancelCall.resolve():l.cancelCall.reject(Ge(t.reason)),this.#r(l,e);break;case le.CANCEL:if(!c)break;const h=Ge(t.reason);Promise.try(c.onCancel||Kg,h).then(function(){a.postMessage({sourceName:n,targetName:r,stream:le.CANCEL_COMPLETE,streamId:e,success:!0})},function(d){a.postMessage({sourceName:n,targetName:r,stream:le.CANCEL_COMPLETE,streamId:e,reason:Ge(d)})}),c.sinkCapability.reject(h),c.isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}}async#r(t,e){await Promise.allSettled([t.startCall?.promise,t.pullCall?.promise,t.cancelCall?.promise]),delete this.streamControllers[e]}destroy(){this.#t?.abort(),this.#t=null}}class R0{#t=!1;constructor({enableHWA:t=!1}){this.#t=t}create(t,e){if(t<=0||e<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(t,e);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!this.#t})}}reset(t,e,n){if(!t.canvas)throw new Error("Canvas is not specified");if(e<=0||n<=0)throw new Error("Invalid canvas size");t.canvas.width=e,t.canvas.height=n}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,e){Vt("Abstract method `_createCanvas` called.")}}class tT extends R0{constructor({ownerDocument:t=globalThis.document,enableHWA:e=!1}){super({enableHWA:e}),this._document=t}_createCanvas(t,e){const n=this._document.createElement("canvas");return n.width=t,n.height=e,n}}class M0{constructor({baseUrl:t=null,isCompressed:e=!0}){this.baseUrl=t,this.isCompressed=e}async fetch({name:t}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!t)throw new Error("CMap name must be specified.");const e=this.baseUrl+t+(this.isCompressed?".bcmap":"");return this._fetch(e).then(n=>({cMapData:n,isCompressed:this.isCompressed})).catch(n=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${e}`)})}async _fetch(t){Vt("Abstract method `_fetch` called.")}}class qg extends M0{async _fetch(t){const e=await sr(t,this.isCompressed?"arraybuffer":"text");return e instanceof ArrayBuffer?new Uint8Array(e):So(e)}}class L0{addFilter(t){return"none"}addHCMFilter(t,e){return"none"}addAlphaFilter(t){return"none"}addLuminosityFilter(t){return"none"}addHighlightHCMFilter(t,e,n,r,a){return"none"}destroy(t=!1){}}class eT extends L0{#t;#e;#n;#i;#r;#s;#o=0;constructor({docId:t,ownerDocument:e=globalThis.document}){super(),this.#i=t,this.#r=e}get#a(){return this.#e||=new Map}get#h(){return this.#s||=new Map}get#l(){if(!this.#n){const t=this.#r.createElement("div"),{style:e}=t;e.visibility="hidden",e.contain="strict",e.width=e.height=0,e.position="absolute",e.top=e.left=0,e.zIndex=-1;const n=this.#r.createElementNS(Jn,"svg");n.setAttribute("width",0),n.setAttribute("height",0),this.#n=this.#r.createElementNS(Jn,"defs"),t.append(n),n.append(this.#n),this.#r.body.append(t)}return this.#n}#d(t){if(t.length===1){const h=t[0],d=new Array(256);for(let m=0;m<256;m++)d[m]=h[m]/255;const p=d.join(",");return[p,p,p]}const[e,n,r]=t,a=new Array(256),l=new Array(256),c=new Array(256);for(let h=0;h<256;h++)a[h]=e[h]/255,l[h]=n[h]/255,c[h]=r[h]/255;return[a.join(","),l.join(","),c.join(",")]}#c(t){if(this.#t===void 0){this.#t="";const e=this.#r.URL;e!==this.#r.baseURI&&(_o(e)?_t('#createUrl: ignore "data:"-URL for performance reasons.'):this.#t=ad(e,""))}return`url(${this.#t}#${t})`}addFilter(t){if(!t)return"none";let e=this.#a.get(t);if(e)return e;const[n,r,a]=this.#d(t),l=t.length===1?n:`${n}${r}${a}`;if(e=this.#a.get(l),e)return this.#a.set(t,e),e;const c=`g_${this.#i}_transfer_map_${this.#o++}`,h=this.#c(c);this.#a.set(t,h),this.#a.set(l,h);const d=this.#m(c);return this.#g(n,r,a,d),h}addHCMFilter(t,e){const n=`${t}-${e}`,r="base";let a=this.#h.get(r);if(a?.key===n||(a?(a.filter?.remove(),a.key=n,a.url="none",a.filter=null):(a={key:n,url:"none",filter:null},this.#h.set(r,a)),!t||!e))return a.url;const l=this.#v(t);t=pt.makeHexColor(...l);const c=this.#v(e);if(e=pt.makeHexColor(...c),this.#l.style.color="",t==="#000000"&&e==="#ffffff"||t===e)return a.url;const h=new Array(256);for(let w=0;w<=255;w++){const b=w/255;h[w]=b<=.03928?b/12.92:((b+.055)/1.055)**2.4}const d=h.join(","),p=`g_${this.#i}_hcm_filter`,m=a.filter=this.#m(p);this.#g(d,d,d,m),this.#p(m);const y=(w,b)=>{const x=l[w]/255,S=c[w]/255,E=new Array(b+1);for(let T=0;T<=b;T++)E[T]=x+T/b*(S-x);return E.join(",")};return this.#g(y(0,5),y(1,5),y(2,5),m),a.url=this.#c(p),a.url}addAlphaFilter(t){let e=this.#a.get(t);if(e)return e;const[n]=this.#d([t]),r=`alpha_${n}`;if(e=this.#a.get(r),e)return this.#a.set(t,e),e;const a=`g_${this.#i}_alpha_map_${this.#o++}`,l=this.#c(a);this.#a.set(t,l),this.#a.set(r,l);const c=this.#m(a);return this.#y(n,c),l}addLuminosityFilter(t){let e=this.#a.get(t||"luminosity");if(e)return e;let n,r;if(t?([n]=this.#d([t]),r=`luminosity_${n}`):r="luminosity",e=this.#a.get(r),e)return this.#a.set(t,e),e;const a=`g_${this.#i}_luminosity_map_${this.#o++}`,l=this.#c(a);this.#a.set(t,l),this.#a.set(r,l);const c=this.#m(a);return this.#f(c),t&&this.#y(n,c),l}addHighlightHCMFilter(t,e,n,r,a){const l=`${e}-${n}-${r}-${a}`;let c=this.#h.get(t);if(c?.key===l||(c?(c.filter?.remove(),c.key=l,c.url="none",c.filter=null):(c={key:l,url:"none",filter:null},this.#h.set(t,c)),!e||!n))return c.url;const[h,d]=[e,n].map(this.#v.bind(this));let p=Math.round(.2126*h[0]+.7152*h[1]+.0722*h[2]),m=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),[y,w]=[r,a].map(this.#v.bind(this));m<p&&([p,m,y,w]=[m,p,w,y]),this.#l.style.color="";const b=(E,T,_)=>{const P=new Array(256),k=(m-p)/_,D=E/255,N=(T-E)/(255*_);let L=0;for(let $=0;$<=_;$++){const K=Math.round(p+$*k),Z=D+$*N;for(let ft=L;ft<=K;ft++)P[ft]=Z;L=K+1}for(let $=L;$<256;$++)P[$]=P[L-1];return P.join(",")},x=`g_${this.#i}_hcm_${t}_filter`,S=c.filter=this.#m(x);return this.#p(S),this.#g(b(y[0],w[0],5),b(y[1],w[1],5),b(y[2],w[2],5),S),c.url=this.#c(x),c.url}destroy(t=!1){t&&this.#s?.size||(this.#n?.parentNode.parentNode.remove(),this.#n=null,this.#e?.clear(),this.#e=null,this.#s?.clear(),this.#s=null,this.#o=0)}#f(t){const e=this.#r.createElementNS(Jn,"feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(e)}#p(t){const e=this.#r.createElementNS(Jn,"feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(e)}#m(t){const e=this.#r.createElementNS(Jn,"filter");return e.setAttribute("color-interpolation-filters","sRGB"),e.setAttribute("id",t),this.#l.append(e),e}#u(t,e,n){const r=this.#r.createElementNS(Jn,e);r.setAttribute("type","discrete"),r.setAttribute("tableValues",n),t.append(r)}#g(t,e,n,r){const a=this.#r.createElementNS(Jn,"feComponentTransfer");r.append(a),this.#u(a,"feFuncR",t),this.#u(a,"feFuncG",e),this.#u(a,"feFuncB",n)}#y(t,e){const n=this.#r.createElementNS(Jn,"feComponentTransfer");e.append(n),this.#u(n,"feFuncA",t)}#v(t){return this.#l.style.color=t,hd(getComputedStyle(this.#l).getPropertyValue("color"))}}class I0{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!t)throw new Error("Font filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(n=>{throw new Error(`Unable to load font data at: ${e}`)})}async _fetch(t){Vt("Abstract method `_fetch` called.")}}class Yg extends I0{async _fetch(t){const e=await sr(t,"arraybuffer");return new Uint8Array(e)}}class D0{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!t)throw new Error("Wasm filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(n=>{throw new Error(`Unable to load wasm data at: ${e}`)})}async _fetch(t){Vt("Abstract method `_fetch` called.")}}class Qg extends D0{async _fetch(t){const e=await sr(t,"arraybuffer");return new Uint8Array(e)}}Oe&&_t("Please use the `legacy` build in Node.js environments.");async function md(s){const e=await process.getBuiltinModule("fs").promises.readFile(s);return new Uint8Array(e)}class nT extends L0{}class iT extends R0{_createCanvas(t,e){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(t,e)}}class sT extends M0{async _fetch(t){return md(t)}}class rT extends I0{async _fetch(t){return md(t)}}class oT extends D0{async _fetch(t){return md(t)}}const Ce={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function wh(s,t){if(!t)return;const e=t[2]-t[0],n=t[3]-t[1],r=new Path2D;r.rect(t[0],t[1],e,n),s.clip(r)}class gd{isModifyingCurrentTransform(){return!1}getPattern(){Vt("Abstract method `getPattern` called.")}}class aT extends gd{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}_createGradient(t){let e;this._type==="axial"?e=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(e=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)e.addColorStop(n[0],n[1]);return e}getPattern(t,e,n,r){let a;if(r===Ce.STROKE||r===Ce.FILL){const l=e.current.getClippedPathBoundingBox(r,Kt(t))||[0,0,0,0],c=Math.ceil(l[2]-l[0])||1,h=Math.ceil(l[3]-l[1])||1,d=e.cachedCanvases.getCanvas("pattern",c,h),p=d.context;p.clearRect(0,0,p.canvas.width,p.canvas.height),p.beginPath(),p.rect(0,0,p.canvas.width,p.canvas.height),p.translate(-l[0],-l[1]),n=pt.transform(n,[1,0,0,1,l[0],l[1]]),p.transform(...e.baseTransform),this.matrix&&p.transform(...this.matrix),wh(p,this._bbox),p.fillStyle=this._createGradient(p),p.fill(),a=t.createPattern(d.canvas,"no-repeat");const m=new DOMMatrix(n);a.setTransform(m)}else wh(t,this._bbox),a=this._createGradient(t);return a}}function zu(s,t,e,n,r,a,l,c){const h=t.coords,d=t.colors,p=s.data,m=s.width*4;let y;h[e+1]>h[n+1]&&(y=e,e=n,n=y,y=a,a=l,l=y),h[n+1]>h[r+1]&&(y=n,n=r,r=y,y=l,l=c,c=y),h[e+1]>h[n+1]&&(y=e,e=n,n=y,y=a,a=l,l=y);const w=(h[e]+t.offsetX)*t.scaleX,b=(h[e+1]+t.offsetY)*t.scaleY,x=(h[n]+t.offsetX)*t.scaleX,S=(h[n+1]+t.offsetY)*t.scaleY,E=(h[r]+t.offsetX)*t.scaleX,T=(h[r+1]+t.offsetY)*t.scaleY;if(b>=T)return;const _=d[a],P=d[a+1],k=d[a+2],D=d[l],N=d[l+1],L=d[l+2],$=d[c],K=d[c+1],Z=d[c+2],ft=Math.round(b),dt=Math.round(T);let nt,xt,G,U,j,tt,Y,I;for(let H=ft;H<=dt;H++){if(H<S){const et=H<b?0:(b-H)/(b-S);nt=w-(w-x)*et,xt=_-(_-D)*et,G=P-(P-N)*et,U=k-(k-L)*et}else{let et;H>T?et=1:S===T?et=0:et=(S-H)/(S-T),nt=x-(x-E)*et,xt=D-(D-$)*et,G=N-(N-K)*et,U=L-(L-Z)*et}let J;H<b?J=0:H>T?J=1:J=(b-H)/(b-T),j=w-(w-E)*J,tt=_-(_-$)*J,Y=P-(P-K)*J,I=k-(k-Z)*J;const st=Math.round(Math.min(nt,j)),mt=Math.round(Math.max(nt,j));let wt=m*H+st*4;for(let et=st;et<=mt;et++)J=(nt-et)/(nt-j),J<0?J=0:J>1&&(J=1),p[wt++]=xt-(xt-tt)*J|0,p[wt++]=G-(G-Y)*J|0,p[wt++]=U-(U-I)*J|0,p[wt++]=255}}function lT(s,t,e){const n=t.coords,r=t.colors;let a,l;switch(t.type){case"lattice":const c=t.verticesPerRow,h=Math.floor(n.length/c)-1,d=c-1;for(a=0;a<h;a++){let p=a*c;for(let m=0;m<d;m++,p++)zu(s,e,n[p],n[p+1],n[p+c],r[p],r[p+1],r[p+c]),zu(s,e,n[p+c+1],n[p+1],n[p+c],r[p+c+1],r[p+1],r[p+c])}break;case"triangles":for(a=0,l=n.length;a<l;a+=3)zu(s,e,n[a],n[a+1],n[a+2],r[a],r[a+1],r[a+2]);break;default:throw new Error("illegal figure")}}class cT extends gd{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[6],this._background=t[7],this.matrix=null}_createMeshCanvas(t,e,n){const c=Math.floor(this._bounds[0]),h=Math.floor(this._bounds[1]),d=Math.ceil(this._bounds[2])-c,p=Math.ceil(this._bounds[3])-h,m=Math.min(Math.ceil(Math.abs(d*t[0]*1.1)),3e3),y=Math.min(Math.ceil(Math.abs(p*t[1]*1.1)),3e3),w=d/m,b=p/y,x={coords:this._coords,colors:this._colors,offsetX:-c,offsetY:-h,scaleX:1/w,scaleY:1/b},S=m+4,E=y+4,T=n.getCanvas("mesh",S,E),_=T.context,P=_.createImageData(m,y);if(e){const D=P.data;for(let N=0,L=D.length;N<L;N+=4)D[N]=e[0],D[N+1]=e[1],D[N+2]=e[2],D[N+3]=255}for(const D of this._figures)lT(P,D,x);return _.putImageData(P,2,2),{canvas:T.canvas,offsetX:c-2*w,offsetY:h-2*b,scaleX:w,scaleY:b}}isModifyingCurrentTransform(){return!0}getPattern(t,e,n,r){wh(t,this._bbox);const a=new Float32Array(2);if(r===Ce.SHADING)pt.singularValueDecompose2dScale(Kt(t),a);else if(this.matrix){pt.singularValueDecompose2dScale(this.matrix,a);const[c,h]=a;pt.singularValueDecompose2dScale(e.baseTransform,a),a[0]*=c,a[1]*=h}else pt.singularValueDecompose2dScale(e.baseTransform,a);const l=this._createMeshCanvas(a,r===Ce.SHADING?null:this._background,e.cachedCanvases);return r!==Ce.SHADING&&(t.setTransform(...e.baseTransform),this.matrix&&t.transform(...this.matrix)),t.translate(l.offsetX,l.offsetY),t.scale(l.scaleX,l.scaleY),t.createPattern(l.canvas,"no-repeat")}}class uT extends gd{getPattern(){return"hotpink"}}function hT(s){switch(s[0]){case"RadialAxial":return new aT(s);case"Mesh":return new cT(s);case"Dummy":return new uT}throw new Error(`Unknown IR type: ${s[0]}`)}const Zg={COLORED:1,UNCOLORED:2};class yd{static MAX_PATTERN_SIZE=3e3;constructor(t,e,n,r){this.color=t[1],this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.ctx=e,this.canvasGraphicsFactory=n,this.baseTransform=r}createPatternCanvas(t){const{bbox:e,operatorList:n,paintType:r,tilingType:a,color:l,canvasGraphicsFactory:c}=this;let{xstep:h,ystep:d}=this;h=Math.abs(h),d=Math.abs(d),wl("TilingType: "+a);const p=e[0],m=e[1],y=e[2],w=e[3],b=y-p,x=w-m,S=new Float32Array(2);pt.singularValueDecompose2dScale(this.matrix,S);const[E,T]=S;pt.singularValueDecompose2dScale(this.baseTransform,S);const _=E*S[0],P=T*S[1];let k=b,D=x,N=!1,L=!1;const $=Math.ceil(h*_),K=Math.ceil(d*P),Z=Math.ceil(b*_),ft=Math.ceil(x*P);$>=Z?k=h:N=!0,K>=ft?D=d:L=!0;const dt=this.getSizeAndScale(k,this.ctx.canvas.width,_),nt=this.getSizeAndScale(D,this.ctx.canvas.height,P),xt=t.cachedCanvases.getCanvas("pattern",dt.size,nt.size),G=xt.context,U=c.createCanvasGraphics(G);if(U.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(U,r,l),G.translate(-dt.scale*p,-nt.scale*m),U.transform(dt.scale,0,0,nt.scale,0,0),G.save(),this.clipBbox(U,p,m,y,w),U.baseTransform=Kt(U.ctx),U.executeOperatorList(n),U.endDrawing(),G.restore(),N||L){const j=xt.canvas;N&&(k=h),L&&(D=d);const tt=this.getSizeAndScale(k,this.ctx.canvas.width,_),Y=this.getSizeAndScale(D,this.ctx.canvas.height,P),I=tt.size,H=Y.size,J=t.cachedCanvases.getCanvas("pattern-workaround",I,H),st=J.context,mt=N?Math.floor(b/h):0,wt=L?Math.floor(x/d):0;for(let et=0;et<=mt;et++)for(let Ct=0;Ct<=wt;Ct++)st.drawImage(j,I*et,H*Ct,I,H,0,0,I,H);return{canvas:J.canvas,scaleX:tt.scale,scaleY:Y.scale,offsetX:p,offsetY:m}}return{canvas:xt.canvas,scaleX:dt.scale,scaleY:nt.scale,offsetX:p,offsetY:m}}getSizeAndScale(t,e,n){const r=Math.max(yd.MAX_PATTERN_SIZE,e);let a=Math.ceil(t*n);return a>=r?a=r:n=a/t,{scale:n,size:a}}clipBbox(t,e,n,r,a){const l=r-e,c=a-n;t.ctx.rect(e,n,l,c),pt.axialAlignedBoundingBox([e,n,r,a],Kt(t.ctx),t.current.minMax),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,e,n){const r=t.ctx,a=t.current;switch(e){case Zg.COLORED:const{fillStyle:l,strokeStyle:c}=this.ctx;r.fillStyle=a.fillColor=l,r.strokeStyle=a.strokeColor=c;break;case Zg.UNCOLORED:r.fillStyle=r.strokeStyle=n,a.fillColor=a.strokeColor=n;break;default:throw new NC(`Unsupported paint type: ${e}`)}}isModifyingCurrentTransform(){return!1}getPattern(t,e,n,r){let a=n;r!==Ce.SHADING&&(a=pt.transform(a,e.baseTransform),this.matrix&&(a=pt.transform(a,this.matrix)));const l=this.createPatternCanvas(e);let c=new DOMMatrix(a);c=c.translate(l.offsetX,l.offsetY),c=c.scale(1/l.scaleX,1/l.scaleY);const h=t.createPattern(l.canvas,"repeat");return h.setTransform(c),h}}function dT({src:s,srcPos:t=0,dest:e,width:n,height:r,nonBlackColor:a=4294967295,inverseDecode:l=!1}){const c=xe.isLittleEndian?4278190080:255,[h,d]=l?[a,c]:[c,a],p=n>>3,m=n&7,y=s.length;e=new Uint32Array(e.buffer);let w=0;for(let b=0;b<r;b++){for(const S=t+p;t<S;t++){const E=t<y?s[t]:255;e[w++]=E&128?d:h,e[w++]=E&64?d:h,e[w++]=E&32?d:h,e[w++]=E&16?d:h,e[w++]=E&8?d:h,e[w++]=E&4?d:h,e[w++]=E&2?d:h,e[w++]=E&1?d:h}if(m===0)continue;const x=t<y?s[t++]:255;for(let S=0;S<m;S++)e[w++]=x&1<<7-S?d:h}return{srcPos:t,destPos:w}}const Jg=16,ty=100,fT=15,ey=10,We=16,Hu=new DOMMatrix,tn=new Float32Array(2),Us=new Float32Array([1/0,1/0,-1/0,-1/0]);function pT(s,t){if(s._removeMirroring)throw new Error("Context is already forwarding operations.");s.__originalSave=s.save,s.__originalRestore=s.restore,s.__originalRotate=s.rotate,s.__originalScale=s.scale,s.__originalTranslate=s.translate,s.__originalTransform=s.transform,s.__originalSetTransform=s.setTransform,s.__originalResetTransform=s.resetTransform,s.__originalClip=s.clip,s.__originalMoveTo=s.moveTo,s.__originalLineTo=s.lineTo,s.__originalBezierCurveTo=s.bezierCurveTo,s.__originalRect=s.rect,s.__originalClosePath=s.closePath,s.__originalBeginPath=s.beginPath,s._removeMirroring=()=>{s.save=s.__originalSave,s.restore=s.__originalRestore,s.rotate=s.__originalRotate,s.scale=s.__originalScale,s.translate=s.__originalTranslate,s.transform=s.__originalTransform,s.setTransform=s.__originalSetTransform,s.resetTransform=s.__originalResetTransform,s.clip=s.__originalClip,s.moveTo=s.__originalMoveTo,s.lineTo=s.__originalLineTo,s.bezierCurveTo=s.__originalBezierCurveTo,s.rect=s.__originalRect,s.closePath=s.__originalClosePath,s.beginPath=s.__originalBeginPath,delete s._removeMirroring},s.save=function(){t.save(),this.__originalSave()},s.restore=function(){t.restore(),this.__originalRestore()},s.translate=function(e,n){t.translate(e,n),this.__originalTranslate(e,n)},s.scale=function(e,n){t.scale(e,n),this.__originalScale(e,n)},s.transform=function(e,n,r,a,l,c){t.transform(e,n,r,a,l,c),this.__originalTransform(e,n,r,a,l,c)},s.setTransform=function(e,n,r,a,l,c){t.setTransform(e,n,r,a,l,c),this.__originalSetTransform(e,n,r,a,l,c)},s.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},s.rotate=function(e){t.rotate(e),this.__originalRotate(e)},s.clip=function(e){t.clip(e),this.__originalClip(e)},s.moveTo=function(e,n){t.moveTo(e,n),this.__originalMoveTo(e,n)},s.lineTo=function(e,n){t.lineTo(e,n),this.__originalLineTo(e,n)},s.bezierCurveTo=function(e,n,r,a,l,c){t.bezierCurveTo(e,n,r,a,l,c),this.__originalBezierCurveTo(e,n,r,a,l,c)},s.rect=function(e,n,r,a){t.rect(e,n,r,a),this.__originalRect(e,n,r,a)},s.closePath=function(){t.closePath(),this.__originalClosePath()},s.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}class mT{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,e,n){let r;return this.cache[t]!==void 0?(r=this.cache[t],this.canvasFactory.reset(r,e,n)):(r=this.canvasFactory.create(e,n),this.cache[t]=r),r}delete(t){delete this.cache[t]}clear(){for(const t in this.cache){const e=this.cache[t];this.canvasFactory.destroy(e),delete this.cache[t]}}}function Qa(s,t,e,n,r,a,l,c,h,d){const[p,m,y,w,b,x]=Kt(s);if(m===0&&y===0){const T=l*p+b,_=Math.round(T),P=c*w+x,k=Math.round(P),D=(l+h)*p+b,N=Math.abs(Math.round(D)-_)||1,L=(c+d)*w+x,$=Math.abs(Math.round(L)-k)||1;return s.setTransform(Math.sign(p),0,0,Math.sign(w),_,k),s.drawImage(t,e,n,r,a,0,0,N,$),s.setTransform(p,m,y,w,b,x),[N,$]}if(p===0&&w===0){const T=c*y+b,_=Math.round(T),P=l*m+x,k=Math.round(P),D=(c+d)*y+b,N=Math.abs(Math.round(D)-_)||1,L=(l+h)*m+x,$=Math.abs(Math.round(L)-k)||1;return s.setTransform(0,Math.sign(m),Math.sign(y),0,_,k),s.drawImage(t,e,n,r,a,0,0,$,N),s.setTransform(p,m,y,w,b,x),[$,N]}s.drawImage(t,e,n,r,a,l,c,h,d);const S=Math.hypot(p,m),E=Math.hypot(y,w);return[S*h,E*d]}class ny{alphaIsShape=!1;fontSize=0;fontSizeScale=1;textMatrix=null;textMatrixScale=1;fontMatrix=gh;leading=0;x=0;y=0;lineX=0;lineY=0;charSpacing=0;wordSpacing=0;textHScale=1;textRenderingMode=Me.FILL;textRise=0;fillColor="#000000";strokeColor="#000000";patternFill=!1;patternStroke=!1;fillAlpha=1;strokeAlpha=1;lineWidth=1;activeSMask=null;transferMaps="none";constructor(t,e){this.clipBox=new Float32Array([0,0,t,e]),this.minMax=Us.slice()}clone(){const t=Object.create(this);return t.clipBox=this.clipBox.slice(),t.minMax=this.minMax.slice(),t}getPathBoundingBox(t=Ce.FILL,e=null){const n=this.minMax.slice();if(t===Ce.STROKE){e||Vt("Stroke bounding box must include transform."),pt.singularValueDecompose2dScale(e,tn);const r=tn[0]*this.lineWidth/2,a=tn[1]*this.lineWidth/2;n[0]-=r,n[1]-=a,n[2]+=r,n[3]+=a}return n}updateClipFromPath(){const t=pt.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(t){this.clipBox.set(t,0),this.minMax.set(Us,0)}getClippedPathBoundingBox(t=Ce.FILL,e=null){return pt.intersect(this.clipBox,this.getPathBoundingBox(t,e))}}function iy(s,t){if(t instanceof ImageData){s.putImageData(t,0,0);return}const e=t.height,n=t.width,r=e%We,a=(e-r)/We,l=r===0?a:a+1,c=s.createImageData(n,We);let h=0,d;const p=t.data,m=c.data;let y,w,b,x;if(t.kind===so.GRAYSCALE_1BPP){const S=p.byteLength,E=new Uint32Array(m.buffer,0,m.byteLength>>2),T=E.length,_=n+7>>3,P=4294967295,k=xe.isLittleEndian?4278190080:255;for(y=0;y<l;y++){for(b=y<a?We:r,d=0,w=0;w<b;w++){const D=S-h;let N=0;const L=D>_?n:D*8-7,$=L&-8;let K=0,Z=0;for(;N<$;N+=8)Z=p[h++],E[d++]=Z&128?P:k,E[d++]=Z&64?P:k,E[d++]=Z&32?P:k,E[d++]=Z&16?P:k,E[d++]=Z&8?P:k,E[d++]=Z&4?P:k,E[d++]=Z&2?P:k,E[d++]=Z&1?P:k;for(;N<L;N++)K===0&&(Z=p[h++],K=128),E[d++]=Z&K?P:k,K>>=1}for(;d<T;)E[d++]=0;s.putImageData(c,0,y*We)}}else if(t.kind===so.RGBA_32BPP){for(w=0,x=n*We*4,y=0;y<a;y++)m.set(p.subarray(h,h+x)),h+=x,s.putImageData(c,0,w),w+=We;y<l&&(x=n*r*4,m.set(p.subarray(h,h+x)),s.putImageData(c,0,w))}else if(t.kind===so.RGB_24BPP)for(b=We,x=n*b,y=0;y<l;y++){for(y>=a&&(b=r,x=n*b),d=0,w=x;w--;)m[d++]=p[h++],m[d++]=p[h++],m[d++]=p[h++],m[d++]=255;s.putImageData(c,0,y*We)}else throw new Error(`bad image kind: ${t.kind}`)}function sy(s,t){if(t.bitmap){s.drawImage(t.bitmap,0,0);return}const e=t.height,n=t.width,r=e%We,a=(e-r)/We,l=r===0?a:a+1,c=s.createImageData(n,We);let h=0;const d=t.data,p=c.data;for(let m=0;m<l;m++){const y=m<a?We:r;({srcPos:h}=dT({src:d,srcPos:h,dest:p,width:n,height:y,nonBlackColor:0})),s.putImageData(c,0,m*We)}}function Wr(s,t){const e=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const n of e)s[n]!==void 0&&(t[n]=s[n]);s.setLineDash!==void 0&&(t.setLineDash(s.getLineDash()),t.lineDashOffset=s.lineDashOffset)}function Za(s){s.strokeStyle=s.fillStyle="#000000",s.fillRule="nonzero",s.globalAlpha=1,s.lineWidth=1,s.lineCap="butt",s.lineJoin="miter",s.miterLimit=10,s.globalCompositeOperation="source-over",s.font="10px sans-serif",s.setLineDash!==void 0&&(s.setLineDash([]),s.lineDashOffset=0);const{filter:t}=s;t!=="none"&&t!==""&&(s.filter="none")}function ry(s,t){if(t)return!0;pt.singularValueDecompose2dScale(s,tn);const e=Math.fround(Cn.pixelRatio*ss.PDF_TO_CSS_UNITS);return tn[0]<=e&&tn[1]<=e}const gT=["butt","round","square"],yT=["miter","round","bevel"],vT={},oy={};class Ws{constructor(t,e,n,r,a,{optionalContentConfig:l,markedContentStack:c=null},h,d){this.ctx=t,this.current=new ny(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=n,this.canvasFactory=r,this.filterFactory=a,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=c||[],this.optionalContentConfig=l,this.cachedCanvases=new mT(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=h,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=d,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(t,e=null){return typeof t=="string"?t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t):e}beginDrawing({transform:t,viewport:e,transparency:n=!1,background:r=null}){const a=this.ctx.canvas.width,l=this.ctx.canvas.height,c=this.ctx.fillStyle;if(this.ctx.fillStyle=r||"#ffffff",this.ctx.fillRect(0,0,a,l),this.ctx.fillStyle=c,n){const h=this.cachedCanvases.getCanvas("transparent",a,l);this.compositeCtx=this.ctx,this.transparentCanvas=h.canvas,this.ctx=h.context,this.ctx.save(),this.ctx.transform(...Kt(this.compositeCtx))}this.ctx.save(),Za(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...e.transform),this.viewportScale=e.scale,this.baseTransform=Kt(this.ctx)}executeOperatorList(t,e,n,r){const a=t.argsArray,l=t.fnArray;let c=e||0;const h=a.length;if(h===c)return c;const d=h-c>ey&&typeof n=="function",p=d?Date.now()+fT:0;let m=0;const y=this.commonObjs,w=this.objs;let b;for(;;){if(r!==void 0&&c===r.nextBreakPoint)return r.breakIt(c,n),c;if(b=l[c],b!==fo.dependency)this[b].apply(this,a[c]);else for(const x of a[c]){const S=x.startsWith("g_")?y:w;if(!S.has(x))return S.get(x,n),c}if(c++,c===h)return c;if(d&&++m>ey){if(Date.now()>p)return n(),c;m=0}}}#t(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#t(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const t of this._cachedBitmapsMap.values()){for(const e of t.values())typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement&&(e.width=e.height=0);t.clear()}this._cachedBitmapsMap.clear(),this.#e()}#e(){if(this.pageColors){const t=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(t!=="none"){const e=this.ctx.filter;this.ctx.filter=t,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=e}}}_scaleImage(t,e){const n=t.width??t.displayWidth,r=t.height??t.displayHeight;let a=Math.max(Math.hypot(e[0],e[1]),1),l=Math.max(Math.hypot(e[2],e[3]),1),c=n,h=r,d="prescale1",p,m;for(;a>2&&c>1||l>2&&h>1;){let y=c,w=h;a>2&&c>1&&(y=c>=16384?Math.floor(c/2)-1||1:Math.ceil(c/2),a/=c/y),l>2&&h>1&&(w=h>=16384?Math.floor(h/2)-1||1:Math.ceil(h)/2,l/=h/w),p=this.cachedCanvases.getCanvas(d,y,w),m=p.context,m.clearRect(0,0,y,w),m.drawImage(t,0,0,c,h,0,0,y,w),t=p.canvas,c=y,h=w,d=d==="prescale1"?"prescale2":"prescale1"}return{img:t,paintWidth:c,paintHeight:h}}_createMaskCanvas(t){const e=this.ctx,{width:n,height:r}=t,a=this.current.fillColor,l=this.current.patternFill,c=Kt(e);let h,d,p,m;if((t.bitmap||t.data)&&t.count>1){const $=t.bitmap||t.data.buffer;d=JSON.stringify(l?c:[c.slice(0,4),a]),h=this._cachedBitmapsMap.get($),h||(h=new Map,this._cachedBitmapsMap.set($,h));const K=h.get(d);if(K&&!l){const Z=Math.round(Math.min(c[0],c[2])+c[4]),ft=Math.round(Math.min(c[1],c[3])+c[5]);return{canvas:K,offsetX:Z,offsetY:ft}}p=K}p||(m=this.cachedCanvases.getCanvas("maskCanvas",n,r),sy(m.context,t));let y=pt.transform(c,[1/n,0,0,-1/r,0,0]);y=pt.transform(y,[1,0,0,1,0,-r]);const w=Us.slice();pt.axialAlignedBoundingBox([0,0,n,r],y,w);const[b,x,S,E]=w,T=Math.round(S-b)||1,_=Math.round(E-x)||1,P=this.cachedCanvases.getCanvas("fillCanvas",T,_),k=P.context,D=b,N=x;k.translate(-D,-N),k.transform(...y),p||(p=this._scaleImage(m.canvas,Dn(k)),p=p.img,h&&l&&h.set(d,p)),k.imageSmoothingEnabled=ry(Kt(k),t.interpolate),Qa(k,p,0,0,p.width,p.height,0,0,n,r),k.globalCompositeOperation="source-in";const L=pt.transform(Dn(k),[1,0,0,1,-D,-N]);return k.fillStyle=l?a.getPattern(e,this,L,Ce.FILL):a,k.fillRect(0,0,n,r),h&&!l&&(this.cachedCanvases.delete("fillCanvas"),h.set(d,P.canvas)),{canvas:P.canvas,offsetX:Math.round(D),offsetY:Math.round(N)}}setLineWidth(t){t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(t){this.ctx.lineCap=gT[t]}setLineJoin(t){this.ctx.lineJoin=yT[t]}setMiterLimit(t){this.ctx.miterLimit=t}setDash(t,e){const n=this.ctx;n.setLineDash!==void 0&&(n.setLineDash(t),n.lineDashOffset=e)}setRenderingIntent(t){}setFlatness(t){}setGState(t){for(const[e,n]of t)switch(e){case"LW":this.setLineWidth(n);break;case"LC":this.setLineCap(n);break;case"LJ":this.setLineJoin(n);break;case"ML":this.setMiterLimit(n);break;case"D":this.setDash(n[0],n[1]);break;case"RI":this.setRenderingIntent(n);break;case"FL":this.setFlatness(n);break;case"Font":this.setFont(n[0],n[1]);break;case"CA":this.current.strokeAlpha=n;break;case"ca":this.ctx.globalAlpha=this.current.fillAlpha=n;break;case"BM":this.ctx.globalCompositeOperation=n;break;case"SMask":this.current.activeSMask=n?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(n);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,e=this.ctx.canvas.height,n="smaskGroupAt"+this.groupLevel,r=this.cachedCanvases.getCanvas(n,t,e);this.suspendedCtx=this.ctx;const a=this.ctx=r.context;a.setTransform(this.suspendedCtx.getTransform()),Wr(this.suspendedCtx,a),pT(a,this.suspendedCtx),this.setGState([["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Wr(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const e=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,e,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(t,e,n,r){const a=r[0],l=r[1],c=r[2]-a,h=r[3]-l;c===0||h===0||(this.genericComposeSMask(e.context,n,c,h,e.subtype,e.backdrop,e.transferMap,a,l,e.offsetX,e.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(n.canvas,0,0),t.restore())}genericComposeSMask(t,e,n,r,a,l,c,h,d,p,m){let y=t.canvas,w=h-p,b=d-m;if(l)if(w<0||b<0||w+n>y.width||b+r>y.height){const S=this.cachedCanvases.getCanvas("maskExtension",n,r),E=S.context;E.drawImage(y,-w,-b),E.globalCompositeOperation="destination-atop",E.fillStyle=l,E.fillRect(0,0,n,r),E.globalCompositeOperation="source-over",y=S.canvas,w=b=0}else{t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0);const S=new Path2D;S.rect(w,b,n,r),t.clip(S),t.globalCompositeOperation="destination-atop",t.fillStyle=l,t.fillRect(w,b,n,r),t.restore()}e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0),a==="Alpha"&&c?e.filter=this.filterFactory.addAlphaFilter(c):a==="Luminosity"&&(e.filter=this.filterFactory.addLuminosityFilter(c));const x=new Path2D;x.rect(h,d,n,r),e.clip(x),e.globalCompositeOperation="destination-in",e.drawImage(y,w,b,n,r,h,d,n,r),e.restore()}save(){this.inSMaskMode&&Wr(this.ctx,this.suspendedCtx),this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone()}restore(){if(this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&Wr(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(t,e,n,r,a,l){this.ctx.transform(t,e,n,r,a,l),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(t,e,n){let[r]=e;if(!n){r||=e[0]=new Path2D,this[t](r);return}if(!(r instanceof Path2D)){const a=e[0]=new Path2D;for(let l=0,c=r.length;l<c;)switch(r[l++]){case Ka.moveTo:a.moveTo(r[l++],r[l++]);break;case Ka.lineTo:a.lineTo(r[l++],r[l++]);break;case Ka.curveTo:a.bezierCurveTo(r[l++],r[l++],r[l++],r[l++],r[l++],r[l++]);break;case Ka.closePath:a.closePath();break;default:_t(`Unrecognized drawing path operator: ${r[l-1]}`);break}r=a}pt.axialAlignedBoundingBox(n,Kt(this.ctx),this.current.minMax),this[t](r)}closePath(){this.ctx.closePath()}stroke(t,e=!0){const n=this.ctx,r=this.current.strokeColor;if(n.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof r=="object"&&r?.getPattern){const a=r.isModifyingCurrentTransform()?n.getTransform():null;if(n.save(),n.strokeStyle=r.getPattern(n,this,Dn(n),Ce.STROKE),a){const l=new Path2D;l.addPath(t,n.getTransform().invertSelf().multiplySelf(a)),t=l}this.rescaleAndStroke(t,!1),n.restore()}else this.rescaleAndStroke(t,!0);e&&this.consumePath(t,this.current.getClippedPathBoundingBox(Ce.STROKE,Kt(this.ctx))),n.globalAlpha=this.current.fillAlpha}closeStroke(t){this.stroke(t)}fill(t,e=!0){const n=this.ctx,r=this.current.fillColor,a=this.current.patternFill;let l=!1;if(a){const h=r.isModifyingCurrentTransform()?n.getTransform():null;if(n.save(),n.fillStyle=r.getPattern(n,this,Dn(n),Ce.FILL),h){const d=new Path2D;d.addPath(t,n.getTransform().invertSelf().multiplySelf(h)),t=d}l=!0}const c=this.current.getClippedPathBoundingBox();this.contentVisible&&c!==null&&(this.pendingEOFill?(n.fill(t,"evenodd"),this.pendingEOFill=!1):n.fill(t)),l&&n.restore(),e&&this.consumePath(t,c)}eoFill(t){this.pendingEOFill=!0,this.fill(t)}fillStroke(t){this.fill(t,!1),this.stroke(t,!1),this.consumePath(t)}eoFillStroke(t){this.pendingEOFill=!0,this.fillStroke(t)}closeFillStroke(t){this.fillStroke(t)}closeEOFillStroke(t){this.pendingEOFill=!0,this.fillStroke(t)}endPath(t){this.consumePath(t)}rawFillPath(t){this.ctx.fill(t)}clip(){this.pendingClip=vT}eoClip(){this.pendingClip=oy}beginText(){this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const t=this.pendingTextPaths,e=this.ctx;if(t===void 0)return;const n=new Path2D,r=e.getTransform().invertSelf();for(const{transform:a,x:l,y:c,fontSize:h,path:d}of t)n.addPath(d,new DOMMatrix(a).preMultiplySelf(r).translate(l,c).scale(h,-h));e.clip(n),delete this.pendingTextPaths}setCharSpacing(t){this.current.charSpacing=t}setWordSpacing(t){this.current.wordSpacing=t}setHScale(t){this.current.textHScale=t/100}setLeading(t){this.current.leading=-t}setFont(t,e){const n=this.commonObjs.get(t),r=this.current;if(!n)throw new Error(`Can't find font for ${t}`);if(r.fontMatrix=n.fontMatrix||gh,(r.fontMatrix[0]===0||r.fontMatrix[3]===0)&&_t("Invalid font matrix for font "+t),e<0?(e=-e,r.fontDirection=-1):r.fontDirection=1,this.current.font=n,this.current.fontSize=e,n.isType3Font)return;const a=n.loadedName||"sans-serif",l=n.systemFontInfo?.css||`"${a}", ${n.fallbackName}`;let c="normal";n.black?c="900":n.bold&&(c="bold");const h=n.italic?"italic":"normal";let d=e;e<Jg?d=Jg:e>ty&&(d=ty),this.current.fontSizeScale=e/d,this.ctx.font=`${h} ${c} ${d}px ${l}`}setTextRenderingMode(t){this.current.textRenderingMode=t}setTextRise(t){this.current.textRise=t}moveText(t,e){this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=e}setLeadingMoveText(t,e){this.setLeading(-e),this.moveText(t,e)}setTextMatrix(t){const{current:e}=this;e.textMatrix=t,e.textMatrixScale=Math.hypot(t[0],t[1]),e.x=e.lineX=0,e.y=e.lineY=0}nextLine(){this.moveText(0,this.current.leading)}#n(t,e,n){const r=new Path2D;return r.addPath(t,new DOMMatrix(n).invertSelf().multiplySelf(e)),r}paintChar(t,e,n,r,a){const l=this.ctx,c=this.current,h=c.font,d=c.textRenderingMode,p=c.fontSize/c.fontSizeScale,m=d&Me.FILL_STROKE_MASK,y=!!(d&Me.ADD_TO_PATH_FLAG),w=c.patternFill&&!h.missingFile,b=c.patternStroke&&!h.missingFile;let x;if((h.disableFontFace||y||w||b)&&(x=h.getPathGenerator(this.commonObjs,t)),h.disableFontFace||w||b){l.save(),l.translate(e,n),l.scale(p,-p);let S;if((m===Me.FILL||m===Me.FILL_STROKE)&&(r?(S=l.getTransform(),l.setTransform(...r),l.fill(this.#n(x,S,r))):l.fill(x)),m===Me.STROKE||m===Me.FILL_STROKE)if(a){S||=l.getTransform(),l.setTransform(...a);const{a:E,b:T,c:_,d:P}=S,k=pt.inverseTransform(a),D=pt.transform([E,T,_,P,0,0],k);pt.singularValueDecompose2dScale(D,tn),l.lineWidth*=Math.max(tn[0],tn[1])/p,l.stroke(this.#n(x,S,a))}else l.lineWidth/=p,l.stroke(x);l.restore()}else(m===Me.FILL||m===Me.FILL_STROKE)&&l.fillText(t,e,n),(m===Me.STROKE||m===Me.FILL_STROKE)&&l.strokeText(t,e,n);y&&(this.pendingTextPaths||=[]).push({transform:Kt(l),x:e,y:n,fontSize:p,path:x})}get isFontSubpixelAAEnabled(){const{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);const e=t.getImageData(0,0,10,10).data;let n=!1;for(let r=3;r<e.length;r+=4)if(e[r]>0&&e[r]<255){n=!0;break}return Mt(this,"isFontSubpixelAAEnabled",n)}showText(t){const e=this.current,n=e.font;if(n.isType3Font)return this.showType3Text(t);const r=e.fontSize;if(r===0)return;const a=this.ctx,l=e.fontSizeScale,c=e.charSpacing,h=e.wordSpacing,d=e.fontDirection,p=e.textHScale*d,m=t.length,y=n.vertical,w=y?1:-1,b=n.defaultVMetrics,x=r*e.fontMatrix[0],S=e.textRenderingMode===Me.FILL&&!n.disableFontFace&&!e.patternFill;a.save(),e.textMatrix&&a.transform(...e.textMatrix),a.translate(e.x,e.y+e.textRise),d>0?a.scale(p,-1):a.scale(p,1);let E,T;if(e.patternFill){a.save();const N=e.fillColor.getPattern(a,this,Dn(a),Ce.FILL);E=Kt(a),a.restore(),a.fillStyle=N}if(e.patternStroke){a.save();const N=e.strokeColor.getPattern(a,this,Dn(a),Ce.STROKE);T=Kt(a),a.restore(),a.strokeStyle=N}let _=e.lineWidth;const P=e.textMatrixScale;if(P===0||_===0){const N=e.textRenderingMode&Me.FILL_STROKE_MASK;(N===Me.STROKE||N===Me.FILL_STROKE)&&(_=this.getSinglePixelWidth())}else _/=P;if(l!==1&&(a.scale(l,l),_/=l),a.lineWidth=_,n.isInvalidPDFjsFont){const N=[];let L=0;for(const $ of t)N.push($.unicode),L+=$.width;a.fillText(N.join(""),0,0),e.x+=L*x*p,a.restore(),this.compose();return}let k=0,D;for(D=0;D<m;++D){const N=t[D];if(typeof N=="number"){k+=w*N*r/1e3;continue}let L=!1;const $=(N.isSpace?h:0)+c,K=N.fontChar,Z=N.accent;let ft,dt,nt=N.width;if(y){const G=N.vmetric||b,U=-(N.vmetric?G[1]:nt*.5)*x,j=G[2]*x;nt=G?-G[0]:nt,ft=U/l,dt=(k+j)/l}else ft=k/l,dt=0;if(n.remeasure&&nt>0){const G=a.measureText(K).width*1e3/r*l;if(nt<G&&this.isFontSubpixelAAEnabled){const U=nt/G;L=!0,a.save(),a.scale(U,1),ft/=U}else nt!==G&&(ft+=(nt-G)/2e3*r/l)}if(this.contentVisible&&(N.isInFont||n.missingFile)){if(S&&!Z)a.fillText(K,ft,dt);else if(this.paintChar(K,ft,dt,E,T),Z){const G=ft+r*Z.offset.x/l,U=dt-r*Z.offset.y/l;this.paintChar(Z.fontChar,G,U,E,T)}}const xt=y?nt*x-$*d:nt*x+$*d;k+=xt,L&&a.restore()}y?e.y-=k:e.x+=k*p,a.restore(),this.compose()}showType3Text(t){const e=this.ctx,n=this.current,r=n.font,a=n.fontSize,l=n.fontDirection,c=r.vertical?1:-1,h=n.charSpacing,d=n.wordSpacing,p=n.textHScale*l,m=n.fontMatrix||gh,y=t.length,w=n.textRenderingMode===Me.INVISIBLE;let b,x,S,E;if(!(w||a===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,e.save(),n.textMatrix&&e.transform(...n.textMatrix),e.translate(n.x,n.y+n.textRise),e.scale(p,l),b=0;b<y;++b){if(x=t[b],typeof x=="number"){E=c*x*a/1e3,this.ctx.translate(E,0),n.x+=E*p;continue}const T=(x.isSpace?d:0)+h,_=r.charProcOperatorList[x.operatorListId];_?this.contentVisible&&(this.save(),e.scale(a,a),e.transform(...m),this.executeOperatorList(_),this.restore()):_t(`Type3 character "${x.operatorListId}" is not available.`);const P=[x.width,0];pt.applyTransform(P,m),S=P[0]*a+T,e.translate(S,0),n.x+=S*p}e.restore()}}setCharWidth(t,e){}setCharWidthAndBounds(t,e,n,r,a,l){const c=new Path2D;c.rect(n,r,a-n,l-r),this.ctx.clip(c),this.endPath()}getColorN_Pattern(t){let e;if(t[0]==="TilingPattern"){const n=this.baseTransform||Kt(this.ctx),r={createCanvasGraphics:a=>new Ws(a,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};e=new yd(t,this.ctx,r,n)}else e=this._getPattern(t[1],t[2]);return e}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments),this.current.patternStroke=!0}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(t){this.ctx.strokeStyle=this.current.strokeColor=t,this.current.patternStroke=!1}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(t){this.ctx.fillStyle=this.current.fillColor=t,this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(t,e=null){let n;return this.cachedPatterns.has(t)?n=this.cachedPatterns.get(t):(n=hT(this.getObject(t)),this.cachedPatterns.set(t,n)),e&&(n.matrix=e),n}shadingFill(t){if(!this.contentVisible)return;const e=this.ctx;this.save();const n=this._getPattern(t);e.fillStyle=n.getPattern(e,this,Dn(e),Ce.SHADING);const r=Dn(e);if(r){const{width:a,height:l}=e.canvas,c=Us.slice();pt.axialAlignedBoundingBox([0,0,a,l],r,c);const[h,d,p,m]=c;this.ctx.fillRect(h,d,p-h,m-d)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){Vt("Should not call beginInlineImage")}beginImageData(){Vt("Should not call beginImageData")}paintFormXObjectBegin(t,e){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),t&&this.transform(...t),this.baseTransform=Kt(this.ctx),e)){pt.axialAlignedBoundingBox(e,this.baseTransform,this.current.minMax);const[n,r,a,l]=e,c=new Path2D;c.rect(n,r,a-n,l-r),this.ctx.clip(c),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const e=this.ctx;t.isolated||wl("TODO: Support non-isolated groups."),t.knockout&&_t("Knockout groups not supported.");const n=Kt(e);if(t.matrix&&e.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let r=Us.slice();pt.axialAlignedBoundingBox(t.bbox,Kt(e),r);const a=[0,0,e.canvas.width,e.canvas.height];r=pt.intersect(r,a)||[0,0,0,0];const l=Math.floor(r[0]),c=Math.floor(r[1]),h=Math.max(Math.ceil(r[2])-l,1),d=Math.max(Math.ceil(r[3])-c,1);this.current.startNewPathAndClipBox([0,0,h,d]);let p="groupAt"+this.groupLevel;t.smask&&(p+="_smask_"+this.smaskCounter++%2);const m=this.cachedCanvases.getCanvas(p,h,d),y=m.context;y.translate(-l,-c),y.transform(...n);let w=new Path2D;const[b,x,S,E]=t.bbox;if(w.rect(b,x,S-b,E-x),t.matrix){const T=new Path2D;T.addPath(w,new DOMMatrix(t.matrix)),w=T}y.clip(w),t.smask?this.smaskStack.push({canvas:m.canvas,context:y,offsetX:l,offsetY:c,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}):(e.setTransform(1,0,0,1,0,0),e.translate(l,c),e.save()),Wr(e,y),this.ctx=y,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(e),this.groupLevel++}endGroup(t){if(!this.contentVisible)return;this.groupLevel--;const e=this.ctx,n=this.groupStack.pop();if(this.ctx=n,this.ctx.imageSmoothingEnabled=!1,t.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const r=Kt(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...r);const a=Us.slice();pt.axialAlignedBoundingBox([0,0,e.canvas.width,e.canvas.height],r,a),this.ctx.drawImage(e.canvas,0,0),this.ctx.restore(),this.compose(a)}}beginAnnotation(t,e,n,r,a){if(this.#t(),Za(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),e){const l=e[2]-e[0],c=e[3]-e[1];if(a&&this.annotationCanvasMap){n=n.slice(),n[4]-=e[0],n[5]-=e[1],e=e.slice(),e[0]=e[1]=0,e[2]=l,e[3]=c,pt.singularValueDecompose2dScale(Kt(this.ctx),tn);const{viewportScale:h}=this,d=Math.ceil(l*this.outputScaleX*h),p=Math.ceil(c*this.outputScaleY*h);this.annotationCanvas=this.canvasFactory.create(d,p);const{canvas:m,context:y}=this.annotationCanvas;this.annotationCanvasMap.set(t,m),this.annotationCanvas.savedCtx=this.ctx,this.ctx=y,this.ctx.save(),this.ctx.setTransform(tn[0],0,0,-tn[1],0,c*tn[1]),Za(this.ctx)}else{Za(this.ctx),this.endPath();const h=new Path2D;h.rect(e[0],e[1],l,c),this.ctx.clip(h)}}this.current=new ny(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...n),this.transform(...r)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),this.#e(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(t){if(!this.contentVisible)return;const e=t.count;t=this.getObject(t.data,t),t.count=e;const n=this.ctx,r=this._createMaskCanvas(t),a=r.canvas;n.save(),n.setTransform(1,0,0,1,0,0),n.drawImage(a,r.offsetX,r.offsetY),n.restore(),this.compose()}paintImageMaskXObjectRepeat(t,e,n=0,r=0,a,l){if(!this.contentVisible)return;t=this.getObject(t.data,t);const c=this.ctx;c.save();const h=Kt(c);c.transform(e,n,r,a,0,0);const d=this._createMaskCanvas(t);c.setTransform(1,0,0,1,d.offsetX-h[4],d.offsetY-h[5]);for(let p=0,m=l.length;p<m;p+=2){const y=pt.transform(h,[e,n,r,a,l[p],l[p+1]]);c.drawImage(d.canvas,y[4],y[5])}c.restore(),this.compose()}paintImageMaskXObjectGroup(t){if(!this.contentVisible)return;const e=this.ctx,n=this.current.fillColor,r=this.current.patternFill;for(const a of t){const{data:l,width:c,height:h,transform:d}=a,p=this.cachedCanvases.getCanvas("maskCanvas",c,h),m=p.context;m.save();const y=this.getObject(l,a);sy(m,y),m.globalCompositeOperation="source-in",m.fillStyle=r?n.getPattern(m,this,Dn(e),Ce.FILL):n,m.fillRect(0,0,c,h),m.restore(),e.save(),e.transform(...d),e.scale(1,-1),Qa(e,p.canvas,0,0,c,h,0,-1,1,1),e.restore()}this.compose()}paintImageXObject(t){if(!this.contentVisible)return;const e=this.getObject(t);if(!e){_t("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e)}paintImageXObjectRepeat(t,e,n,r){if(!this.contentVisible)return;const a=this.getObject(t);if(!a){_t("Dependent image isn't ready yet");return}const l=a.width,c=a.height,h=[];for(let d=0,p=r.length;d<p;d+=2)h.push({transform:[e,0,0,n,r[d],r[d+1]],x:0,y:0,w:l,h:c});this.paintInlineImageXObjectGroup(a,h)}applyTransferMapsToCanvas(t){return this.current.transferMaps!=="none"&&(t.filter=this.current.transferMaps,t.drawImage(t.canvas,0,0),t.filter="none"),t.canvas}applyTransferMapsToBitmap(t){if(this.current.transferMaps==="none")return t.bitmap;const{bitmap:e,width:n,height:r}=t,a=this.cachedCanvases.getCanvas("inlineImage",n,r),l=a.context;return l.filter=this.current.transferMaps,l.drawImage(e,0,0),l.filter="none",a.canvas}paintInlineImageXObject(t){if(!this.contentVisible)return;const e=t.width,n=t.height,r=this.ctx;this.save();const{filter:a}=r;a!=="none"&&a!==""&&(r.filter="none"),r.scale(1/e,-1/n);let l;if(t.bitmap)l=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)l=t;else{const d=this.cachedCanvases.getCanvas("inlineImage",e,n).context;iy(d,t),l=this.applyTransferMapsToCanvas(d)}const c=this._scaleImage(l,Dn(r));r.imageSmoothingEnabled=ry(Kt(r),t.interpolate),Qa(r,c.img,0,0,c.paintWidth,c.paintHeight,0,-n,e,n),this.compose(),this.restore()}paintInlineImageXObjectGroup(t,e){if(!this.contentVisible)return;const n=this.ctx;let r;if(t.bitmap)r=t.bitmap;else{const a=t.width,l=t.height,h=this.cachedCanvases.getCanvas("inlineImage",a,l).context;iy(h,t),r=this.applyTransferMapsToCanvas(h)}for(const a of e)n.save(),n.transform(...a.transform),n.scale(1,-1),Qa(n,r,a.x,a.y,a.w,a.h,0,-1,1,1),n.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t){}markPointProps(t,e){}beginMarkedContent(t){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,e){t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(e)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(t,e){const n=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const r=this.ctx;this.pendingClip&&(n||(this.pendingClip===oy?r.clip(t,"evenodd"):r.clip(t)),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const t=Kt(this.ctx);if(t[1]===0&&t[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{const e=Math.abs(t[0]*t[3]-t[2]*t[1]),n=Math.hypot(t[0],t[2]),r=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(n,r)/e}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:t}=this.current,{a:e,b:n,c:r,d:a}=this.ctx.getTransform();let l,c;if(n===0&&r===0){const h=Math.abs(e),d=Math.abs(a);if(h===d)if(t===0)l=c=1/h;else{const p=h*t;l=c=p<1?1/p:1}else if(t===0)l=1/h,c=1/d;else{const p=h*t,m=d*t;l=p<1?1/p:1,c=m<1?1/m:1}}else{const h=Math.abs(e*a-n*r),d=Math.hypot(e,n),p=Math.hypot(r,a);if(t===0)l=p/h,c=d/h;else{const m=t*h;l=p>m?p/m:1,c=d>m?d/m:1}}this._cachedScaleForStroking[0]=l,this._cachedScaleForStroking[1]=c}return this._cachedScaleForStroking}rescaleAndStroke(t,e){const{ctx:n,current:{lineWidth:r}}=this,[a,l]=this.getScaleForStroking();if(a===l){n.lineWidth=(r||1)*a,n.stroke(t);return}const c=n.getLineDash();e&&n.save(),n.scale(a,l),Hu.a=1/a,Hu.d=1/l;const h=new Path2D;if(h.addPath(t,Hu),c.length>0){const d=Math.max(a,l);n.setLineDash(c.map(p=>p/d)),n.lineDashOffset/=d}n.lineWidth=r||1,n.stroke(h),e&&n.restore()}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}}for(const s in fo)Ws.prototype[s]!==void 0&&(Ws.prototype[fo[s]]=Ws.prototype[s]);class Ti{static#t=null;static#e="";static get workerPort(){return this.#t}static set workerPort(t){if(!(typeof Worker<"u"&&t instanceof Worker)&&t!==null)throw new Error("Invalid `workerPort` type.");this.#t=t}static get workerSrc(){return this.#e}static set workerSrc(t){if(typeof t!="string")throw new Error("Invalid `workerSrc` type.");this.#e=t}}class wT{#t;#e;constructor({parsedData:t,rawData:e}){this.#t=t,this.#e=e}getRaw(){return this.#e}get(t){return this.#t.get(t)??null}[Symbol.iterator](){return this.#t.entries()}}const Fs=Symbol("INTERNAL");class bT{#t=!1;#e=!1;#n=!1;#i=!0;constructor(t,{name:e,intent:n,usage:r,rbGroups:a}){this.#t=!!(t&Ze.DISPLAY),this.#e=!!(t&Ze.PRINT),this.name=e,this.intent=n,this.usage=r,this.rbGroups=a}get visible(){if(this.#n)return this.#i;if(!this.#i)return!1;const{print:t,view:e}=this.usage;return this.#t?e?.viewState!=="OFF":this.#e?t?.printState!=="OFF":!0}_setVisible(t,e,n=!1){t!==Fs&&Vt("Internal method `_setVisible` called."),this.#n=n,this.#i=e}}class xT{#t=null;#e=new Map;#n=null;#i=null;constructor(t,e=Ze.DISPLAY){if(this.renderingIntent=e,this.name=null,this.creator=null,t!==null){this.name=t.name,this.creator=t.creator,this.#i=t.order;for(const n of t.groups)this.#e.set(n.id,new bT(e,n));if(t.baseState==="OFF")for(const n of this.#e.values())n._setVisible(Fs,!1);for(const n of t.on)this.#e.get(n)._setVisible(Fs,!0);for(const n of t.off)this.#e.get(n)._setVisible(Fs,!1);this.#n=this.getHash()}}#r(t){const e=t.length;if(e<2)return!0;const n=t[0];for(let r=1;r<e;r++){const a=t[r];let l;if(Array.isArray(a))l=this.#r(a);else if(this.#e.has(a))l=this.#e.get(a).visible;else return _t(`Optional content group not found: ${a}`),!0;switch(n){case"And":if(!l)return!1;break;case"Or":if(l)return!0;break;case"Not":return!l;default:return!0}}return n==="And"}isVisible(t){if(this.#e.size===0)return!0;if(!t)return wl("Optional content group not defined."),!0;if(t.type==="OCG")return this.#e.has(t.id)?this.#e.get(t.id).visible:(_t(`Optional content group not found: ${t.id}`),!0);if(t.type==="OCMD"){if(t.expression)return this.#r(t.expression);if(!t.policy||t.policy==="AnyOn"){for(const e of t.ids){if(!this.#e.has(e))return _t(`Optional content group not found: ${e}`),!0;if(this.#e.get(e).visible)return!0}return!1}else if(t.policy==="AllOn"){for(const e of t.ids){if(!this.#e.has(e))return _t(`Optional content group not found: ${e}`),!0;if(!this.#e.get(e).visible)return!1}return!0}else if(t.policy==="AnyOff"){for(const e of t.ids){if(!this.#e.has(e))return _t(`Optional content group not found: ${e}`),!0;if(!this.#e.get(e).visible)return!0}return!1}else if(t.policy==="AllOff"){for(const e of t.ids){if(!this.#e.has(e))return _t(`Optional content group not found: ${e}`),!0;if(this.#e.get(e).visible)return!1}return!0}return _t(`Unknown optional content policy ${t.policy}.`),!0}return _t(`Unknown group type ${t.type}.`),!0}setVisibility(t,e=!0,n=!0){const r=this.#e.get(t);if(!r){_t(`Optional content group not found: ${t}`);return}if(n&&e&&r.rbGroups.length)for(const a of r.rbGroups)for(const l of a)l!==t&&this.#e.get(l)?._setVisible(Fs,!1,!0);r._setVisible(Fs,!!e,!0),this.#t=null}setOCGState({state:t,preserveRB:e}){let n;for(const r of t){switch(r){case"ON":case"OFF":case"Toggle":n=r;continue}const a=this.#e.get(r);if(a)switch(n){case"ON":this.setVisibility(r,!0,e);break;case"OFF":this.setVisibility(r,!1,e);break;case"Toggle":this.setVisibility(r,!a.visible,e);break}}this.#t=null}get hasInitialVisibility(){return this.#n===null||this.getHash()===this.#n}getOrder(){return this.#e.size?this.#i?this.#i.slice():[...this.#e.keys()]:null}getGroup(t){return this.#e.get(t)||null}getHash(){if(this.#t!==null)return this.#t;const t=new T0;for(const[e,n]of this.#e)t.update(`${e}:${n.visible}`);return this.#t=t.hexdigest()}[Symbol.iterator](){return this.#e.entries()}}class AT{constructor(t,{disableRange:e=!1,disableStream:n=!1}){ue(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:r,initialData:a,progressiveDone:l,contentDispositionFilename:c}=t;if(this._queuedChunks=[],this._progressiveDone=l,this._contentDispositionFilename=c,a?.length>0){const h=a instanceof Uint8Array&&a.byteLength===a.buffer.byteLength?a.buffer:new Uint8Array(a).buffer;this._queuedChunks.push(h)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!n,this._isRangeSupported=!e,this._contentLength=r,this._fullRequestReader=null,this._rangeReaders=[],t.addRangeListener((h,d)=>{this._onReceiveData({begin:h,chunk:d})}),t.addProgressListener((h,d)=>{this._onProgress({loaded:h,total:d})}),t.addProgressiveReadListener(h=>{this._onReceiveData({chunk:h})}),t.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),t.transportReady()}_onReceiveData({begin:t,chunk:e}){const n=e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer;if(t===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(n):this._queuedChunks.push(n);else{const r=this._rangeReaders.some(function(a){return a._begin!==t?!1:(a._enqueue(n),!0)});ue(r,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(t){t.total===void 0?this._rangeReaders[0]?.onProgress?.({loaded:t.loaded}):this._fullRequestReader?.onProgress?.({loaded:t.loaded,total:t.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const e=this._rangeReaders.indexOf(t);e>=0&&this._rangeReaders.splice(e,1)}getFullReader(){ue(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new ST(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new ET(this,t,e);return this._pdfDataRangeTransport.requestDataRange(t,e),this._rangeReaders.push(n),n}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeReaders.slice(0))e.cancel(t);this._pdfDataRangeTransport.abort()}}class ST{constructor(t,e,n=!1,r=null){this._stream=t,this._done=n||!1,this._filename=xl(r)?r:null,this._queuedChunks=e||[],this._loaded=0;for(const a of this._queuedChunks)this._loaded+=a.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class ET{constructor(t,e,n){this._stream=t,this._begin=e,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(this._requests.length===0)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function _T(s){let t=!0,e=n("filename\\*","i").exec(s);if(e){e=e[1];let p=c(e);return p=unescape(p),p=h(p),p=d(p),a(p)}if(e=l(s),e){const p=d(e);return a(p)}if(e=n("filename","i").exec(s),e){e=e[1];let p=c(e);return p=d(p),a(p)}function n(p,m){return new RegExp("(?:^|;)\\s*"+p+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',m)}function r(p,m){if(p){if(!/^[\x00-\xFF]+$/.test(m))return m;try{const y=new TextDecoder(p,{fatal:!0}),w=So(m);m=y.decode(w),t=!1}catch{}}return m}function a(p){return t&&/[\x80-\xff]/.test(p)&&(p=r("utf-8",p),t&&(p=r("iso-8859-1",p))),p}function l(p){const m=[];let y;const w=n("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(y=w.exec(p))!==null;){let[,x,S,E]=y;if(x=parseInt(x,10),x in m){if(x===0)break;continue}m[x]=[S,E]}const b=[];for(let x=0;x<m.length&&x in m;++x){let[S,E]=m[x];E=c(E),S&&(E=unescape(E),x===0&&(E=h(E))),b.push(E)}return b.join("")}function c(p){if(p.startsWith('"')){const m=p.slice(1).split('\\"');for(let y=0;y<m.length;++y){const w=m[y].indexOf('"');w!==-1&&(m[y]=m[y].slice(0,w),m.length=y+1),m[y]=m[y].replaceAll(/\\(.)/g,"$1")}p=m.join('"')}return p}function h(p){const m=p.indexOf("'");if(m===-1)return p;const y=p.slice(0,m),b=p.slice(m+1).replace(/^[^']*'/,"");return r(y,b)}function d(p){return!p.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(p)?p:p.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(m,y,w,b){if(w==="q"||w==="Q")return b=b.replaceAll("_"," "),b=b.replaceAll(/=([0-9a-fA-F]{2})/g,function(x,S){return String.fromCharCode(parseInt(S,16))}),r(y,b);try{b=atob(b)}catch{}return r(y,b)})}return""}function N0(s,t){const e=new Headers;if(!s||!t||typeof t!="object")return e;for(const n in t){const r=t[n];r!==void 0&&e.append(n,r)}return e}function Al(s){return URL.parse(s)?.origin??null}function F0({responseHeaders:s,isHttp:t,rangeChunkSize:e,disableRange:n}){const r={allowRangeRequests:!1,suggestedLength:void 0},a=parseInt(s.get("Content-Length"),10);return!Number.isInteger(a)||(r.suggestedLength=a,a<=2*e)||n||!t||s.get("Accept-Ranges")!=="bytes"||(s.get("Content-Encoding")||"identity")!=="identity"||(r.allowRangeRequests=!0),r}function O0(s){const t=s.get("Content-Disposition");if(t){let e=_T(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch{}if(xl(e))return e}return null}function ko(s,t){return new po(`Unexpected server response (${s}) while retrieving PDF "${t}".`,s,s===404||s===0&&t.startsWith("file:"))}function j0(s){return s===200||s===206}function V0(s,t,e){return{method:"GET",headers:s,signal:e.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function B0(s){return s instanceof Uint8Array?s.buffer:s instanceof ArrayBuffer?s:(_t(`getArrayBuffer - unexpected data format: ${s}`),new Uint8Array(s).buffer)}class CT{_responseOrigin=null;constructor(t){this.source=t,this.isHttp=/^https?:/i.test(t.url),this.headers=N0(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return ue(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new TT(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new kT(this,t,e);return this._rangeRequestReaders.push(n),n}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}}class TT{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;const e=t.source;this._withCredentials=e.withCredentials||!1,this._contentLength=e.length,this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange;const n=new Headers(t.headers),r=e.url;fetch(r,V0(n,this._withCredentials,this._abortController)).then(a=>{if(t._responseOrigin=Al(a.url),!j0(a.status))throw ko(a.status,r);this._reader=a.body.getReader(),this._headersCapability.resolve();const l=a.headers,{allowRangeRequests:c,suggestedLength:h}=F0({responseHeaders:l,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=c,this._contentLength=h||this._contentLength,this._filename=O0(l),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new ni("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:B0(t),done:!1})}cancel(t){this._reader?.cancel(t),this._abortController.abort()}}class kT{constructor(t,e,n){this._stream=t,this._reader=null,this._loaded=0;const r=t.source;this._withCredentials=r.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!r.disableStream,this._abortController=new AbortController;const a=new Headers(t.headers);a.append("Range",`bytes=${e}-${n-1}`);const l=r.url;fetch(l,V0(a,this._withCredentials,this._abortController)).then(c=>{const h=Al(c.url);if(h!==t._responseOrigin)throw new Error(`Expected range response-origin "${h}" to match "${t._responseOrigin}".`);if(!j0(c.status))throw ko(c.status,l);this._readCapability.resolve(),this._reader=c.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,this.onProgress?.({loaded:this._loaded}),{value:B0(t),done:!1})}cancel(t){this._reader?.cancel(t),this._abortController.abort()}}const Uu=200,$u=206;function PT(s){const t=s.response;return typeof t!="string"?t:So(t).buffer}class RT{_responseOrigin=null;constructor({url:t,httpHeaders:e,withCredentials:n}){this.url=t,this.isHttp=/^https?:/i.test(t),this.headers=N0(this.isHttp,e),this.withCredentials=n||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(t){const e=new XMLHttpRequest,n=this.currXhrId++,r=this.pendingRequests[n]={xhr:e};e.open("GET",this.url),e.withCredentials=this.withCredentials;for(const[a,l]of this.headers)e.setRequestHeader(a,l);return this.isHttp&&"begin"in t&&"end"in t?(e.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),r.expectedStatus=$u):r.expectedStatus=Uu,e.responseType="arraybuffer",ue(t.onError,"Expected `onError` callback to be provided."),e.onerror=()=>{t.onError(e.status)},e.onreadystatechange=this.onStateChange.bind(this,n),e.onprogress=this.onProgress.bind(this,n),r.onHeadersReceived=t.onHeadersReceived,r.onDone=t.onDone,r.onError=t.onError,r.onProgress=t.onProgress,e.send(null),n}onProgress(t,e){const n=this.pendingRequests[t];n&&n.onProgress?.(e)}onStateChange(t,e){const n=this.pendingRequests[t];if(!n)return;const r=n.xhr;if(r.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),r.readyState!==4||!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],r.status===0&&this.isHttp){n.onError(r.status);return}const a=r.status||Uu;if(!(a===Uu&&n.expectedStatus===$u)&&a!==n.expectedStatus){n.onError(r.status);return}const c=PT(r);if(a===$u){const h=r.getResponseHeader("Content-Range"),d=/bytes (\d+)-(\d+)\/(\d+)/.exec(h);d?n.onDone({begin:parseInt(d[1],10),chunk:c}):(_t('Missing or invalid "Content-Range" header.'),n.onError(0))}else c?n.onDone({begin:0,chunk:c}):n.onError(r.status)}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const e=this.pendingRequests[t].xhr;delete this.pendingRequests[t],e.abort()}}class MT{constructor(t){this._source=t,this._manager=new RT(t),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const e=this._rangeRequestReaders.indexOf(t);e>=0&&this._rangeRequestReaders.splice(e,1)}getFullReader(){return ue(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new LT(this._manager,this._source),this._fullRequestReader}getRangeReader(t,e){const n=new IT(this._manager,t,e);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}}class LT{constructor(t,e){this._manager=t,this._url=e.url,this._fullRequestId=t.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._contentLength=e.length,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,e=this._manager.getRequestXhr(t);this._manager._responseOrigin=Al(e.responseURL);const n=e.getAllResponseHeaders(),r=new Headers(n?n.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(c=>{const[h,...d]=c.split(": ");return[h,d.join(": ")]}):[]),{allowRangeRequests:a,suggestedLength:l}=F0({responseHeaders:r,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});a&&(this._isRangeSupported=!0),this._contentLength=l||this._contentLength,this._filename=O0(r),this._isRangeSupported&&this._manager.abortRequest(t),this._headersCapability.resolve()}_onDone(t){if(t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=ko(t,this._url),this._headersCapability.reject(this._storedError);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){this.onProgress?.({loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersCapability.reject(t);for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class IT{constructor(t,e,n){this._manager=t,this._url=t.url,this._requestId=t.request({begin:e,end:n,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){const t=Al(this._manager.getRequestXhr(this._requestId)?.responseURL);t!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${t}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){this.onClosed?.(this)}_onDone(t){const e=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunk=e,this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){this._storedError??=ko(t,this._url);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){this.isStreamingSupported||this.onProgress?.({loaded:t.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const DT=/^[a-z][a-z0-9\-+.]+:/i;function NT(s){if(DT.test(s))return new URL(s);const t=process.getBuiltinModule("url");return new URL(t.pathToFileURL(s))}class FT{constructor(t){this.source=t,this.url=NT(t.url),ue(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return ue(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new OT(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new jT(this,t,e);return this._rangeRequestReaders.push(n),n}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}}class OT{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;const e=t.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const n=process.getBuiltinModule("fs");n.promises.lstat(this._url).then(r=>{this._contentLength=r.size,this._setReadableStream(n.createReadStream(this._url)),this._headersCapability.resolve()},r=>{r.code==="ENOENT"&&(r=ko(0,this._url.href)),this._storedError=r,this._headersCapability.reject(r)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new ni("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class jT{constructor(t,e,n){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const r=t.source;this._isStreamingSupported=!r.disableStream;const a=process.getBuiltinModule("fs");this._setReadableStream(a.createReadStream(this._url,{start:e,end:n-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const Xr=Symbol("INITIAL_DATA");class z0{#t=Object.create(null);#e(t){return this.#t[t]||={...Promise.withResolvers(),data:Xr}}get(t,e=null){if(e){const r=this.#e(t);return r.promise.then(()=>e(r.data)),null}const n=this.#t[t];if(!n||n.data===Xr)throw new Error(`Requesting object that isn't resolved yet ${t}.`);return n.data}has(t){const e=this.#t[t];return!!e&&e.data!==Xr}delete(t){const e=this.#t[t];return!e||e.data===Xr?!1:(delete this.#t[t],!0)}resolve(t,e=null){const n=this.#e(t);n.data=e,n.resolve()}clear(){for(const t in this.#t){const{data:e}=this.#t[t];e?.bitmap?.close()}this.#t=Object.create(null)}*[Symbol.iterator](){for(const t in this.#t){const{data:e}=this.#t[t];e!==Xr&&(yield[t,e])}}}const VT=1e5,ay=30;let mo=class hn{#t=Promise.withResolvers();#e=null;#n=!1;#i=!!globalThis.FontInspector?.enabled;#r=null;#s=null;#o=0;#a=0;#h=null;#l=null;#d=0;#c=0;#f=Object.create(null);#p=[];#m=null;#u=[];#g=new WeakMap;#y=null;static#v=new Map;static#b=new Map;static#x=new WeakMap;static#A=null;static#_=new Set;constructor({textContentSource:t,container:e,viewport:n}){if(t instanceof ReadableStream)this.#m=t;else if(typeof t=="object")this.#m=new ReadableStream({start(h){h.enqueue(t),h.close()}});else throw new Error('No "textContentSource" parameter specified.');this.#e=this.#l=e,this.#c=n.scale*Cn.pixelRatio,this.#d=n.rotation,this.#s={div:null,properties:null,ctx:null};const{pageWidth:r,pageHeight:a,pageX:l,pageY:c}=n.rawDims;this.#y=[1,0,0,-1,-l,c+a],this.#a=r,this.#o=a,hn.#M(),Ri(e,n),this.#t.promise.finally(()=>{hn.#_.delete(this),this.#s=null,this.#f=null}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:t,isFirefox:e}=xe.platform;return Mt(this,"fontFamilyMap",new Map([["sans-serif",`${t&&e?"Calibri, ":""}sans-serif`],["monospace",`${t&&e?"Lucida Console, ":""}monospace`]]))}render(){const t=()=>{this.#h.read().then(({value:e,done:n})=>{if(n){this.#t.resolve();return}this.#r??=e.lang,Object.assign(this.#f,e.styles),this.#T(e.items),t()},this.#t.reject)};return this.#h=this.#m.getReader(),hn.#_.add(this),t(),this.#t.promise}update({viewport:t,onBefore:e=null}){const n=t.scale*Cn.pixelRatio,r=t.rotation;if(r!==this.#d&&(e?.(),this.#d=r,Ri(this.#l,{rotation:r})),n!==this.#c){e?.(),this.#c=n;const a={div:null,properties:null,ctx:hn.#k(this.#r)};for(const l of this.#u)a.properties=this.#g.get(l),a.div=l,this.#S(a)}}cancel(){const t=new ni("TextLayer task cancelled.");this.#h?.cancel(t).catch(()=>{}),this.#h=null,this.#t.reject(t)}get textDivs(){return this.#u}get textContentItemsStr(){return this.#p}#T(t){if(this.#n)return;this.#s.ctx??=hn.#k(this.#r);const e=this.#u,n=this.#p;for(const r of t){if(e.length>VT){_t("Ignoring additional textDivs for performance reasons."),this.#n=!0;return}if(r.str===void 0){if(r.type==="beginMarkedContentProps"||r.type==="beginMarkedContent"){const a=this.#e;this.#e=document.createElement("span"),this.#e.classList.add("markedContent"),r.id!==null&&this.#e.setAttribute("id",`${r.id}`),a.append(this.#e)}else r.type==="endMarkedContent"&&(this.#e=this.#e.parentNode);continue}n.push(r.str),this.#P(r)}}#P(t){const e=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:t.str!=="",hasEOL:t.hasEOL,fontSize:0};this.#u.push(e);const r=pt.transform(this.#y,t.transform);let a=Math.atan2(r[1],r[0]);const l=this.#f[t.fontName];l.vertical&&(a+=Math.PI/2);let c=this.#i&&l.fontSubstitution||l.fontFamily;c=hn.fontFamilyMap.get(c)||c;const h=Math.hypot(r[2],r[3]),d=h*hn.#L(c,l,this.#r);let p,m;a===0?(p=r[4],m=r[5]-d):(p=r[4]+d*Math.sin(a),m=r[5]-d*Math.cos(a));const y="calc(var(--total-scale-factor) *",w=e.style;this.#e===this.#l?(w.left=`${(100*p/this.#a).toFixed(2)}%`,w.top=`${(100*m/this.#o).toFixed(2)}%`):(w.left=`${y}${p.toFixed(2)}px)`,w.top=`${y}${m.toFixed(2)}px)`),w.fontSize=`${y}${(hn.#A*h).toFixed(2)}px)`,w.fontFamily=c,n.fontSize=h,e.setAttribute("role","presentation"),e.textContent=t.str,e.dir=t.dir,this.#i&&(e.dataset.fontName=l.fontSubstitutionLoadedName||t.fontName),a!==0&&(n.angle=a*(180/Math.PI));let b=!1;if(t.str.length>1)b=!0;else if(t.str!==" "&&t.transform[0]!==t.transform[3]){const x=Math.abs(t.transform[0]),S=Math.abs(t.transform[3]);x!==S&&Math.max(x,S)/Math.min(x,S)>1.5&&(b=!0)}if(b&&(n.canvasWidth=l.vertical?t.height:t.width),this.#g.set(e,n),this.#s.div=e,this.#s.properties=n,this.#S(this.#s),n.hasText&&this.#e.append(e),n.hasEOL){const x=document.createElement("br");x.setAttribute("role","presentation"),this.#e.append(x)}}#S(t){const{div:e,properties:n,ctx:r}=t,{style:a}=e;let l="";if(hn.#A>1&&(l=`scale(${1/hn.#A})`),n.canvasWidth!==0&&n.hasText){const{fontFamily:c}=a,{canvasWidth:h,fontSize:d}=n;hn.#C(r,d*this.#c,c);const{width:p}=r.measureText(e.textContent);p>0&&(l=`scaleX(${h*this.#c/p}) ${l}`)}n.angle!==0&&(l=`rotate(${n.angle}deg) ${l}`),l.length>0&&(a.transform=l)}static cleanup(){if(!(this.#_.size>0)){this.#v.clear();for(const{canvas:t}of this.#b.values())t.remove();this.#b.clear()}}static#k(t=null){let e=this.#b.get(t||="");if(!e){const n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=t,document.body.append(n),e=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.#b.set(t,e),this.#x.set(e,{size:0,family:""})}return e}static#C(t,e,n){const r=this.#x.get(t);e===r.size&&n===r.family||(t.font=`${e}px ${n}`,r.size=e,r.family=n)}static#M(){if(this.#A!==null)return;const t=document.createElement("div");t.style.opacity=0,t.style.lineHeight=1,t.style.fontSize="1px",t.style.position="absolute",t.textContent="X",document.body.append(t),this.#A=t.getBoundingClientRect().height,t.remove()}static#L(t,e,n){const r=this.#v.get(t);if(r)return r;const a=this.#k(n);a.canvas.width=a.canvas.height=ay,this.#C(a,ay,t);const l=a.measureText(""),c=l.fontBoundingBoxAscent,h=Math.abs(l.fontBoundingBoxDescent);a.canvas.width=a.canvas.height=0;let d=.8;return c?d=c/(c+h):(xe.platform.isFirefox&&_t("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),e.ascent?d=e.ascent:e.descent&&(d=1+e.descent)),this.#v.set(t,d),d}};class go{static textContent(t){const e=[],n={items:e,styles:Object.create(null)};function r(a){if(!a)return;let l=null;const c=a.name;if(c==="#text")l=a.value;else if(go.shouldBuildText(c))a?.attributes?.textContent?l=a.attributes.textContent:a.value&&(l=a.value);else return;if(l!==null&&e.push({str:l}),!!a.children)for(const h of a.children)r(h)}return r(t),n}static shouldBuildText(t){return!(t==="textarea"||t==="input"||t==="option"||t==="select")}}const BT=100;function vd(s={}){typeof s=="string"||s instanceof URL?s={url:s}:(s instanceof ArrayBuffer||ArrayBuffer.isView(s))&&(s={data:s});const t=new wd,{docId:e}=t,n=s.url?YC(s.url):null,r=s.data?QC(s.data):null,a=s.httpHeaders||null,l=s.withCredentials===!0,c=s.password??null,h=s.range instanceof bd?s.range:null,d=Number.isInteger(s.rangeChunkSize)&&s.rangeChunkSize>0?s.rangeChunkSize:2**16;let p=s.worker instanceof be?s.worker:null;const m=s.verbosity,y=typeof s.docBaseUrl=="string"&&!_o(s.docBaseUrl)?s.docBaseUrl:null,w=qa(s.cMapUrl),b=s.cMapPacked!==!1,x=s.CMapReaderFactory||(Oe?sT:qg),S=qa(s.iccUrl),E=qa(s.standardFontDataUrl),T=s.StandardFontDataFactory||(Oe?rT:Yg),_=qa(s.wasmUrl),P=s.WasmFactory||(Oe?oT:Qg),k=s.stopAtErrors!==!0,D=Number.isInteger(s.maxImageSize)&&s.maxImageSize>-1?s.maxImageSize:-1,N=s.isEvalSupported!==!1,L=typeof s.isOffscreenCanvasSupported=="boolean"?s.isOffscreenCanvasSupported:!Oe,$=typeof s.isImageDecoderSupported=="boolean"?s.isImageDecoderSupported:!Oe&&(xe.platform.isFirefox||!globalThis.chrome),K=Number.isInteger(s.canvasMaxAreaInBytes)?s.canvasMaxAreaInBytes:-1,Z=typeof s.disableFontFace=="boolean"?s.disableFontFace:Oe,ft=s.fontExtraProperties===!0,dt=s.enableXfa===!0,nt=s.ownerDocument||globalThis.document,xt=s.disableRange===!0,G=s.disableStream===!0,U=s.disableAutoFetch===!0,j=s.pdfBug===!0,tt=s.CanvasFactory||(Oe?iT:tT),Y=s.FilterFactory||(Oe?nT:eT),I=s.enableHWA===!0,H=s.useWasm!==!1,J=h?h.length:s.length??NaN,st=typeof s.useSystemFonts=="boolean"?s.useSystemFonts:!Oe&&!Z,mt=typeof s.useWorkerFetch=="boolean"?s.useWorkerFetch:!!(x===qg&&T===Yg&&P===Qg&&w&&E&&_&&Qr(w,document.baseURI)&&Qr(E,document.baseURI)&&Qr(_,document.baseURI)),wt=null;LC(m);const et={canvasFactory:new tt({ownerDocument:nt,enableHWA:I}),filterFactory:new Y({docId:e,ownerDocument:nt}),cMapReaderFactory:mt?null:new x({baseUrl:w,isCompressed:b}),standardFontDataFactory:mt?null:new T({baseUrl:E}),wasmFactory:mt?null:new P({baseUrl:_})};p||(p=be.create({verbosity:m,port:Ti.workerPort}),t._worker=p);const Ct={docId:e,apiVersion:"5.3.93",data:r,password:c,disableAutoFetch:U,rangeChunkSize:d,length:J,docBaseUrl:y,enableXfa:dt,evaluatorOptions:{maxImageSize:D,disableFontFace:Z,ignoreErrors:k,isEvalSupported:N,isOffscreenCanvasSupported:L,isImageDecoderSupported:$,canvasMaxAreaInBytes:K,fontExtraProperties:ft,useSystemFonts:st,useWasm:H,useWorkerFetch:mt,cMapUrl:w,iccUrl:S,standardFontDataUrl:E,wasmUrl:_}},kt={ownerDocument:nt,pdfBug:j,styleElement:wt,loadingParams:{disableAutoFetch:U,enableXfa:dt}};return p.promise.then(function(){if(t.destroyed)throw new Error("Loading aborted");if(p.destroyed)throw new Error("Worker was destroyed");const Tt=p.messageHandler.sendWithPromise("GetDocRequest",Ct,r?[r.buffer]:null);let me;if(h)me=new AT(h,{disableRange:xt,disableStream:G});else if(!r){if(!n)throw new Error("getDocument - no `url` parameter provided.");const Ae=Qr(n)?CT:Oe?FT:MT;me=new Ae({url:n,length:J,httpHeaders:a,withCredentials:l,rangeChunkSize:d,disableRange:xt,disableStream:G})}return Tt.then(Ae=>{if(t.destroyed)throw new Error("Loading aborted");if(p.destroyed)throw new Error("Worker was destroyed");const Lt=new Zr(e,Ae,p.port),jt=new UT(Lt,t,me,kt,et);t._transport=jt,Lt.send("Ready",null)})}).catch(t._capability.reject),t}class wd{static#t=0;_capability=Promise.withResolvers();_transport=null;_worker=null;docId=`d${wd.#t++}`;destroyed=!1;onPassword=null;onProgress=null;get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),await this._transport?.destroy()}catch(t){throw this._worker?.port&&delete this._worker._pendingDestroy,t}this._transport=null,this._worker?.destroy(),this._worker=null}async getData(){return this._transport.getData()}}let bd=class{#t=Promise.withResolvers();#e=[];#n=[];#i=[];#r=[];constructor(t,e,n=!1,r=null){this.length=t,this.initialData=e,this.progressiveDone=n,this.contentDispositionFilename=r}addRangeListener(t){this.#r.push(t)}addProgressListener(t){this.#i.push(t)}addProgressiveReadListener(t){this.#n.push(t)}addProgressiveDoneListener(t){this.#e.push(t)}onDataRange(t,e){for(const n of this.#r)n(t,e)}onDataProgress(t,e){this.#t.promise.then(()=>{for(const n of this.#i)n(t,e)})}onDataProgressiveRead(t){this.#t.promise.then(()=>{for(const e of this.#n)e(t)})}onDataProgressiveDone(){this.#t.promise.then(()=>{for(const t of this.#e)t()})}transportReady(){this.#t.resolve()}requestDataRange(t,e){Vt("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class zT{constructor(t,e){this._pdfInfo=t,this._transport=e}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Mt(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getOptionalContentConfig(e)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(t=!1){return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(t){return this._transport.cachedPageNumber(t)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}class HT{#t=!1;constructor(t,e,n,r=!1){this._pageIndex=t,this._pageInfo=e,this._transport=n,this._stats=r?new Wg:null,this._pdfBug=r,this.commonObjs=n.commonObjs,this.objs=new z0,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:t,rotation:e=this.rotate,offsetX:n=0,offsetY:r=0,dontFlip:a=!1}={}){return new Eo({viewBox:this.view,userUnit:this.userUnit,scale:t,rotation:e,offsetX:n,offsetY:r,dontFlip:a})}getAnnotations({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getAnnotations(this._pageIndex,e)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Mt(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render({canvasContext:t,viewport:e,intent:n="display",annotationMode:r=Vn.ENABLE,transform:a=null,background:l=null,optionalContentConfigPromise:c=null,annotationCanvasMap:h=null,pageColors:d=null,printAnnotationStorage:p=null,isEditing:m=!1}){this._stats?.time("Overall");const y=this._transport.getRenderingIntent(n,r,p,m),{renderingIntent:w,cacheKey:b}=y;this.#t=!1,c||=this._transport.getOptionalContentConfig(w);let x=this._intentStates.get(b);x||(x=Object.create(null),this._intentStates.set(b,x)),x.streamReaderCancelTimeout&&(clearTimeout(x.streamReaderCancelTimeout),x.streamReaderCancelTimeout=null);const S=!!(w&Ze.PRINT);x.displayReadyCapability||(x.displayReadyCapability=Promise.withResolvers(),x.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(y));const E=P=>{x.renderTasks.delete(T),S&&(this.#t=!0),this.#e(),P?(T.capability.reject(P),this._abortOperatorList({intentState:x,reason:P instanceof Error?P:new Error(P)})):T.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),globalThis.Stats?.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},T=new $s({callback:E,params:{canvasContext:t,viewport:e,transform:a,background:l},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:h,operatorList:x.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!S,pdfBug:this._pdfBug,pageColors:d});(x.renderTasks||=new Set).add(T);const _=T.task;return Promise.all([x.displayReadyCapability.promise,c]).then(([P,k])=>{if(this.destroyed){E();return}if(this._stats?.time("Rendering"),!(k.renderingIntent&w))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");T.initializeGraphics({transparency:P,optionalContentConfig:k}),T.operatorListChanged()}).catch(E),_}getOperatorList({intent:t="display",annotationMode:e=Vn.ENABLE,printAnnotationStorage:n=null,isEditing:r=!1}={}){function a(){c.operatorList.lastChunk&&(c.opListReadCapability.resolve(c.operatorList),c.renderTasks.delete(h))}const l=this._transport.getRenderingIntent(t,e,n,r,!0);let c=this._intentStates.get(l.cacheKey);c||(c=Object.create(null),this._intentStates.set(l.cacheKey,c));let h;return c.opListReadCapability||(h=Object.create(null),h.operatorListChanged=a,c.opListReadCapability=Promise.withResolvers(),(c.renderTasks||=new Set).add(h),c.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(l)),c.opListReadCapability.promise}streamTextContent({includeMarkedContent:t=!1,disableNormalization:e=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:t===!0,disableNormalization:e===!0},{highWaterMark:100,size(r){return r.items.length}})}getTextContent(t={}){if(this._transport._htmlForXfa)return this.getXfa().then(n=>go.textContent(n));const e=this.streamTextContent(t);return new Promise(function(n,r){function a(){l.read().then(function({value:h,done:d}){if(d){n(c);return}c.lang??=h.lang,Object.assign(c.styles,h.styles),c.items.push(...h.items),a()},r)}const l=e.getReader(),c={items:[],styles:Object.create(null),lang:null};a()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const t=[];for(const e of this._intentStates.values())if(this._abortOperatorList({intentState:e,reason:new Error("Page was destroyed."),force:!0}),!e.opListReadCapability)for(const n of e.renderTasks)t.push(n.completed),n.cancel();return this.objs.clear(),this.#t=!1,Promise.all(t)}cleanup(t=!1){this.#t=!0;const e=this.#e();return t&&e&&(this._stats&&=new Wg),e}#e(){if(!this.#t||this.destroyed)return!1;for(const{renderTasks:t,operatorList:e}of this._intentStates.values())if(t.size>0||!e.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#t=!1,!0}_startRenderPage(t,e){const n=this._intentStates.get(e);n&&(this._stats?.timeEnd("Page Request"),n.displayReadyCapability?.resolve(t))}_renderPageChunk(t,e){for(let n=0,r=t.length;n<r;n++)e.operatorList.fnArray.push(t.fnArray[n]),e.operatorList.argsArray.push(t.argsArray[n]);e.operatorList.lastChunk=t.lastChunk,e.operatorList.separateAnnots=t.separateAnnots;for(const n of e.renderTasks)n.operatorListChanged();t.lastChunk&&this.#e()}_pumpOperatorList({renderingIntent:t,cacheKey:e,annotationStorageSerializable:n,modifiedIds:r}){const{map:a,transfer:l}=n,h=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:e,annotationStorage:a,modifiedIds:r},l).getReader(),d=this._intentStates.get(e);d.streamReader=h;const p=()=>{h.read().then(({value:m,done:y})=>{if(y){d.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(m,d),p())},m=>{if(d.streamReader=null,!this._transport.destroyed){if(d.operatorList){d.operatorList.lastChunk=!0;for(const y of d.renderTasks)y.operatorListChanged();this.#e()}if(d.displayReadyCapability)d.displayReadyCapability.reject(m);else if(d.opListReadCapability)d.opListReadCapability.reject(m);else throw m}})};p()}_abortOperatorList({intentState:t,reason:e,force:n=!1}){if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!n){if(t.renderTasks.size>0)return;if(e instanceof bl){let r=BT;e.extraDelay>0&&e.extraDelay<1e3&&(r+=e.extraDelay),t.streamReaderCancelTimeout=setTimeout(()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:e,force:!0})},r);return}}if(t.streamReader.cancel(new ni(e.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(const[r,a]of this._intentStates)if(a===t){this._intentStates.delete(r);break}this.cleanup()}}}get stats(){return this._stats}}class be{#t=Promise.withResolvers();#e=null;#n=null;#i=null;static#r=0;static#s=!1;static#o=new WeakMap;static{Oe&&(this.#s=!0,Ti.workerSrc||="./pdf.worker.mjs"),this._isSameOrigin=(t,e)=>{const n=URL.parse(t);if(!n?.origin||n.origin==="null")return!1;const r=new URL(e,n);return n.origin===r.origin},this._createCDNWrapper=t=>{const e=`await import("${t}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))},this.fromPort=t=>{if(HC("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!t?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return this.create(t)}}constructor({name:t=null,port:e=null,verbosity:n=IC()}={}){if(this.name=t,this.destroyed=!1,this.verbosity=n,e){if(be.#o.has(e))throw new Error("Cannot use more than one PDFWorker per port.");be.#o.set(e,this),this.#h(e)}else this.#l()}get promise(){return this.#t.promise}#a(){this.#t.resolve(),this.#e.send("configure",{verbosity:this.verbosity})}get port(){return this.#n}get messageHandler(){return this.#e}#h(t){this.#n=t,this.#e=new Zr("main","worker",t),this.#e.on("ready",()=>{}),this.#a()}#l(){if(be.#s||be.#c){this.#d();return}let{workerSrc:t}=be;try{be._isSameOrigin(window.location,t)||(t=be._createCDNWrapper(new URL(t,window.location).href));const e=new Worker(t,{type:"module"}),n=new Zr("main","worker",e),r=()=>{a.abort(),n.destroy(),e.terminate(),this.destroyed?this.#t.reject(new Error("Worker was destroyed")):this.#d()},a=new AbortController;e.addEventListener("error",()=>{this.#i||r()},{signal:a.signal}),n.on("test",c=>{if(a.abort(),this.destroyed||!c){r();return}this.#e=n,this.#n=e,this.#i=e,this.#a()}),n.on("ready",c=>{if(a.abort(),this.destroyed){r();return}try{l()}catch{this.#d()}});const l=()=>{const c=new Uint8Array;n.send("test",c,[c.buffer])};l();return}catch{wl("The worker has been disabled.")}this.#d()}#d(){be.#s||(_t("Setting up fake worker."),be.#s=!0),be._setupFakeWorkerGlobal.then(t=>{if(this.destroyed){this.#t.reject(new Error("Worker was destroyed"));return}const e=new JC;this.#n=e;const n=`fake${be.#r++}`,r=new Zr(n+"_worker",n,e);t.setup(r,e),this.#e=new Zr(n,n+"_worker",e),this.#a()}).catch(t=>{this.#t.reject(new Error(`Setting up fake worker failed: "${t.message}".`))})}destroy(){this.destroyed=!0,this.#i?.terminate(),this.#i=null,be.#o.delete(this.#n),this.#n=null,this.#e?.destroy(),this.#e=null}static create(t){const e=this.#o.get(t?.port);if(e){if(e._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return e}return new be(t)}static get workerSrc(){if(Ti.workerSrc)return Ti.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get#c(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){return Mt(this,"_setupFakeWorkerGlobal",(async()=>this.#c?this.#c:(await import(this.workerSrc)).WorkerMessageHandler)())}}class UT{#t=new Map;#e=new Map;#n=new Map;#i=new Map;#r=null;constructor(t,e,n,r,a){this.messageHandler=t,this.loadingTask=e,this.commonObjs=new z0,this.fontLoader=new KC({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this.loadingParams=r.loadingParams,this._params=r,this.canvasFactory=a.canvasFactory,this.filterFactory=a.filterFactory,this.cMapReaderFactory=a.cMapReaderFactory,this.standardFontDataFactory=a.standardFontDataFactory,this.wasmFactory=a.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}#s(t,e=null){const n=this.#t.get(t);if(n)return n;const r=this.messageHandler.sendWithPromise(t,e);return this.#t.set(t,r),r}get annotationStorage(){return Mt(this,"annotationStorage",new pd)}getRenderingIntent(t,e=Vn.ENABLE,n=null,r=!1,a=!1){let l=Ze.DISPLAY,c=yh;switch(t){case"any":l=Ze.ANY;break;case"display":break;case"print":l=Ze.PRINT;break;default:_t(`getRenderingIntent - invalid intent: ${t}`)}const h=l&Ze.PRINT&&n instanceof k0?n:this.annotationStorage;switch(e){case Vn.DISABLE:l+=Ze.ANNOTATIONS_DISABLE;break;case Vn.ENABLE:break;case Vn.ENABLE_FORMS:l+=Ze.ANNOTATIONS_FORMS;break;case Vn.ENABLE_STORAGE:l+=Ze.ANNOTATIONS_STORAGE,c=h.serializable;break;default:_t(`getRenderingIntent - invalid annotationMode: ${e}`)}r&&(l+=Ze.IS_EDITING),a&&(l+=Ze.OPLIST);const{ids:d,hash:p}=h.modifiedIds,m=[l,c.hash,p];return{renderingIntent:l,cacheKey:m.join("_"),annotationStorageSerializable:c,modifiedIds:d}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),this.#r?.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const n of this.#e.values())t.push(n._destroy());this.#e.clear(),this.#n.clear(),this.#i.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const e=this.messageHandler.sendWithPromise("Terminate",null);return t.push(e),Promise.all(t).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#t.clear(),this.filterFactory.destroy(),mo.cleanup(),this._networkStream?.cancelAllRequests(new ni("Worker was terminated.")),this.messageHandler?.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:e}=this;t.on("GetReader",(n,r)=>{ue(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=a=>{this._lastProgress={loaded:a.loaded,total:a.total}},r.onPull=()=>{this._fullReader.read().then(function({value:a,done:l}){if(l){r.close();return}ue(a instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{r.error(a)})},r.onCancel=a=>{this._fullReader.cancel(a),r.ready.catch(l=>{if(!this.destroyed)throw l})}}),t.on("ReaderHeadersReady",async n=>{await this._fullReader.headersReady;const{isStreamingSupported:r,isRangeSupported:a,contentLength:l}=this._fullReader;return(!r||!a)&&(this._lastProgress&&e.onProgress?.(this._lastProgress),this._fullReader.onProgress=c=>{e.onProgress?.({loaded:c.loaded,total:c.total})}),{isStreamingSupported:r,isRangeSupported:a,contentLength:l}}),t.on("GetRangeReader",(n,r)=>{ue(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const a=this._networkStream.getRangeReader(n.begin,n.end);if(!a){r.close();return}r.onPull=()=>{a.read().then(function({value:l,done:c}){if(c){r.close();return}ue(l instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(l),1,[l])}).catch(l=>{r.error(l)})},r.onCancel=l=>{a.cancel(l),r.ready.catch(c=>{if(!this.destroyed)throw c})}}),t.on("GetDoc",({pdfInfo:n})=>{this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,e._capability.resolve(new zT(n,this))}),t.on("DocException",n=>{e._capability.reject(Ge(n))}),t.on("PasswordRequest",n=>{this.#r=Promise.withResolvers();try{if(!e.onPassword)throw Ge(n);const r=a=>{a instanceof Error?this.#r.reject(a):this.#r.resolve({password:a})};e.onPassword(r,n.code)}catch(r){this.#r.reject(r)}return this.#r.promise}),t.on("DataLoaded",n=>{e.onProgress?.({loaded:n.length,total:n.length}),this.downloadInfoCapability.resolve(n)}),t.on("StartRenderPage",n=>{if(this.destroyed)return;this.#e.get(n.pageIndex)._startRenderPage(n.transparency,n.cacheKey)}),t.on("commonobj",([n,r,a])=>{if(this.destroyed||this.commonObjs.has(n))return null;switch(r){case"Font":if("error"in a){const d=a.error;_t(`Error during font loading: ${d}`),this.commonObjs.resolve(n,d);break}const l=this._params.pdfBug&&globalThis.FontInspector?.enabled?(d,p)=>globalThis.FontInspector.fontAdded(d,p):null,c=new qC(a,l);this.fontLoader.bind(c).catch(()=>t.sendWithPromise("FontFallback",{id:n})).finally(()=>{!c.fontExtraProperties&&c.data&&(c.data=null),this.commonObjs.resolve(n,c)});break;case"CopyLocalImage":const{imageRef:h}=a;ue(h,"The imageRef must be defined.");for(const d of this.#e.values())for(const[,p]of d.objs)if(p?.ref===h)return p.dataLen?(this.commonObjs.resolve(n,structuredClone(p)),p.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(n,a);break;default:throw new Error(`Got unknown common object type ${r}`)}return null}),t.on("obj",([n,r,a,l])=>{if(this.destroyed)return;const c=this.#e.get(r);if(!c.objs.has(n)){if(c._intentStates.size===0){l?.bitmap?.close();return}switch(a){case"Image":case"Pattern":c.objs.resolve(n,l);break;default:throw new Error(`Got unknown object type ${a}`)}}}),t.on("DocProgress",n=>{this.destroyed||e.onProgress?.({loaded:n.loaded,total:n.total})}),t.on("FetchBinaryData",async n=>{if(this.destroyed)throw new Error("Worker was destroyed.");const r=this[n.type];if(!r)throw new Error(`${n.type} not initialized, see the \`useWorkerFetch\` parameter.`);return r.fetch(n)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&_t("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:t,transfer:e}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:t,filename:this._fullReader?.filename??null},e).finally(()=>{this.annotationStorage.resetModified()})}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));const e=t-1,n=this.#n.get(e);if(n)return n;const r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:e}).then(a=>{if(this.destroyed)throw new Error("Transport destroyed");a.refStr&&this.#i.set(a.refStr,t);const l=new HT(e,a,this,this._params.pdfBug);return this.#e.set(e,l),l});return this.#n.set(e,r),r}getPageIndex(t){return vh(t)?this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(t,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:e})}getFieldObjects(){return this.#s("GetFieldObjects")}hasJSActions(){return this.#s("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return typeof t!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return this.#s("GetDocJSActions")}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(t){return this.#s("GetOptionalContentConfig").then(e=>new xT(e,t))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const t="GetMetadata",e=this.#t.get(t);if(e)return e;const n=this.messageHandler.sendWithPromise(t,null).then(r=>({info:r[0],metadata:r[1]?new wT(r[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}));return this.#t.set(t,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(t=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const e of this.#e.values())if(!e.cleanup())throw new Error(`startCleanup: Page ${e.pageNumber} is currently rendering.`);this.commonObjs.clear(),t||this.fontLoader.clear(),this.#t.clear(),this.filterFactory.destroy(!0),mo.cleanup()}}cachedPageNumber(t){if(!vh(t))return null;const e=t.gen===0?`${t.num}R`:`${t.num}R${t.gen}`;return this.#i.get(e)??null}}class $T{#t=null;onContinue=null;onError=null;constructor(t){this.#t=t}get promise(){return this.#t.capability.promise}cancel(t=0){this.#t.cancel(null,t)}get separateAnnots(){const{separateAnnots:t}=this.#t.operatorList;if(!t)return!1;const{annotationCanvasMap:e}=this.#t;return t.form||t.canvas&&e?.size>0}}class $s{#t=null;static#e=new WeakSet;constructor({callback:t,params:e,objs:n,commonObjs:r,annotationCanvasMap:a,operatorList:l,pageIndex:c,canvasFactory:h,filterFactory:d,useRequestAnimationFrame:p=!1,pdfBug:m=!1,pageColors:y=null}){this.callback=t,this.params=e,this.objs=n,this.commonObjs=r,this.annotationCanvasMap=a,this.operatorListIdx=null,this.operatorList=l,this._pageIndex=c,this.canvasFactory=h,this.filterFactory=d,this._pdfBug=m,this.pageColors=y,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=p===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new $T(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=e.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:t=!1,optionalContentConfig:e}){if(this.cancelled)return;if(this._canvas){if($s.#e.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");$s.#e.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:n,viewport:r,transform:a,background:l}=this.params;this.gfx=new Ws(n,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:e},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:a,viewport:r,transparency:t,background:l}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(t=null,e=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),this.#t&&(window.cancelAnimationFrame(this.#t),this.#t=null),$s.#e.delete(this._canvas),t||=new bl(`Rendering cancelled, page ${this._pageIndex+1}`,e),this.callback(t),this.task.onError?.(t)}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||=this._continueBound;return}this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?this.#t=window.requestAnimationFrame(()=>{this.#t=null,this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),$s.#e.delete(this._canvas),this.callback())))}}const H0="5.3.93",U0="cbeef3233";function ly(s){return Math.floor(Math.max(0,Math.min(1,s))*255).toString(16).padStart(2,"0")}function Kr(s){return Math.max(0,Math.min(255,255*s))}class cy{static CMYK_G([t,e,n,r]){return["G",1-Math.min(1,.3*t+.59*n+.11*e+r)]}static G_CMYK([t]){return["CMYK",0,0,0,1-t]}static G_RGB([t]){return["RGB",t,t,t]}static G_rgb([t]){return t=Kr(t),[t,t,t]}static G_HTML([t]){const e=ly(t);return`#${e}${e}${e}`}static RGB_G([t,e,n]){return["G",.3*t+.59*e+.11*n]}static RGB_rgb(t){return t.map(Kr)}static RGB_HTML(t){return`#${t.map(ly).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([t,e,n,r]){return["RGB",1-Math.min(1,t+r),1-Math.min(1,n+r),1-Math.min(1,e+r)]}static CMYK_rgb([t,e,n,r]){return[Kr(1-Math.min(1,t+r)),Kr(1-Math.min(1,n+r)),Kr(1-Math.min(1,e+r))]}static CMYK_HTML(t){const e=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(e)}static RGB_CMYK([t,e,n]){const r=1-t,a=1-e,l=1-n,c=Math.min(r,a,l);return["CMYK",r,a,l,c]}}class GT{create(t,e,n=!1){if(t<=0||e<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),n||(r.setAttribute("width",`${t}px`),r.setAttribute("height",`${e}px`)),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox",`0 0 ${t} ${e}`),r}createElement(t){if(typeof t!="string")throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){Vt("Abstract method `_createSVG` called.")}}class yo extends GT{_createSVG(t){return document.createElementNS(Jn,t)}}class xd{static setupStorage(t,e,n,r,a){const l=r.getValue(e,{value:null});switch(n.name){case"textarea":if(l.value!==null&&(t.textContent=l.value),a==="print")break;t.addEventListener("input",c=>{r.setValue(e,{value:c.target.value})});break;case"input":if(n.attributes.type==="radio"||n.attributes.type==="checkbox"){if(l.value===n.attributes.xfaOn?t.setAttribute("checked",!0):l.value===n.attributes.xfaOff&&t.removeAttribute("checked"),a==="print")break;t.addEventListener("change",c=>{r.setValue(e,{value:c.target.checked?c.target.getAttribute("xfaOn"):c.target.getAttribute("xfaOff")})})}else{if(l.value!==null&&t.setAttribute("value",l.value),a==="print")break;t.addEventListener("input",c=>{r.setValue(e,{value:c.target.value})})}break;case"select":if(l.value!==null){t.setAttribute("value",l.value);for(const c of n.children)c.attributes.value===l.value?c.attributes.selected=!0:c.attributes.hasOwnProperty("selected")&&delete c.attributes.selected}t.addEventListener("input",c=>{const h=c.target.options,d=h.selectedIndex===-1?"":h[h.selectedIndex].value;r.setValue(e,{value:d})});break}}static setAttributes({html:t,element:e,storage:n=null,intent:r,linkService:a}){const{attributes:l}=e,c=t instanceof HTMLAnchorElement;l.type==="radio"&&(l.name=`${l.name}-${r}`);for(const[h,d]of Object.entries(l))if(d!=null)switch(h){case"class":d.length&&t.setAttribute(h,d.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",d);break;case"style":Object.assign(t.style,d);break;case"textContent":t.textContent=d;break;default:(!c||h!=="href"&&h!=="newWindow")&&t.setAttribute(h,d)}c&&a.addLinkAttributes(t,l.href,l.newWindow),n&&l.dataId&&this.setupStorage(t,l.dataId,e,n)}static render(t){const e=t.annotationStorage,n=t.linkService,r=t.xfaHtml,a=t.intent||"display",l=document.createElement(r.name);r.attributes&&this.setAttributes({html:l,element:r,intent:a,linkService:n});const c=a!=="richText",h=t.div;if(h.append(l),t.viewport){const m=`matrix(${t.viewport.transform.join(",")})`;h.style.transform=m}c&&h.setAttribute("class","xfaLayer xfaFont");const d=[];if(r.children.length===0){if(r.value){const m=document.createTextNode(r.value);l.append(m),c&&go.shouldBuildText(r.name)&&d.push(m)}return{textDivs:d}}const p=[[r,-1,l]];for(;p.length>0;){const[m,y,w]=p.at(-1);if(y+1===m.children.length){p.pop();continue}const b=m.children[++p.at(-1)[1]];if(b===null)continue;const{name:x}=b;if(x==="#text"){const E=document.createTextNode(b.value);d.push(E),w.append(E);continue}const S=b?.attributes?.xmlns?document.createElementNS(b.attributes.xmlns,x):document.createElement(x);if(w.append(S),b.attributes&&this.setAttributes({html:S,element:b,storage:e,intent:a,linkService:n}),b.children?.length>0)p.push([b,-1,S]);else if(b.value){const E=document.createTextNode(b.value);c&&go.shouldBuildText(x)&&d.push(E),S.append(E)}}for(const m of h.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))m.setAttribute("readOnly",!0);return{textDivs:d}}static update(t){const e=`matrix(${t.viewport.transform.join(",")})`;t.div.style.transform=e,t.div.hidden=!1}}const WT=9,rs=new WeakSet;class uy{static create(t){switch(t.data.annotationType){case ne.LINK:return new $0(t);case ne.TEXT:return new XT(t);case ne.WIDGET:switch(t.data.fieldType){case"Tx":return new KT(t);case"Btn":return t.data.radioButton?new G0(t):t.data.checkBox?new YT(t):new QT(t);case"Ch":return new ZT(t);case"Sig":return new qT(t)}return new cs(t);case ne.POPUP:return new bh(t);case ne.FREETEXT:return new W0(t);case ne.LINE:return new tk(t);case ne.SQUARE:return new ek(t);case ne.CIRCLE:return new nk(t);case ne.POLYLINE:return new X0(t);case ne.CARET:return new sk(t);case ne.INK:return new Ad(t);case ne.POLYGON:return new ik(t);case ne.HIGHLIGHT:return new K0(t);case ne.UNDERLINE:return new rk(t);case ne.SQUIGGLY:return new ok(t);case ne.STRIKEOUT:return new ak(t);case ne.STAMP:return new q0(t);case ne.FILEATTACHMENT:return new lk(t);default:return new oe(t)}}}class oe{#t=null;#e=!1;#n=null;constructor(t,{isRenderable:e=!1,ignoreBorder:n=!1,createQuadrilaterals:r=!1}={}){this.isRenderable=e,this.data=t.data,this.layer=t.layer,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this.parent=t.parent,e&&(this.container=this._createContainer(n)),r&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:t,richText:e}){return!!(t?.str||e?.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return oe._hasPopupData(this.data)}updateEdited(t){if(!this.container)return;this.#t||={rect:this.data.rect.slice(0)};const{rect:e}=t;e&&this.#i(e),this.#n?.popup.updateEdited(t)}resetEdited(){this.#t&&(this.#i(this.#t.rect),this.#n?.popup.resetEdited(),this.#t=null)}#i(t){const{container:{style:e},data:{rect:n,rotation:r},parent:{viewport:{rawDims:{pageWidth:a,pageHeight:l,pageX:c,pageY:h}}}}=this;n?.splice(0,4,...t),e.left=`${100*(t[0]-c)/a}%`,e.top=`${100*(l-t[3]+h)/l}%`,r===0?(e.width=`${100*(t[2]-t[0])/a}%`,e.height=`${100*(t[3]-t[1])/l}%`):this.setRotation(r)}_createContainer(t){const{data:e,parent:{page:n,viewport:r}}=this,a=document.createElement("section");a.setAttribute("data-annotation-id",e.id),this instanceof cs||(a.tabIndex=0);const{style:l}=a;if(l.zIndex=this.parent.zIndex++,e.alternativeText&&(a.title=e.alternativeText),e.noRotate&&a.classList.add("norotate"),!e.rect||this instanceof bh){const{rotation:x}=e;return!e.hasOwnCanvas&&x!==0&&this.setRotation(x,a),a}const{width:c,height:h}=this;if(!t&&e.borderStyle.width>0){l.borderWidth=`${e.borderStyle.width}px`;const x=e.borderStyle.horizontalCornerRadius,S=e.borderStyle.verticalCornerRadius;if(x>0||S>0){const T=`calc(${x}px * var(--total-scale-factor)) / calc(${S}px * var(--total-scale-factor))`;l.borderRadius=T}else if(this instanceof G0){const T=`calc(${c}px * var(--total-scale-factor)) / calc(${h}px * var(--total-scale-factor))`;l.borderRadius=T}switch(e.borderStyle.style){case Ns.SOLID:l.borderStyle="solid";break;case Ns.DASHED:l.borderStyle="dashed";break;case Ns.BEVELED:_t("Unimplemented border style: beveled");break;case Ns.INSET:_t("Unimplemented border style: inset");break;case Ns.UNDERLINE:l.borderBottomStyle="solid";break}const E=e.borderColor||null;E?(this.#e=!0,l.borderColor=pt.makeHexColor(E[0]|0,E[1]|0,E[2]|0)):l.borderWidth=0}const d=pt.normalizeRect([e.rect[0],n.view[3]-e.rect[1]+n.view[1],e.rect[2],n.view[3]-e.rect[3]+n.view[1]]),{pageWidth:p,pageHeight:m,pageX:y,pageY:w}=r.rawDims;l.left=`${100*(d[0]-y)/p}%`,l.top=`${100*(d[1]-w)/m}%`;const{rotation:b}=e;return e.hasOwnCanvas||b===0?(l.width=`${100*c/p}%`,l.height=`${100*h/m}%`):this.setRotation(b,a),a}setRotation(t,e=this.container){if(!this.data.rect)return;const{pageWidth:n,pageHeight:r}=this.parent.viewport.rawDims;let{width:a,height:l}=this;t%180!==0&&([a,l]=[l,a]),e.style.width=`${100*a/n}%`,e.style.height=`${100*l/r}%`,e.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){const t=(e,n,r)=>{const a=r.detail[e],l=a[0],c=a.slice(1);r.target.style[n]=cy[`${l}_HTML`](c),this.annotationStorage.setValue(this.data.id,{[n]:cy[`${l}_rgb`](c)})};return Mt(this,"_commonActions",{display:e=>{const{display:n}=e.detail,r=n%2===1;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:r,noPrint:n===1||n===2})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{const{hidden:n}=e.detail;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:n,noView:n})},focus:e=>{setTimeout(()=>e.target.focus({preventScroll:!1}),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:e=>{t("bgColor","backgroundColor",e)},fillColor:e=>{t("fillColor","backgroundColor",e)},fgColor:e=>{t("fgColor","color",e)},textColor:e=>{t("textColor","color",e)},borderColor:e=>{t("borderColor","borderColor",e)},strokeColor:e=>{t("strokeColor","borderColor",e)},rotation:e=>{const n=e.detail.rotation;this.setRotation(n),this.annotationStorage.setValue(this.data.id,{rotation:n})}})}_dispatchEventFromSandbox(t,e){const n=this._commonActions;for(const r of Object.keys(e.detail))(t[r]||n[r])?.(e)}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const e=this.annotationStorage.getRawValue(this.data.id);if(!e)return;const n=this._commonActions;for(const[r,a]of Object.entries(e)){const l=n[r];if(l){const c={detail:{[r]:a},target:t};l(c),delete e[r]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:t}=this.data;if(!t)return;const[e,n,r,a]=this.data.rect.map(x=>Math.fround(x));if(t.length===8){const[x,S,E,T]=t.subarray(2,6);if(r===x&&a===S&&e===E&&n===T)return}const{style:l}=this.container;let c;if(this.#e){const{borderColor:x,borderWidth:S}=l;l.borderWidth=0,c=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${x}" stroke-width="${S}">`],this.container.classList.add("hasBorder")}const h=r-e,d=a-n,{svgFactory:p}=this,m=p.createElement("svg");m.classList.add("quadrilateralsContainer"),m.setAttribute("width",0),m.setAttribute("height",0),m.role="none";const y=p.createElement("defs");m.append(y);const w=p.createElement("clipPath"),b=`clippath_${this.data.id}`;w.setAttribute("id",b),w.setAttribute("clipPathUnits","objectBoundingBox"),y.append(w);for(let x=2,S=t.length;x<S;x+=8){const E=t[x],T=t[x+1],_=t[x+2],P=t[x+3],k=p.createElement("rect"),D=(_-e)/h,N=(a-T)/d,L=(E-_)/h,$=(T-P)/d;k.setAttribute("x",D),k.setAttribute("y",N),k.setAttribute("width",L),k.setAttribute("height",$),w.append(k),c?.push(`<rect vector-effect="non-scaling-stroke" x="${D}" y="${N}" width="${L}" height="${$}"/>`)}this.#e&&(c.push("</g></svg>')"),l.backgroundImage=c.join("")),this.container.append(m),this.container.style.clipPath=`url(#${b})`}_createPopup(){const{data:t}=this,e=this.#n=new bh({data:{color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation,noRotate:!0},parent:this.parent,elements:[this]});this.parent.div.append(e.render())}render(){Vt("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,e=null){const n=[];if(this._fieldObjects){const r=this._fieldObjects[t];if(r)for(const{page:a,id:l,exportValues:c}of r){if(a===-1||l===e)continue;const h=typeof c=="string"?c:null,d=document.querySelector(`[data-element-id="${l}"]`);if(d&&!rs.has(d)){_t(`_getElementsByName - element not allowed: ${l}`);continue}n.push({id:l,exportValue:h,domElement:d})}return n}for(const r of document.getElementsByName(t)){const{exportValue:a}=r,l=r.getAttribute("data-element-id");l!==e&&rs.has(r)&&n.push({id:l,exportValue:a,domElement:r})}return n}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const t=this.getElementsToTriggerPopup();if(Array.isArray(t))for(const e of t)e.classList.add("highlightArea");else t.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:t,data:{id:e}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:t,editId:e,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}}class $0 extends oe{constructor(t,e=null){super(t,{isRenderable:!0,ignoreBorder:!!e?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:e}=this,n=document.createElement("a");n.setAttribute("data-element-id",t.id);let r=!1;return t.url?(e.addLinkAttributes(n,t.url,t.newWindow),r=!0):t.action?(this._bindNamedAction(n,t.action),r=!0):t.attachment?(this.#e(n,t.attachment,t.attachmentDest),r=!0):t.setOCGState?(this.#n(n,t.setOCGState),r=!0):t.dest?(this._bindLink(n,t.dest),r=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(n,t),r=!0),t.resetForm?(this._bindResetFormAction(n,t.resetForm),r=!0):this.isTooltipOnly&&!r&&(this._bindLink(n,""),r=!0)),this.container.classList.add("linkAnnotation"),r&&this.container.append(n),this.container}#t(){this.container.setAttribute("data-internal-link","")}_bindLink(t,e){t.href=this.linkService.getDestinationHash(e),t.onclick=()=>(e&&this.linkService.goToDestination(e),!1),(e||e==="")&&this.#t()}_bindNamedAction(t,e){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(e),!1),this.#t()}#e(t,e,n=null){t.href=this.linkService.getAnchorUrl(""),e.description&&(t.title=e.description),t.onclick=()=>(this.downloadManager?.openOrDownloadData(e.content,e.filename,n),!1),this.#t()}#n(t,e){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(e),!1),this.#t()}_bindJSAction(t,e){t.href=this.linkService.getAnchorUrl("");const n=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const r of Object.keys(e.actions)){const a=n.get(r);a&&(t[a]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e.id,name:r}}),!1))}t.onclick||(t.onclick=()=>!1),this.#t()}_bindResetFormAction(t,e){const n=t.onclick;if(n||(t.href=this.linkService.getAnchorUrl("")),this.#t(),!this._fieldObjects){_t('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),n||(t.onclick=()=>!1);return}t.onclick=()=>{n?.();const{fields:r,refs:a,include:l}=e,c=[];if(r.length!==0||a.length!==0){const p=new Set(a);for(const m of r){const y=this._fieldObjects[m]||[];for(const{id:w}of y)p.add(w)}for(const m of Object.values(this._fieldObjects))for(const y of m)p.has(y.id)===l&&c.push(y)}else for(const p of Object.values(this._fieldObjects))c.push(...p);const h=this.annotationStorage,d=[];for(const p of c){const{id:m}=p;switch(d.push(m),p.type){case"text":{const w=p.defaultValue||"";h.setValue(m,{value:w});break}case"checkbox":case"radiobutton":{const w=p.defaultValue===p.exportValues;h.setValue(m,{value:w});break}case"combobox":case"listbox":{const w=p.defaultValue||"";h.setValue(m,{value:w});break}default:continue}const y=document.querySelector(`[data-element-id="${m}"]`);if(y){if(!rs.has(y)){_t(`_bindResetFormAction - element not allowed: ${m}`);continue}}else continue;y.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:d,name:"ResetForm"}}),!1}}}class XT extends oe{constructor(t){super(t,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),t.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(t),this.container}}class cs extends oe{render(){return this.container}showElementAndHideCanvas(t){this.data.hasOwnCanvas&&(t.previousSibling?.nodeName==="CANVAS"&&(t.previousSibling.hidden=!0),t.hidden=!1)}_getKeyModifier(t){return xe.platform.isMac?t.metaKey:t.ctrlKey}_setEventListener(t,e,n,r,a){n.includes("mouse")?t.addEventListener(n,l=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:a(l),shift:l.shiftKey,modifier:this._getKeyModifier(l)}})}):t.addEventListener(n,l=>{if(n==="blur"){if(!e.focused||!l.relatedTarget)return;e.focused=!1}else if(n==="focus"){if(e.focused)return;e.focused=!0}a&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:a(l)}})})}_setEventListeners(t,e,n,r){for(const[a,l]of n)(l==="Action"||this.data.actions?.[l])&&((l==="Focus"||l==="Blur")&&(e||={focused:!1}),this._setEventListener(t,e,a,l,r),l==="Focus"&&!this.data.actions?.Blur?this._setEventListener(t,e,"blur","Blur",null):l==="Blur"&&!this.data.actions?.Focus&&this._setEventListener(t,e,"focus","Focus",null))}_setBackgroundColor(t){const e=this.data.backgroundColor||null;t.style.backgroundColor=e===null?"transparent":pt.makeHexColor(e[0],e[1],e[2])}_setTextStyle(t){const e=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,r=this.data.defaultAppearanceData.fontSize||WT,a=t.style;let l;const c=2,h=d=>Math.round(10*d)/10;if(this.data.multiLine){const d=Math.abs(this.data.rect[3]-this.data.rect[1]-c),p=Math.round(d/(Ou*r))||1,m=d/p;l=Math.min(r,h(m/Ou))}else{const d=Math.abs(this.data.rect[3]-this.data.rect[1]-c);l=Math.min(r,h(d/Ou))}a.fontSize=`calc(${l}px * var(--total-scale-factor))`,a.color=pt.makeHexColor(n[0],n[1],n[2]),this.data.textAlignment!==null&&(a.textAlign=e[this.data.textAlignment])}_setRequired(t,e){e?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",e)}}class KT extends cs{constructor(t){const e=t.renderForms||t.data.hasOwnCanvas||!t.data.hasAppearance&&!!t.data.fieldValue;super(t,{isRenderable:e})}setPropertyOnSiblings(t,e,n,r){const a=this.annotationStorage;for(const l of this._getElementsByName(t.name,t.id))l.domElement&&(l.domElement[e]=n),a.setValue(l.id,{[r]:n})}render(){const t=this.annotationStorage,e=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){const r=t.getValue(e,{value:this.data.fieldValue});let a=r.value||"";const l=t.getValue(e,{charLimit:this.data.maxLen}).charLimit;l&&a.length>l&&(a=a.slice(0,l));let c=r.formattedValue||this.data.textContent?.join(`
`)||null;c&&this.data.comb&&(c=c.replaceAll(/\s+/g,""));const h={userValue:a,formattedValue:c,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=c??a,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type=this.data.password?"password":"text",n.setAttribute("value",c??a),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),rs.add(n),n.setAttribute("data-element-id",e),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=0;const d=this.data.dateFormat||this.data.timeFormat;d&&(n.title=d),this._setRequired(n,this.data.required),l&&(n.maxLength=l),n.addEventListener("input",m=>{t.setValue(e,{value:m.target.value}),this.setPropertyOnSiblings(n,"value",m.target.value,"value"),h.formattedValue=null}),n.addEventListener("resetform",m=>{const y=this.data.defaultFieldValue??"";n.value=h.userValue=y,h.formattedValue=null});let p=m=>{const{formattedValue:y}=h;y!=null&&(m.target.value=y),m.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){n.addEventListener("focus",y=>{if(h.focused)return;const{target:w}=y;h.userValue&&(w.value=h.userValue),h.lastCommittedValue=w.value,h.commitKey=1,this.data.actions?.Focus||(h.focused=!0)}),n.addEventListener("updatefromsandbox",y=>{this.showElementAndHideCanvas(y.target);const w={value(b){h.userValue=b.detail.value??"",t.setValue(e,{value:h.userValue.toString()}),b.target.value=h.userValue},formattedValue(b){const{formattedValue:x}=b.detail;h.formattedValue=x,x!=null&&b.target!==document.activeElement&&(b.target.value=x),t.setValue(e,{formattedValue:x})},selRange(b){b.target.setSelectionRange(...b.detail.selRange)},charLimit:b=>{const{charLimit:x}=b.detail,{target:S}=b;if(x===0){S.removeAttribute("maxLength");return}S.setAttribute("maxLength",x);let E=h.userValue;!E||E.length<=x||(E=E.slice(0,x),S.value=h.userValue=E,t.setValue(e,{value:E}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:E,willCommit:!0,commitKey:1,selStart:S.selectionStart,selEnd:S.selectionEnd}}))}};this._dispatchEventFromSandbox(w,y)}),n.addEventListener("keydown",y=>{h.commitKey=1;let w=-1;if(y.key==="Escape"?w=0:y.key==="Enter"&&!this.data.multiLine?w=2:y.key==="Tab"&&(h.commitKey=3),w===-1)return;const{value:b}=y.target;h.lastCommittedValue!==b&&(h.lastCommittedValue=b,h.userValue=b,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:b,willCommit:!0,commitKey:w,selStart:y.target.selectionStart,selEnd:y.target.selectionEnd}}))});const m=p;p=null,n.addEventListener("blur",y=>{if(!h.focused||!y.relatedTarget)return;this.data.actions?.Blur||(h.focused=!1);const{value:w}=y.target;h.userValue=w,h.lastCommittedValue!==w&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:w,willCommit:!0,commitKey:h.commitKey,selStart:y.target.selectionStart,selEnd:y.target.selectionEnd}}),m(y)}),this.data.actions?.Keystroke&&n.addEventListener("beforeinput",y=>{h.lastCommittedValue=null;const{data:w,target:b}=y,{value:x,selectionStart:S,selectionEnd:E}=b;let T=S,_=E;switch(y.inputType){case"deleteWordBackward":{const P=x.substring(0,S).match(/\w*[^\w]*$/);P&&(T-=P[0].length);break}case"deleteWordForward":{const P=x.substring(S).match(/^[^\w]*\w*/);P&&(_+=P[0].length);break}case"deleteContentBackward":S===E&&(T-=1);break;case"deleteContentForward":S===E&&(_+=1);break}y.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:x,change:w||"",willCommit:!1,selStart:T,selEnd:_}})}),this._setEventListeners(n,h,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],y=>y.target.value)}if(p&&n.addEventListener("blur",p),this.data.comb){const y=(this.data.rect[2]-this.data.rect[0])/l;n.classList.add("comb"),n.style.letterSpacing=`calc(${y}px * var(--total-scale-factor) - 1ch)`}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class qT extends cs{constructor(t){super(t,{isRenderable:!!t.data.hasOwnCanvas})}}class YT extends cs{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,e=this.data,n=e.id;let r=t.getValue(n,{value:e.exportValue===e.fieldValue}).value;typeof r=="string"&&(r=r!=="Off",t.setValue(n,{value:r})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const a=document.createElement("input");return rs.add(a),a.setAttribute("data-element-id",n),a.disabled=e.readOnly,this._setRequired(a,this.data.required),a.type="checkbox",a.name=e.fieldName,r&&a.setAttribute("checked",!0),a.setAttribute("exportValue",e.exportValue),a.tabIndex=0,a.addEventListener("change",l=>{const{name:c,checked:h}=l.target;for(const d of this._getElementsByName(c,n)){const p=h&&d.exportValue===e.exportValue;d.domElement&&(d.domElement.checked=p),t.setValue(d.id,{value:p})}t.setValue(n,{value:h})}),a.addEventListener("resetform",l=>{const c=e.defaultFieldValue||"Off";l.target.checked=c===e.exportValue}),this.enableScripting&&this.hasJSActions&&(a.addEventListener("updatefromsandbox",l=>{const c={value(h){h.target.checked=h.detail.value!=="Off",t.setValue(n,{value:h.target.checked})}};this._dispatchEventFromSandbox(c,l)}),this._setEventListeners(a,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],l=>l.target.checked)),this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class G0 extends cs{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const t=this.annotationStorage,e=this.data,n=e.id;let r=t.getValue(n,{value:e.fieldValue===e.buttonValue}).value;if(typeof r=="string"&&(r=r!==e.buttonValue,t.setValue(n,{value:r})),r)for(const l of this._getElementsByName(e.fieldName,n))t.setValue(l.id,{value:!1});const a=document.createElement("input");if(rs.add(a),a.setAttribute("data-element-id",n),a.disabled=e.readOnly,this._setRequired(a,this.data.required),a.type="radio",a.name=e.fieldName,r&&a.setAttribute("checked",!0),a.tabIndex=0,a.addEventListener("change",l=>{const{name:c,checked:h}=l.target;for(const d of this._getElementsByName(c,n))t.setValue(d.id,{value:!1});t.setValue(n,{value:h})}),a.addEventListener("resetform",l=>{const c=e.defaultFieldValue;l.target.checked=c!=null&&c===e.buttonValue}),this.enableScripting&&this.hasJSActions){const l=e.buttonValue;a.addEventListener("updatefromsandbox",c=>{const h={value:d=>{const p=l===d.detail.value;for(const m of this._getElementsByName(d.target.name)){const y=p&&m.id===n;m.domElement&&(m.domElement.checked=y),t.setValue(m.id,{value:y})}}};this._dispatchEventFromSandbox(h,c)}),this._setEventListeners(a,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],c=>c.target.checked)}return this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class QT extends $0{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();t.classList.add("buttonWidgetAnnotation","pushButton");const e=t.lastChild;return this.enableScripting&&this.hasJSActions&&e&&(this._setDefaultPropertiesFromJS(e),e.addEventListener("updatefromsandbox",n=>{this._dispatchEventFromSandbox({},n)})),t}}class ZT extends cs{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const t=this.annotationStorage,e=this.data.id,n=t.getValue(e,{value:this.data.fieldValue}),r=document.createElement("select");rs.add(r),r.setAttribute("data-element-id",e),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=0;let a=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",p=>{const m=this.data.defaultFieldValue;for(const y of r.options)y.selected=y.value===m});for(const p of this.data.options){const m=document.createElement("option");m.textContent=p.displayValue,m.value=p.exportValue,n.value.includes(p.exportValue)&&(m.setAttribute("selected",!0),a=!1),r.append(m)}let l=null;if(a){const p=document.createElement("option");p.value=" ",p.setAttribute("hidden",!0),p.setAttribute("selected",!0),r.prepend(p),l=()=>{p.remove(),r.removeEventListener("input",l),l=null},r.addEventListener("input",l)}const c=p=>{const m=p?"value":"textContent",{options:y,multiple:w}=r;return w?Array.prototype.filter.call(y,b=>b.selected).map(b=>b[m]):y.selectedIndex===-1?null:y[y.selectedIndex][m]};let h=c(!1);const d=p=>{const m=p.target.options;return Array.prototype.map.call(m,y=>({displayValue:y.textContent,exportValue:y.value}))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",p=>{const m={value(y){l?.();const w=y.detail.value,b=new Set(Array.isArray(w)?w:[w]);for(const x of r.options)x.selected=b.has(x.value);t.setValue(e,{value:c(!0)}),h=c(!1)},multipleSelection(y){r.multiple=!0},remove(y){const w=r.options,b=y.detail.remove;w[b].selected=!1,r.remove(b),w.length>0&&Array.prototype.findIndex.call(w,S=>S.selected)===-1&&(w[0].selected=!0),t.setValue(e,{value:c(!0),items:d(y)}),h=c(!1)},clear(y){for(;r.length!==0;)r.remove(0);t.setValue(e,{value:null,items:[]}),h=c(!1)},insert(y){const{index:w,displayValue:b,exportValue:x}=y.detail.insert,S=r.children[w],E=document.createElement("option");E.textContent=b,E.value=x,S?S.before(E):r.append(E),t.setValue(e,{value:c(!0),items:d(y)}),h=c(!1)},items(y){const{items:w}=y.detail;for(;r.length!==0;)r.remove(0);for(const b of w){const{displayValue:x,exportValue:S}=b,E=document.createElement("option");E.textContent=x,E.value=S,r.append(E)}r.options.length>0&&(r.options[0].selected=!0),t.setValue(e,{value:c(!0),items:d(y)}),h=c(!1)},indices(y){const w=new Set(y.detail.indices);for(const b of y.target.options)b.selected=w.has(b.index);t.setValue(e,{value:c(!0)}),h=c(!1)},editable(y){y.target.disabled=!y.detail.editable}};this._dispatchEventFromSandbox(m,p)}),r.addEventListener("input",p=>{const m=c(!0),y=c(!1);t.setValue(e,{value:m}),p.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:h,change:y,changeEx:m,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(r,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],p=>p.target.value)):r.addEventListener("input",function(p){t.setValue(e,{value:c(!0)})}),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class bh extends oe{constructor(t){const{data:e,elements:n}=t;super(t,{isRenderable:oe._hasPopupData(e)}),this.elements=n,this.popup=null}render(){const{container:t}=this;t.classList.add("popupAnnotation"),t.role="comment";const e=this.popup=new JT({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),n=[];for(const r of this.elements)r.popup=e,r.container.ariaHasPopup="dialog",n.push(r.data.id),r.addHighlightArea();return this.container.setAttribute("aria-controls",n.map(r=>`${cd}${r}`).join(",")),this.container}}class JT{#t=this.#T.bind(this);#e=this.#C.bind(this);#n=this.#k.bind(this);#i=this.#S.bind(this);#r=null;#s=null;#o=null;#a=null;#h=null;#l=null;#d=null;#c=!1;#f=null;#p=null;#m=null;#u=null;#g=null;#y=null;#v=!1;constructor({container:t,color:e,elements:n,titleObj:r,modificationDate:a,contentsObj:l,richText:c,parent:h,rect:d,parentRect:p,open:m}){this.#s=t,this.#g=r,this.#o=l,this.#u=c,this.#l=h,this.#r=e,this.#m=d,this.#d=p,this.#h=n,this.#a=ud.toDateObject(a),this.trigger=n.flatMap(y=>y.getElementsToTriggerPopup());for(const y of this.trigger)y.addEventListener("click",this.#i),y.addEventListener("mouseenter",this.#n),y.addEventListener("mouseleave",this.#e),y.classList.add("popupTriggerArea");for(const y of n)y.container?.addEventListener("keydown",this.#t);this.#s.hidden=!0,m&&this.#S()}render(){if(this.#f)return;const t=this.#f=document.createElement("div");if(t.className="popup",this.#r){const a=t.style.outlineColor=pt.makeHexColor(...this.#r);t.style.backgroundColor=`color-mix(in srgb, ${a} 30%, white)`}const e=document.createElement("span");e.className="header";const n=document.createElement("h1");if(e.append(n),{dir:n.dir,str:n.textContent}=this.#g,t.append(e),this.#a){const a=document.createElement("time");a.classList.add("popupDate"),a.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),a.setAttribute("data-l10n-args",JSON.stringify({dateObj:this.#a.valueOf()})),a.dateTime=this.#a.toISOString(),e.append(a)}const r=this.#b;if(r)xd.render({xfaHtml:r,intent:"richText",div:t}),t.lastChild.classList.add("richText","popupContent");else{const a=this._formatContents(this.#o);t.append(a)}this.#s.append(t)}get#b(){const t=this.#u,e=this.#o;return t?.str&&(!e?.str||e.str===t.str)&&this.#u.html||null}get#x(){return this.#b?.attributes?.style?.fontSize||0}get#A(){return this.#b?.attributes?.style?.color||null}#_(t){const e=[],n={str:t,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:e}]}},r={style:{color:this.#A,fontSize:this.#x?`calc(${this.#x}px * var(--total-scale-factor))`:""}};for(const a of t.split(`
`))e.push({name:"span",value:a,attributes:r});return n}_formatContents({str:t,dir:e}){const n=document.createElement("p");n.classList.add("popupContent"),n.dir=e;const r=t.split(/(?:\r\n?|\n)/);for(let a=0,l=r.length;a<l;++a){const c=r[a];n.append(document.createTextNode(c)),a<l-1&&n.append(document.createElement("br"))}return n}#T(t){t.altKey||t.shiftKey||t.ctrlKey||t.metaKey||(t.key==="Enter"||t.key==="Escape"&&this.#c)&&this.#S()}updateEdited({rect:t,popupContent:e}){this.#y||={contentsObj:this.#o,richText:this.#u},t&&(this.#p=null),e&&(this.#u=this.#_(e),this.#o=null),this.#f?.remove(),this.#f=null}resetEdited(){this.#y&&({contentsObj:this.#o,richText:this.#u}=this.#y,this.#y=null,this.#f?.remove(),this.#f=null,this.#p=null)}#P(){if(this.#p!==null)return;const{page:{view:t},viewport:{rawDims:{pageWidth:e,pageHeight:n,pageX:r,pageY:a}}}=this.#l;let l=!!this.#d,c=l?this.#d:this.#m;for(const b of this.#h)if(!c||pt.intersect(b.data.rect,c)!==null){c=b.data.rect,l=!0;break}const h=pt.normalizeRect([c[0],t[3]-c[1]+t[1],c[2],t[3]-c[3]+t[1]]),p=l?c[2]-c[0]+5:0,m=h[0]+p,y=h[1];this.#p=[100*(m-r)/e,100*(y-a)/n];const{style:w}=this.#s;w.left=`${this.#p[0]}%`,w.top=`${this.#p[1]}%`}#S(){this.#c=!this.#c,this.#c?(this.#k(),this.#s.addEventListener("click",this.#i),this.#s.addEventListener("keydown",this.#t)):(this.#C(),this.#s.removeEventListener("click",this.#i),this.#s.removeEventListener("keydown",this.#t))}#k(){this.#f||this.render(),this.isVisible?this.#c&&this.#s.classList.add("focused"):(this.#P(),this.#s.hidden=!1,this.#s.style.zIndex=parseInt(this.#s.style.zIndex)+1e3)}#C(){this.#s.classList.remove("focused"),!(this.#c||!this.isVisible)&&(this.#s.hidden=!0,this.#s.style.zIndex=parseInt(this.#s.style.zIndex)-1e3)}forceHide(){this.#v=this.isVisible,this.#v&&(this.#s.hidden=!0)}maybeShow(){this.#v&&(this.#f||this.#k(),this.#v=!1,this.#s.hidden=!1)}get isVisible(){return this.#s.hidden===!1}}class W0 extends oe{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.textContent=t.data.textContent,this.textPosition=t.data.textPosition,this.annotationEditorType=Et.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const t=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");for(const e of this.textContent){const n=document.createElement("span");n.textContent=e,t.append(n)}this.container.append(t)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}class tk extends oe{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const{data:t,width:e,height:n}=this,r=this.svgFactory.create(e,n,!0),a=this.#t=this.svgFactory.createElement("svg:line");return a.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),a.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),a.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),a.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),a.setAttribute("stroke-width",t.borderStyle.width||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),r.append(a),this.container.append(r),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class ek extends oe{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const{data:t,width:e,height:n}=this,r=this.svgFactory.create(e,n,!0),a=t.borderStyle.width,l=this.#t=this.svgFactory.createElement("svg:rect");return l.setAttribute("x",a/2),l.setAttribute("y",a/2),l.setAttribute("width",e-a),l.setAttribute("height",n-a),l.setAttribute("stroke-width",a||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),r.append(l),this.container.append(r),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class nk extends oe{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const{data:t,width:e,height:n}=this,r=this.svgFactory.create(e,n,!0),a=t.borderStyle.width,l=this.#t=this.svgFactory.createElement("svg:ellipse");return l.setAttribute("cx",e/2),l.setAttribute("cy",n/2),l.setAttribute("rx",e/2-a/2),l.setAttribute("ry",n/2-a/2),l.setAttribute("stroke-width",a||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),r.append(l),this.container.append(r),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class X0 extends oe{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:e,borderStyle:n,popupRef:r},width:a,height:l}=this;if(!e)return this.container;const c=this.svgFactory.create(a,l,!0);let h=[];for(let p=0,m=e.length;p<m;p+=2){const y=e[p]-t[0],w=t[3]-e[p+1];h.push(`${y},${w}`)}h=h.join(" ");const d=this.#t=this.svgFactory.createElement(this.svgElementName);return d.setAttribute("points",h),d.setAttribute("stroke-width",n.width||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),c.append(d),this.container.append(c),!r&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class ik extends X0{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class sk extends oe{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class Ad extends oe{#t=null;#e=[];constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?Et.HIGHLIGHT:Et.INK}#n(t,e){switch(t){case 90:return{transform:`rotate(90) translate(${-e[0]},${e[1]}) scale(1,-1)`,width:e[3]-e[1],height:e[2]-e[0]};case 180:return{transform:`rotate(180) translate(${-e[2]},${e[1]}) scale(1,-1)`,width:e[2]-e[0],height:e[3]-e[1]};case 270:return{transform:`rotate(270) translate(${-e[2]},${e[3]}) scale(1,-1)`,width:e[3]-e[1],height:e[2]-e[0]};default:return{transform:`translate(${-e[0]},${e[3]}) scale(1,-1)`,width:e[2]-e[0],height:e[3]-e[1]}}}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,rotation:e,inkLists:n,borderStyle:r,popupRef:a}}=this,{transform:l,width:c,height:h}=this.#n(e,t),d=this.svgFactory.create(c,h,!0),p=this.#t=this.svgFactory.createElement("svg:g");d.append(p),p.setAttribute("stroke-width",r.width||1),p.setAttribute("stroke-linecap","round"),p.setAttribute("stroke-linejoin","round"),p.setAttribute("stroke-miterlimit",10),p.setAttribute("stroke","transparent"),p.setAttribute("fill","transparent"),p.setAttribute("transform",l);for(let m=0,y=n.length;m<y;m++){const w=this.svgFactory.createElement(this.svgElementName);this.#e.push(w),w.setAttribute("points",n[m].join(",")),p.append(w)}return!a&&this.hasPopupData&&this._createPopup(),this.container.append(d),this._editOnDoubleClick(),this.container}updateEdited(t){super.updateEdited(t);const{thickness:e,points:n,rect:r}=t,a=this.#t;if(e>=0&&a.setAttribute("stroke-width",e||1),n)for(let l=0,c=this.#e.length;l<c;l++)this.#e[l].setAttribute("points",n[l].join(","));if(r){const{transform:l,width:c,height:h}=this.#n(this.data.rotation,r);a.parentElement.setAttribute("viewBox",`0 0 ${c} ${h}`),a.setAttribute("transform",l)}}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class K0 extends oe{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=Et.HIGHLIGHT}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),t){const n=document.createElement("mark");n.classList.add("overlaidText"),n.textContent=t,this.container.append(n)}return this.container}}class rk extends oe{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),t){const n=document.createElement("u");n.classList.add("overlaidText"),n.textContent=t,this.container.append(n)}return this.container}}class ok extends oe{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),t){const n=document.createElement("u");n.classList.add("overlaidText"),n.textContent=t,this.container.append(n)}return this.container}}class ak extends oe{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),t){const n=document.createElement("s");n.classList.add("overlaidText"),n.textContent=t,this.container.append(n)}return this.container}}class q0 extends oe{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=Et.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}class lk extends oe{#t=null;constructor(t){super(t,{isRenderable:!0});const{file:e}=this.data;this.filename=e.filename,this.content=e.content,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,...e})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:e}=this;let n;e.hasAppearance||e.fillAlpha===0?n=document.createElement("div"):(n=document.createElement("img"),n.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(e.name)?"paperclip":"pushpin"}.svg`,e.fillAlpha&&e.fillAlpha<1&&(n.style=`filter: opacity(${Math.round(e.fillAlpha*100)}%);`)),n.addEventListener("dblclick",this.#e.bind(this)),this.#t=n;const{isMac:r}=xe.platform;return t.addEventListener("keydown",a=>{a.key==="Enter"&&(r?a.metaKey:a.ctrlKey)&&this.#e()}),!e.popupRef&&this.hasPopupData?this._createPopup():n.classList.add("popupTriggerArea"),t.append(n),t}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}#e(){this.downloadManager?.openOrDownloadData(this.content,this.filename)}}let Sd=class Y0{#t=null;#e=null;#n=new Map;#i=null;constructor({div:t,accessibilityManager:e,annotationCanvasMap:n,annotationEditorUIManager:r,page:a,viewport:l,structTreeLayer:c}){this.div=t,this.#t=e,this.#e=n,this.#i=c||null,this.page=a,this.viewport=l,this.zIndex=0,this._annotationEditorUIManager=r}hasEditableAnnotations(){return this.#n.size>0}async#r(t,e,n){const r=t.firstChild||t,a=r.id=`${cd}${e}`,l=await this.#i?.getAriaAttributes(a);if(l)for(const[c,h]of l)r.setAttribute(c,h);n?n.at(-1).container.after(t):(this.div.append(t),this.#t?.moveElementInDOM(this.div,t,r,!1))}async render(t){const{annotations:e}=t,n=this.div;Ri(n,this.viewport);const r=new Map,a={data:null,layer:n,linkService:t.linkService,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:t.renderForms!==!1,svgFactory:new yo,annotationStorage:t.annotationStorage||new pd,enableScripting:t.enableScripting===!0,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,parent:this,elements:null};for(const l of e){if(l.noHTML)continue;const c=l.annotationType===ne.POPUP;if(c){const p=r.get(l.id);if(!p)continue;a.elements=p}else if(l.rect[2]===l.rect[0]||l.rect[3]===l.rect[1])continue;a.data=l;const h=uy.create(a);if(!h.isRenderable)continue;if(!c&&l.popupRef){const p=r.get(l.popupRef);p?p.push(h):r.set(l.popupRef,[h])}const d=h.render();l.hidden&&(d.style.visibility="hidden"),await this.#r(d,l.id,a.elements),h._isEditable&&(this.#n.set(h.data.id,h),this._annotationEditorUIManager?.renderAnnotationElement(h))}this.#s()}async addLinkAnnotations(t,e){const n={data:null,layer:this.div,linkService:e,svgFactory:new yo,parent:this};for(const r of t){r.borderStyle||=Y0._defaultBorderStyle,n.data=r;const a=uy.create(n);if(!a.isRenderable)continue;const l=a.render();await this.#r(l,r.id,null)}}update({viewport:t}){const e=this.div;this.viewport=t,Ri(e,{rotation:t.rotation}),this.#s(),e.hidden=!1}#s(){if(!this.#e)return;const t=this.div;for(const[e,n]of this.#e){const r=t.querySelector(`[data-annotation-id="${e}"]`);if(!r)continue;n.className="annotationContent";const{firstChild:a}=r;a?a.nodeName==="CANVAS"?a.replaceWith(n):a.classList.contains("annotationContent")?a.after(n):a.before(n):r.append(n);const l=this.#n.get(e);l&&(l._hasNoCanvas?(this._annotationEditorUIManager?.setMissingCanvas(e,r.id,n),l._hasNoCanvas=!1):l.canvas=n)}this.#e.clear()}getEditableAnnotations(){return Array.from(this.#n.values())}getEditableAnnotation(t){return this.#n.get(t)}static get _defaultBorderStyle(){return Mt(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:Ns.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}};const Ja=/\r\n?|\n/g;class pe extends vt{#t;#e="";#n=`${this.id}-editor`;#i=null;#r;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){const t=pe.prototype,e=a=>a.isEmpty(),n=ii.TRANSLATE_SMALL,r=ii.TRANSLATE_BIG;return Mt(this,"_keyboardManager",new Co([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-n,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-r,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[n,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[r,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-n],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-r],checker:e}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,n],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,r],checker:e}]]))}static _type="freetext";static _editorType=Et.FREETEXT;constructor(t){super({...t,name:"freeTextEditor"}),this.#t=t.color||pe._defaultColor||vt._defaultLineColor,this.#r=t.fontSize||pe._defaultFontSize,this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert")}static initialize(t,e){vt.initialize(t,e);const n=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(n.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,e){switch(t){case It.FREETEXT_SIZE:pe._defaultFontSize=e;break;case It.FREETEXT_COLOR:pe._defaultColor=e;break}}updateParams(t,e){switch(t){case It.FREETEXT_SIZE:this.#s(e);break;case It.FREETEXT_COLOR:this.#o(e);break}}static get defaultPropertiesToUpdate(){return[[It.FREETEXT_SIZE,pe._defaultFontSize],[It.FREETEXT_COLOR,pe._defaultColor||vt._defaultLineColor]]}get propertiesToUpdate(){return[[It.FREETEXT_SIZE,this.#r],[It.FREETEXT_COLOR,this.#t]]}#s(t){const e=r=>{this.editorDiv.style.fontSize=`calc(${r}px * var(--total-scale-factor))`,this.translate(0,-(r-this.#r)*this.parentScale),this.#r=r,this.#h()},n=this.#r;this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:It.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}#o(t){const e=r=>{this.#t=this.editorDiv.style.color=r},n=this.#t;this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:It.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(t,e){this._uiManager.translateSelectedEditors(t,e,!0)}getInitialTranslation(){const t=this.parentScale;return[-pe._internalPadding*t,-(pe._internalPadding+this.#r)*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.#i=new AbortController;const t=this._uiManager.combinedSignal(this.#i);return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t}),!0}disableEditMode(){return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#n),this._isDraggable=!0,this.#i?.abort(),this.#i=null,this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(t){this.width||(this.enableEditMode(),t&&this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}#a(){const t=[];this.editorDiv.normalize();let e=null;for(const n of this.editorDiv.childNodes)e?.nodeType===Node.TEXT_NODE&&n.nodeName==="BR"||(t.push(pe.#l(n)),e=n);return t.join(`
`)}#h(){const[t,e]=this.parentDimensions;let n;if(this.isAttachedToDOM)n=this.div.getBoundingClientRect();else{const{currentLayer:r,div:a}=this,l=a.style.display,c=a.classList.contains("hidden");a.classList.remove("hidden"),a.style.display="hidden",r.div.append(this.div),n=a.getBoundingClientRect(),a.remove(),a.style.display=l,a.classList.toggle("hidden",c)}this.rotation%180===this.parentRotation%180?(this.width=n.width/t,this.height=n.height/e):(this.width=n.height/t,this.height=n.width/e),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=this.#e,e=this.#e=this.#a().trimEnd();if(t===e)return;const n=r=>{if(this.#e=r,!r){this.remove();return}this.#d(),this._uiManager.rebuild(this),this.#h()};this.addCommands({cmd:()=>{n(e)},undo:()=>{n(t)},mustExec:!1}),this.#h()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){pe._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let t,e;(this._isCopy||this.annotationElementId)&&(t=this.x,e=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#n),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:n}=this.editorDiv;if(n.fontSize=`calc(${this.#r}px * var(--total-scale-factor))`,n.color=this.#t,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[r,a]=this.parentDimensions;if(this.annotationElementId){const{position:l}=this._initialData;let[c,h]=this.getInitialTranslation();[c,h]=this.pageTranslationToScreen(c,h);const[d,p]=this.pageDimensions,[m,y]=this.pageTranslation;let w,b;switch(this.rotation){case 0:w=t+(l[0]-m)/d,b=e+this.height-(l[1]-y)/p;break;case 90:w=t+(l[0]-m)/d,b=e-(l[1]-y)/p,[c,h]=[h,-c];break;case 180:w=t-this.width+(l[0]-m)/d,b=e-(l[1]-y)/p,[c,h]=[-c,-h];break;case 270:w=t+(l[0]-m-this.height*p)/d,b=e+(l[1]-y-this.width*d)/p,[c,h]=[-h,c];break}this.setAt(w*r,b*a,c,h)}else this._moveAfterPaste(t,e);this.#d(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}static#l(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(Ja,"")}editorDivPaste(t){const e=t.clipboardData||window.clipboardData,{types:n}=e;if(n.length===1&&n[0]==="text/plain")return;t.preventDefault();const r=pe.#f(e.getData("text")||"").replaceAll(Ja,`
`);if(!r)return;const a=window.getSelection();if(!a.rangeCount)return;this.editorDiv.normalize(),a.deleteFromDocument();const l=a.getRangeAt(0);if(!r.includes(`
`)){l.insertNode(document.createTextNode(r)),this.editorDiv.normalize(),a.collapseToStart();return}const{startContainer:c,startOffset:h}=l,d=[],p=[];if(c.nodeType===Node.TEXT_NODE){const w=c.parentElement;if(p.push(c.nodeValue.slice(h).replaceAll(Ja,"")),w!==this.editorDiv){let b=d;for(const x of this.editorDiv.childNodes){if(x===w){b=p;continue}b.push(pe.#l(x))}}d.push(c.nodeValue.slice(0,h).replaceAll(Ja,""))}else if(c===this.editorDiv){let w=d,b=0;for(const x of this.editorDiv.childNodes)b++===h&&(w=p),w.push(pe.#l(x))}this.#e=`${d.join(`
`)}${r}${p.join(`
`)}`,this.#d();const m=new Range;let y=Math.sumPrecise(d.map(w=>w.length));for(const{firstChild:w}of this.editorDiv.childNodes)if(w.nodeType===Node.TEXT_NODE){const b=w.nodeValue.length;if(y<=b){m.setStart(w,y),m.setEnd(w,y);break}y-=b}a.removeAllRanges(),a.addRange(m)}#d(){if(this.editorDiv.replaceChildren(),!!this.#e)for(const t of this.#e.split(`
`)){const e=document.createElement("div");e.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(e)}}#c(){return this.#e.replaceAll(""," ")}static#f(t){return t.replaceAll(" ","")}get contentDiv(){return this.editorDiv}static async deserialize(t,e,n){let r=null;if(t instanceof W0){const{data:{defaultAppearanceData:{fontSize:l,fontColor:c},rect:h,rotation:d,id:p,popupRef:m},textContent:y,textPosition:w,parent:{page:{pageNumber:b}}}=t;if(!y||y.length===0)return null;r=t={annotationType:Et.FREETEXT,color:Array.from(c),fontSize:l,value:y.join(`
`),position:w,pageIndex:b-1,rect:h.slice(0),rotation:d,annotationElementId:p,id:p,deleted:!1,popupRef:m}}const a=await super.deserialize(t,e,n);return a.#r=t.fontSize,a.#t=pt.makeHexColor(...t.color),a.#e=pe.#f(t.value),a._initialData=r,a}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const e=pe._internalPadding*this.parentScale,n=this.getRect(e,e),r=vt._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.#t),a={annotationType:Et.FREETEXT,color:r,fontSize:this.#r,value:this.#c(),pageIndex:this.pageIndex,rect:n,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?(a.isCopy=!0,a):this.annotationElementId&&!this.#p(a)?null:(a.id=this.annotationElementId,a)}#p(t){const{value:e,fontSize:n,color:r,pageIndex:a}=this._initialData;return this._hasBeenMoved||t.value!==e||t.fontSize!==n||t.color.some((l,c)=>l!==r[c])||t.pageIndex!==a}renderAnnotationElement(t){const e=super.renderAnnotationElement(t);if(this.deleted)return e;const{style:n}=e;n.fontSize=`calc(${this.#r}px * var(--total-scale-factor))`,n.color=this.#t,e.replaceChildren();for(const a of this.#e.split(`
`)){const l=document.createElement("div");l.append(a?document.createTextNode(a):document.createElement("br")),e.append(l)}const r=pe._internalPadding*this.parentScale;return t.updateEdited({rect:this.getRect(r,r),popupContent:this.#e}),e}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}}class ot{static PRECISION=1e-4;toSVGPath(){Vt("Abstract method `toSVGPath` must be implemented.")}get box(){Vt("Abstract getter `box` must be implemented.")}serialize(t,e){Vt("Abstract method `serialize` must be implemented.")}static _rescale(t,e,n,r,a,l){l||=new Float32Array(t.length);for(let c=0,h=t.length;c<h;c+=2)l[c]=e+t[c]*r,l[c+1]=n+t[c+1]*a;return l}static _rescaleAndSwap(t,e,n,r,a,l){l||=new Float32Array(t.length);for(let c=0,h=t.length;c<h;c+=2)l[c]=e+t[c+1]*r,l[c+1]=n+t[c]*a;return l}static _translate(t,e,n,r){r||=new Float32Array(t.length);for(let a=0,l=t.length;a<l;a+=2)r[a]=e+t[a],r[a+1]=n+t[a+1];return r}static svgRound(t){return Math.round(t*1e4)}static _normalizePoint(t,e,n,r,a){switch(a){case 90:return[1-e/n,t/r];case 180:return[1-t/n,1-e/r];case 270:return[e/n,1-t/r];default:return[t/n,e/r]}}static _normalizePagePoint(t,e,n){switch(n){case 90:return[1-e,t];case 180:return[1-t,1-e];case 270:return[e,1-t];default:return[t,e]}}static createBezierPoints(t,e,n,r,a,l){return[(t+5*n)/6,(e+5*r)/6,(5*n+a)/6,(5*r+l)/6,(n+a)/2,(r+l)/2]}}class ts{#t;#e=[];#n;#i;#r=[];#s=new Float32Array(18);#o;#a;#h;#l;#d;#c;#f=[];static#p=8;static#m=2;static#u=ts.#p+ts.#m;constructor({x:t,y:e},n,r,a,l,c=0){this.#t=n,this.#c=a*r,this.#i=l,this.#s.set([NaN,NaN,NaN,NaN,t,e],6),this.#n=c,this.#l=ts.#p*r,this.#h=ts.#u*r,this.#d=r,this.#f.push(t,e)}isEmpty(){return isNaN(this.#s[8])}#g(){const t=this.#s.subarray(4,6),e=this.#s.subarray(16,18),[n,r,a,l]=this.#t;return[(this.#o+(t[0]-e[0])/2-n)/a,(this.#a+(t[1]-e[1])/2-r)/l,(this.#o+(e[0]-t[0])/2-n)/a,(this.#a+(e[1]-t[1])/2-r)/l]}add({x:t,y:e}){this.#o=t,this.#a=e;const[n,r,a,l]=this.#t;let[c,h,d,p]=this.#s.subarray(8,12);const m=t-d,y=e-p,w=Math.hypot(m,y);if(w<this.#h)return!1;const b=w-this.#l,x=b/w,S=x*m,E=x*y;let T=c,_=h;c=d,h=p,d+=S,p+=E,this.#f?.push(t,e);const P=-E/b,k=S/b,D=P*this.#c,N=k*this.#c;return this.#s.set(this.#s.subarray(2,8),0),this.#s.set([d+D,p+N],4),this.#s.set(this.#s.subarray(14,18),12),this.#s.set([d-D,p-N],16),isNaN(this.#s[6])?(this.#r.length===0&&(this.#s.set([c+D,h+N],2),this.#r.push(NaN,NaN,NaN,NaN,(c+D-n)/a,(h+N-r)/l),this.#s.set([c-D,h-N],14),this.#e.push(NaN,NaN,NaN,NaN,(c-D-n)/a,(h-N-r)/l)),this.#s.set([T,_,c,h,d,p],6),!this.isEmpty()):(this.#s.set([T,_,c,h,d,p],6),Math.abs(Math.atan2(_-h,T-c)-Math.atan2(E,S))<Math.PI/2?([c,h,d,p]=this.#s.subarray(2,6),this.#r.push(NaN,NaN,NaN,NaN,((c+d)/2-n)/a,((h+p)/2-r)/l),[c,h,T,_]=this.#s.subarray(14,18),this.#e.push(NaN,NaN,NaN,NaN,((T+c)/2-n)/a,((_+h)/2-r)/l),!0):([T,_,c,h,d,p]=this.#s.subarray(0,6),this.#r.push(((T+5*c)/6-n)/a,((_+5*h)/6-r)/l,((5*c+d)/6-n)/a,((5*h+p)/6-r)/l,((c+d)/2-n)/a,((h+p)/2-r)/l),[d,p,c,h,T,_]=this.#s.subarray(12,18),this.#e.push(((T+5*c)/6-n)/a,((_+5*h)/6-r)/l,((5*c+d)/6-n)/a,((5*h+p)/6-r)/l,((c+d)/2-n)/a,((h+p)/2-r)/l),!0))}toSVGPath(){if(this.isEmpty())return"";const t=this.#r,e=this.#e;if(isNaN(this.#s[6])&&!this.isEmpty())return this.#y();const n=[];n.push(`M${t[4]} ${t[5]}`);for(let r=6;r<t.length;r+=6)isNaN(t[r])?n.push(`L${t[r+4]} ${t[r+5]}`):n.push(`C${t[r]} ${t[r+1]} ${t[r+2]} ${t[r+3]} ${t[r+4]} ${t[r+5]}`);this.#b(n);for(let r=e.length-6;r>=6;r-=6)isNaN(e[r])?n.push(`L${e[r+4]} ${e[r+5]}`):n.push(`C${e[r]} ${e[r+1]} ${e[r+2]} ${e[r+3]} ${e[r+4]} ${e[r+5]}`);return this.#v(n),n.join(" ")}#y(){const[t,e,n,r]=this.#t,[a,l,c,h]=this.#g();return`M${(this.#s[2]-t)/n} ${(this.#s[3]-e)/r} L${(this.#s[4]-t)/n} ${(this.#s[5]-e)/r} L${a} ${l} L${c} ${h} L${(this.#s[16]-t)/n} ${(this.#s[17]-e)/r} L${(this.#s[14]-t)/n} ${(this.#s[15]-e)/r} Z`}#v(t){const e=this.#e;t.push(`L${e[4]} ${e[5]} Z`)}#b(t){const[e,n,r,a]=this.#t,l=this.#s.subarray(4,6),c=this.#s.subarray(16,18),[h,d,p,m]=this.#g();t.push(`L${(l[0]-e)/r} ${(l[1]-n)/a} L${h} ${d} L${p} ${m} L${(c[0]-e)/r} ${(c[1]-n)/a}`)}newFreeDrawOutline(t,e,n,r,a,l){return new Q0(t,e,n,r,a,l)}getOutlines(){const t=this.#r,e=this.#e,n=this.#s,[r,a,l,c]=this.#t,h=new Float32Array((this.#f?.length??0)+2);for(let m=0,y=h.length-2;m<y;m+=2)h[m]=(this.#f[m]-r)/l,h[m+1]=(this.#f[m+1]-a)/c;if(h[h.length-2]=(this.#o-r)/l,h[h.length-1]=(this.#a-a)/c,isNaN(n[6])&&!this.isEmpty())return this.#x(h);const d=new Float32Array(this.#r.length+24+this.#e.length);let p=t.length;for(let m=0;m<p;m+=2){if(isNaN(t[m])){d[m]=d[m+1]=NaN;continue}d[m]=t[m],d[m+1]=t[m+1]}p=this.#_(d,p);for(let m=e.length-6;m>=6;m-=6)for(let y=0;y<6;y+=2){if(isNaN(e[m+y])){d[p]=d[p+1]=NaN,p+=2;continue}d[p]=e[m+y],d[p+1]=e[m+y+1],p+=2}return this.#A(d,p),this.newFreeDrawOutline(d,h,this.#t,this.#d,this.#n,this.#i)}#x(t){const e=this.#s,[n,r,a,l]=this.#t,[c,h,d,p]=this.#g(),m=new Float32Array(36);return m.set([NaN,NaN,NaN,NaN,(e[2]-n)/a,(e[3]-r)/l,NaN,NaN,NaN,NaN,(e[4]-n)/a,(e[5]-r)/l,NaN,NaN,NaN,NaN,c,h,NaN,NaN,NaN,NaN,d,p,NaN,NaN,NaN,NaN,(e[16]-n)/a,(e[17]-r)/l,NaN,NaN,NaN,NaN,(e[14]-n)/a,(e[15]-r)/l],0),this.newFreeDrawOutline(m,t,this.#t,this.#d,this.#n,this.#i)}#A(t,e){const n=this.#e;return t.set([NaN,NaN,NaN,NaN,n[4],n[5]],e),e+=6}#_(t,e){const n=this.#s.subarray(4,6),r=this.#s.subarray(16,18),[a,l,c,h]=this.#t,[d,p,m,y]=this.#g();return t.set([NaN,NaN,NaN,NaN,(n[0]-a)/c,(n[1]-l)/h,NaN,NaN,NaN,NaN,d,p,NaN,NaN,NaN,NaN,m,y,NaN,NaN,NaN,NaN,(r[0]-a)/c,(r[1]-l)/h],e),e+=24}}class Q0 extends ot{#t;#e=new Float32Array(4);#n;#i;#r;#s;#o;constructor(t,e,n,r,a,l){super(),this.#o=t,this.#r=e,this.#t=n,this.#s=r,this.#n=a,this.#i=l,this.lastPoint=[NaN,NaN],this.#a(l);const[c,h,d,p]=this.#e;for(let m=0,y=t.length;m<y;m+=2)t[m]=(t[m]-c)/d,t[m+1]=(t[m+1]-h)/p;for(let m=0,y=e.length;m<y;m+=2)e[m]=(e[m]-c)/d,e[m+1]=(e[m+1]-h)/p}toSVGPath(){const t=[`M${this.#o[4]} ${this.#o[5]}`];for(let e=6,n=this.#o.length;e<n;e+=6){if(isNaN(this.#o[e])){t.push(`L${this.#o[e+4]} ${this.#o[e+5]}`);continue}t.push(`C${this.#o[e]} ${this.#o[e+1]} ${this.#o[e+2]} ${this.#o[e+3]} ${this.#o[e+4]} ${this.#o[e+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,e,n,r],a){const l=n-t,c=r-e;let h,d;switch(a){case 0:h=ot._rescale(this.#o,t,r,l,-c),d=ot._rescale(this.#r,t,r,l,-c);break;case 90:h=ot._rescaleAndSwap(this.#o,t,e,l,c),d=ot._rescaleAndSwap(this.#r,t,e,l,c);break;case 180:h=ot._rescale(this.#o,n,e,-l,c),d=ot._rescale(this.#r,n,e,-l,c);break;case 270:h=ot._rescaleAndSwap(this.#o,n,r,-l,-c),d=ot._rescaleAndSwap(this.#r,n,r,-l,-c);break}return{outline:Array.from(h),points:[Array.from(d)]}}#a(t){const e=this.#o;let n=e[4],r=e[5];const a=[n,r,n,r];let l=n,c=r;const h=t?Math.max:Math.min;for(let p=6,m=e.length;p<m;p+=6){const y=e[p+4],w=e[p+5];if(isNaN(e[p]))pt.pointBoundingBox(y,w,a),c<w?(l=y,c=w):c===w&&(l=h(l,y));else{const b=[1/0,1/0,-1/0,-1/0];pt.bezierBoundingBox(n,r,...e.slice(p,p+6),b),pt.rectBoundingBox(...b,a),c<b[3]?(l=b[2],c=b[3]):c===b[3]&&(l=h(l,b[2]))}n=y,r=w}const d=this.#e;d[0]=a[0]-this.#n,d[1]=a[1]-this.#n,d[2]=a[2]-a[0]+2*this.#n,d[3]=a[3]-a[1]+2*this.#n,this.lastPoint=[l,c]}get box(){return this.#e}newOutliner(t,e,n,r,a,l=0){return new ts(t,e,n,r,a,l)}getNewOutline(t,e){const[n,r,a,l]=this.#e,[c,h,d,p]=this.#t,m=a*d,y=l*p,w=n*d+c,b=r*p+h,x=this.newOutliner({x:this.#r[0]*m+w,y:this.#r[1]*y+b},this.#t,this.#s,t,this.#i,e??this.#n);for(let S=2;S<this.#r.length;S+=2)x.add({x:this.#r[S]*m+w,y:this.#r[S+1]*y+b});return x.getOutlines()}}class xh{#t;#e;#n=[];#i=[];constructor(t,e=0,n=0,r=!0){const a=[1/0,1/0,-1/0,-1/0],l=10**-4;for(const{x:w,y:b,width:x,height:S}of t){const E=Math.floor((w-e)/l)*l,T=Math.ceil((w+x+e)/l)*l,_=Math.floor((b-e)/l)*l,P=Math.ceil((b+S+e)/l)*l,k=[E,_,P,!0],D=[T,_,P,!1];this.#n.push(k,D),pt.rectBoundingBox(E,_,T,P,a)}const c=a[2]-a[0]+2*n,h=a[3]-a[1]+2*n,d=a[0]-n,p=a[1]-n,m=this.#n.at(r?-1:-2),y=[m[0],m[2]];for(const w of this.#n){const[b,x,S]=w;w[0]=(b-d)/c,w[1]=(x-p)/h,w[2]=(S-p)/h}this.#t=new Float32Array([d,p,c,h]),this.#e=y}getOutlines(){this.#n.sort((e,n)=>e[0]-n[0]||e[1]-n[1]||e[2]-n[2]);const t=[];for(const e of this.#n)e[3]?(t.push(...this.#h(e)),this.#o(e)):(this.#a(e),t.push(...this.#h(e)));return this.#r(t)}#r(t){const e=[],n=new Set;for(const l of t){const[c,h,d]=l;e.push([c,h,l],[c,d,l])}e.sort((l,c)=>l[1]-c[1]||l[0]-c[0]);for(let l=0,c=e.length;l<c;l+=2){const h=e[l][2],d=e[l+1][2];h.push(d),d.push(h),n.add(h),n.add(d)}const r=[];let a;for(;n.size>0;){const l=n.values().next().value;let[c,h,d,p,m]=l;n.delete(l);let y=c,w=h;for(a=[c,d],r.push(a);;){let b;if(n.has(p))b=p;else if(n.has(m))b=m;else break;n.delete(b),[c,h,d,p,m]=b,y!==c&&(a.push(y,w,c,w===h?h:d),y=c),w=w===h?d:h}a.push(y,w)}return new ck(r,this.#t,this.#e)}#s(t){const e=this.#i;let n=0,r=e.length-1;for(;n<=r;){const a=n+r>>1,l=e[a][0];if(l===t)return a;l<t?n=a+1:r=a-1}return r+1}#o([,t,e]){const n=this.#s(t);this.#i.splice(n,0,[t,e])}#a([,t,e]){const n=this.#s(t);for(let r=n;r<this.#i.length;r++){const[a,l]=this.#i[r];if(a!==t)break;if(a===t&&l===e){this.#i.splice(r,1);return}}for(let r=n-1;r>=0;r--){const[a,l]=this.#i[r];if(a!==t)break;if(a===t&&l===e){this.#i.splice(r,1);return}}}#h(t){const[e,n,r]=t,a=[[e,n,r]],l=this.#s(r);for(let c=0;c<l;c++){const[h,d]=this.#i[c];for(let p=0,m=a.length;p<m;p++){const[,y,w]=a[p];if(!(d<=y||w<=h)){if(y>=h){if(w>d)a[p][1]=d;else{if(m===1)return[];a.splice(p,1),p--,m--}continue}a[p][2]=h,w>d&&a.push([e,d,w])}}}return a}}class ck extends ot{#t;#e;constructor(t,e,n){super(),this.#e=t,this.#t=e,this.lastPoint=n}toSVGPath(){const t=[];for(const e of this.#e){let[n,r]=e;t.push(`M${n} ${r}`);for(let a=2;a<e.length;a+=2){const l=e[a],c=e[a+1];l===n?(t.push(`V${c}`),r=c):c===r&&(t.push(`H${l}`),n=l)}t.push("Z")}return t.join(" ")}serialize([t,e,n,r],a){const l=[],c=n-t,h=r-e;for(const d of this.#e){const p=new Array(d.length);for(let m=0;m<d.length;m+=2)p[m]=t+d[m]*c,p[m+1]=r-d[m+1]*h;l.push(p)}return l}get box(){return this.#t}get classNamesForOutlining(){return["highlightOutline"]}}class Ah extends ts{newFreeDrawOutline(t,e,n,r,a,l){return new uk(t,e,n,r,a,l)}}class uk extends Q0{newOutliner(t,e,n,r,a,l=0){return new Ah(t,e,n,r,a,l)}}class Je{#t=null;#e=null;#n;#i=null;#r=!1;#s=!1;#o=null;#a;#h=null;#l=null;#d;static#c=null;static get _keyboardManager(){return Mt(this,"_keyboardManager",new Co([[["Escape","mac+Escape"],Je.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Je.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Je.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Je.prototype._moveToPrevious],[["Home","mac+Home"],Je.prototype._moveToBeginning],[["End","mac+End"],Je.prototype._moveToEnd]]))}constructor({editor:t=null,uiManager:e=null}){t?(this.#s=!1,this.#d=It.HIGHLIGHT_COLOR,this.#o=t):(this.#s=!0,this.#d=It.HIGHLIGHT_DEFAULT_COLOR),this.#l=t?._uiManager||e,this.#a=this.#l._eventBus,this.#n=t?.color?.toUpperCase()||this.#l?.highlightColors.values().next().value||"#FFFF98",Je.#c||=Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"})}renderButton(){const t=this.#t=document.createElement("button");t.className="colorPicker",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),t.ariaHasPopup="true",this.#o&&(t.ariaControls=`${this.#o.id}_colorpicker_dropdown`);const e=this.#l._signal;t.addEventListener("click",this.#u.bind(this),{signal:e}),t.addEventListener("keydown",this.#m.bind(this),{signal:e});const n=this.#e=document.createElement("span");return n.className="swatch",n.ariaHidden="true",n.style.backgroundColor=this.#n,t.append(n),t}renderMainDropdown(){const t=this.#i=this.#f();return t.ariaOrientation="horizontal",t.ariaLabelledBy="highlightColorPickerLabel",t}#f(){const t=document.createElement("div"),e=this.#l._signal;t.addEventListener("contextmenu",pn,{signal:e}),t.className="dropdown",t.role="listbox",t.ariaMultiSelectable="false",t.ariaOrientation="vertical",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),this.#o&&(t.id=`${this.#o.id}_colorpicker_dropdown`);for(const[n,r]of this.#l.highlightColors){const a=document.createElement("button");a.tabIndex="0",a.role="option",a.setAttribute("data-color",r),a.title=n,a.setAttribute("data-l10n-id",Je.#c[n]);const l=document.createElement("span");a.append(l),l.className="swatch",l.style.backgroundColor=r,a.ariaSelected=r===this.#n,a.addEventListener("click",this.#p.bind(this,r),{signal:e}),t.append(a)}return t.addEventListener("keydown",this.#m.bind(this),{signal:e}),t}#p(t,e){e.stopPropagation(),this.#a.dispatch("switchannotationeditorparams",{source:this,type:this.#d,value:t})}_colorSelectFromKeyboard(t){if(t.target===this.#t){this.#u(t);return}const e=t.target.getAttribute("data-color");e&&this.#p(e,t)}_moveToNext(t){if(!this.#y){this.#u(t);return}if(t.target===this.#t){this.#i.firstChild?.focus();return}t.target.nextSibling?.focus()}_moveToPrevious(t){if(t.target===this.#i?.firstChild||t.target===this.#t){this.#y&&this._hideDropdownFromKeyboard();return}this.#y||this.#u(t),t.target.previousSibling?.focus()}_moveToBeginning(t){if(!this.#y){this.#u(t);return}this.#i.firstChild?.focus()}_moveToEnd(t){if(!this.#y){this.#u(t);return}this.#i.lastChild?.focus()}#m(t){Je._keyboardManager.exec(this,t)}#u(t){if(this.#y){this.hideDropdown();return}if(this.#r=t.detail===0,this.#h||(this.#h=new AbortController,window.addEventListener("pointerdown",this.#g.bind(this),{signal:this.#l.combinedSignal(this.#h)})),this.#t.ariaExpanded="true",this.#i){this.#i.classList.remove("hidden");return}const e=this.#i=this.#f();this.#t.append(e)}#g(t){this.#i?.contains(t.target)||this.hideDropdown()}hideDropdown(){this.#i?.classList.add("hidden"),this.#t.ariaExpanded="false",this.#h?.abort(),this.#h=null}get#y(){return this.#i&&!this.#i.classList.contains("hidden")}_hideDropdownFromKeyboard(){if(!this.#s){if(!this.#y){this.#o?.unselect();return}this.hideDropdown(),this.#t.focus({preventScroll:!0,focusVisible:this.#r})}}updateColor(t){if(this.#e&&(this.#e.style.backgroundColor=t),!this.#i)return;const e=this.#l.highlightColors.values();for(const n of this.#i.children)n.ariaSelected=e.next().value===t.toUpperCase()}destroy(){this.#t?.remove(),this.#t=null,this.#e=null,this.#i?.remove(),this.#i=null}}class ie extends vt{#t=null;#e=0;#n;#i=null;#r=null;#s=null;#o=null;#a=0;#h=null;#l=null;#d=null;#c=!1;#f=null;#p;#m=null;#u="";#g;#y="";static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=12;static _type="highlight";static _editorType=Et.HIGHLIGHT;static _freeHighlightId=-1;static _freeHighlight=null;static _freeHighlightClipId="";static get _keyboardManager(){const t=ie.prototype;return Mt(this,"_keyboardManager",new Co([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}constructor(t){super({...t,name:"highlightEditor"}),this.color=t.color||ie._defaultColor,this.#g=t.thickness||ie._defaultThickness,this.#p=t.opacity||ie._defaultOpacity,this.#n=t.boxes||null,this.#y=t.methodOfCreation||"",this.#u=t.text||"",this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",t.highlightId>-1?(this.#c=!0,this.#b(t),this.#P()):this.#n&&(this.#t=t.anchorNode,this.#e=t.anchorOffset,this.#o=t.focusNode,this.#a=t.focusOffset,this.#v(),this.#P(),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}get telemetryInitialData(){return{action:"added",type:this.#c?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:this.#g,methodOfCreation:this.#y}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}#v(){const t=new xh(this.#n,.001);this.#l=t.getOutlines(),[this.x,this.y,this.width,this.height]=this.#l.box;const e=new xh(this.#n,.0025,.001,this._uiManager.direction==="ltr");this.#s=e.getOutlines();const{lastPoint:n}=this.#s;this.#f=[(n[0]-this.x)/this.width,(n[1]-this.y)/this.height]}#b({highlightOutlines:t,highlightId:e,clipPathId:n}){this.#l=t;const r=1.5;if(this.#s=t.getNewOutline(this.#g/2+r,.0025),e>=0)this.#d=e,this.#i=n,this.parent.drawLayer.finalizeDraw(e,{bbox:t.box,path:{d:t.toSVGPath()}}),this.#m=this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:this.#s.box,path:{d:this.#s.toSVGPath()}},!0);else if(this.parent){const p=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(this.#d,{bbox:ie.#S(this.#l.box,(p-this.rotation+360)%360),path:{d:t.toSVGPath()}}),this.parent.drawLayer.updateProperties(this.#m,{bbox:ie.#S(this.#s.box,p),path:{d:this.#s.toSVGPath()}})}const[a,l,c,h]=t.box;switch(this.rotation){case 0:this.x=a,this.y=l,this.width=c,this.height=h;break;case 90:{const[p,m]=this.parentDimensions;this.x=l,this.y=1-a,this.width=c*m/p,this.height=h*p/m;break}case 180:this.x=1-a,this.y=1-l,this.width=c,this.height=h;break;case 270:{const[p,m]=this.parentDimensions;this.x=1-l,this.y=a,this.width=c*m/p,this.height=h*p/m;break}}const{lastPoint:d}=this.#s;this.#f=[(d[0]-a)/c,(d[1]-l)/h]}static initialize(t,e){vt.initialize(t,e),ie._defaultColor||=e.highlightColors?.values().next().value||"#fff066"}static updateDefaultParams(t,e){switch(t){case It.HIGHLIGHT_DEFAULT_COLOR:ie._defaultColor=e;break;case It.HIGHLIGHT_THICKNESS:ie._defaultThickness=e;break}}translateInPage(t,e){}get toolbarPosition(){return this.#f}updateParams(t,e){switch(t){case It.HIGHLIGHT_COLOR:this.#x(e);break;case It.HIGHLIGHT_THICKNESS:this.#A(e);break}}static get defaultPropertiesToUpdate(){return[[It.HIGHLIGHT_DEFAULT_COLOR,ie._defaultColor],[It.HIGHLIGHT_THICKNESS,ie._defaultThickness]]}get propertiesToUpdate(){return[[It.HIGHLIGHT_COLOR,this.color||ie._defaultColor],[It.HIGHLIGHT_THICKNESS,this.#g||ie._defaultThickness],[It.HIGHLIGHT_FREE,this.#c]]}#x(t){const e=(a,l)=>{this.color=a,this.#p=l,this.parent?.drawLayer.updateProperties(this.#d,{root:{fill:a,"fill-opacity":l}}),this.#r?.updateColor(a)},n=this.color,r=this.#p;this.addCommands({cmd:e.bind(this,t,ie._defaultOpacity),undo:e.bind(this,n,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:It.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(t)},!0)}#A(t){const e=this.#g,n=r=>{this.#g=r,this.#_(r)};this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,e),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:It.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",this.#r=new Je({editor:this})]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(this.#M())}getBaseTranslation(){return[0,0]}getRect(t,e){return super.getRect(t,e,this.#M())}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),t&&this.div.focus()}remove(){this.#T(),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#P(),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){let e=!1;this.parent&&!t?this.#T():t&&(this.#P(t),e=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(t),this.show(this._isVisible),e&&this.select()}#_(t){if(!this.#c)return;this.#b({highlightOutlines:this.#l.getNewOutline(t/2)}),this.fixAndSetPosition();const[e,n]=this.parentDimensions;this.setDims(this.width*e,this.height*n)}#T(){this.#d===null||!this.parent||(this.parent.drawLayer.remove(this.#d),this.#d=null,this.parent.drawLayer.remove(this.#m),this.#m=null)}#P(t=this.parent){this.#d===null&&({id:this.#d,clipPathId:this.#i}=t.drawLayer.draw({bbox:this.#l.box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.#p},rootClass:{highlight:!0,free:this.#c},path:{d:this.#l.toSVGPath()}},!1,!0),this.#m=t.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:this.#c},bbox:this.#s.box,path:{d:this.#s.toSVGPath()}},this.#c),this.#h&&(this.#h.style.clipPath=this.#i))}static#S([t,e,n,r],a){switch(a){case 90:return[1-e-r,t,r,n];case 180:return[1-t-n,1-e-r,n,r];case 270:return[e,1-t-n,r,n]}return[t,e,n,r]}rotate(t){const{drawLayer:e}=this.parent;let n;this.#c?(t=(t-this.rotation+360)%360,n=ie.#S(this.#l.box,t)):n=ie.#S([this.x,this.y,this.width,this.height],t),e.updateProperties(this.#d,{bbox:n,root:{"data-main-rotation":t}}),e.updateProperties(this.#m,{bbox:ie.#S(this.#s.box,t),root:{"data-main-rotation":t}})}render(){if(this.div)return this.div;const t=super.render();this.#u&&(t.setAttribute("aria-label",this.#u),t.setAttribute("role","mark")),this.#c?t.classList.add("free"):this.div.addEventListener("keydown",this.#k.bind(this),{signal:this._uiManager._signal});const e=this.#h=document.createElement("div");t.append(e),e.setAttribute("aria-hidden","true"),e.className="internal",e.style.clipPath=this.#i;const[n,r]=this.parentDimensions;return this.setDims(this.width*n,this.height*r),C0(this,this.#h,["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#m,{rootClass:{hovered:!0}})}pointerleave(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#m,{rootClass:{hovered:!1}})}#k(t){ie._keyboardManager.exec(this,t)}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:this.#C(!0);break;case 1:case 3:this.#C(!1);break}}#C(t){if(!this.#t)return;const e=window.getSelection();t?e.setPosition(this.#t,this.#e):e.setPosition(this.#o,this.#a)}select(){super.select(),this.#m&&this.parent?.drawLayer.updateProperties(this.#m,{rootClass:{hovered:!1,selected:!0}})}unselect(){super.unselect(),this.#m&&(this.parent?.drawLayer.updateProperties(this.#m,{rootClass:{selected:!1}}),this.#c||this.#C(!1))}get _mustFixPosition(){return!this.#c}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.updateProperties(this.#d,{rootClass:{hidden:!t}}),this.parent.drawLayer.updateProperties(this.#m,{rootClass:{hidden:!t}}))}#M(){return this.#c?this.rotation:0}#L(){if(this.#c)return null;const[t,e]=this.pageDimensions,[n,r]=this.pageTranslation,a=this.#n,l=new Float32Array(a.length*8);let c=0;for(const{x:h,y:d,width:p,height:m}of a){const y=h*t+n,w=(1-d)*e+r;l[c]=l[c+4]=y,l[c+1]=l[c+3]=w,l[c+2]=l[c+6]=y+p*t,l[c+5]=l[c+7]=w-m*e,c+=8}return l}#I(t){return this.#l.serialize(t,this.#M())}static startHighlighting(t,e,{target:n,x:r,y:a}){const{x:l,y:c,width:h,height:d}=n.getBoundingClientRect(),p=new AbortController,m=t.combinedSignal(p),y=w=>{p.abort(),this.#E(t,w)};window.addEventListener("blur",y,{signal:m}),window.addEventListener("pointerup",y,{signal:m}),window.addEventListener("pointerdown",re,{capture:!0,passive:!1,signal:m}),window.addEventListener("contextmenu",pn,{signal:m}),n.addEventListener("pointermove",this.#B.bind(this,t),{signal:m}),this._freeHighlight=new Ah({x:r,y:a},[l,c,h,d],t.scale,this._defaultThickness/2,e,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static#B(t,e){this._freeHighlight.add(e)&&t.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})}static#E(t,e){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(e,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}static async deserialize(t,e,n){let r=null;if(t instanceof K0){const{data:{quadPoints:b,rect:x,rotation:S,id:E,color:T,opacity:_,popupRef:P},parent:{page:{pageNumber:k}}}=t;r=t={annotationType:Et.HIGHLIGHT,color:Array.from(T),opacity:_,quadPoints:b,boxes:null,pageIndex:k-1,rect:x.slice(0),rotation:S,annotationElementId:E,id:E,deleted:!1,popupRef:P}}else if(t instanceof Ad){const{data:{inkLists:b,rect:x,rotation:S,id:E,color:T,borderStyle:{rawWidth:_},popupRef:P},parent:{page:{pageNumber:k}}}=t;r=t={annotationType:Et.HIGHLIGHT,color:Array.from(T),thickness:_,inkLists:b,boxes:null,pageIndex:k-1,rect:x.slice(0),rotation:S,annotationElementId:E,id:E,deleted:!1,popupRef:P}}const{color:a,quadPoints:l,inkLists:c,opacity:h}=t,d=await super.deserialize(t,e,n);d.color=pt.makeHexColor(...a),d.#p=h||1,c&&(d.#g=t.thickness),d._initialData=r;const[p,m]=d.pageDimensions,[y,w]=d.pageTranslation;if(l){const b=d.#n=[];for(let x=0;x<l.length;x+=8)b.push({x:(l[x]-y)/p,y:1-(l[x+1]-w)/m,width:(l[x+2]-l[x])/p,height:(l[x+1]-l[x+5])/m});d.#v(),d.#P(),d.rotate(d.rotation)}else if(c){d.#c=!0;const b=c[0],x={x:b[0]-y,y:m-(b[1]-w)},S=new Ah(x,[0,0,p,m],1,d.#g/2,!0,.001);for(let _=0,P=b.length;_<P;_+=2)x.x=b[_]-y,x.y=m-(b[_+1]-w),S.add(x);const{id:E,clipPathId:T}=e.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:d.color,"fill-opacity":d._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:S.toSVGPath()}},!0,!0);d.#b({highlightOutlines:S.getOutlines(),highlightId:E,clipPathId:T}),d.#P(),d.rotate(d.parentRotation)}return d}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const e=this.getRect(0,0),n=vt._colorManager.convert(this.color),r={annotationType:Et.HIGHLIGHT,color:n,opacity:this.#p,thickness:this.#g,quadPoints:this.#L(),outlines:this.#I(e),pageIndex:this.pageIndex,rect:e,rotation:this.#M(),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!this.#w(r)?null:(r.id=this.annotationElementId,r)}#w(t){const{color:e}=this._initialData;return t.color.some((n,r)=>n!==e[r])}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}}class Z0{#t=Object.create(null);updateProperty(t,e){this[t]=e,this.updateSVGProperty(t,e)}updateProperties(t){if(t)for(const[e,n]of Object.entries(t))e.startsWith("_")||this.updateProperty(e,n)}updateSVGProperty(t,e){this.#t[t]=e}toSVGProperties(){const t=this.#t;return this.#t=Object.create(null),{root:t}}reset(){this.#t=Object.create(null)}updateAll(t=this){this.updateProperties(t)}clone(){Vt("Not implemented")}}class bt extends vt{#t=null;#e;_drawId=null;static _currentDrawId=-1;static _currentParent=null;static#n=null;static#i=null;static#r=null;static#s=NaN;static#o=null;static#a=null;static#h=NaN;static _INNER_MARGIN=3;constructor(t){super(t),this.#e=t.mustBeCommitted||!1,this._addOutlines(t)}_addOutlines(t){t.drawOutlines&&(this.#l(t),this.#f())}#l({drawOutlines:t,drawId:e,drawingOptions:n}){this.#t=t,this._drawingOptions||=n,this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),e>=0?(this._drawId=e,this.parent.drawLayer.finalizeDraw(e,t.defaultProperties)):this._drawId=this.#d(t,this.parent),this.#u(t.box)}#d(t,e){const{id:n}=e.drawLayer.draw(bt._mergeSVGProperties(this._drawingOptions.toSVGProperties(),t.defaultSVGProperties),!1,!1);return n}static _mergeSVGProperties(t,e){const n=new Set(Object.keys(t));for(const[r,a]of Object.entries(e))n.has(r)?Object.assign(t[r],a):t[r]=a;return t}static getDefaultDrawingOptions(t){Vt("Not implemented")}static get typesMap(){Vt("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(t,e){const n=this.typesMap.get(t);n&&this._defaultDrawingOptions.updateProperty(n,e),this._currentParent&&(bt.#n.updateProperty(n,e),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(t,e){const n=this.constructor.typesMap.get(t);n&&this._updateProperty(t,n,e)}static get defaultPropertiesToUpdate(){const t=[],e=this._defaultDrawingOptions;for(const[n,r]of this.typesMap)t.push([n,e[r]]);return t}get propertiesToUpdate(){const t=[],{_drawingOptions:e}=this;for(const[n,r]of this.constructor.typesMap)t.push([n,e[r]]);return t}_updateProperty(t,e,n){const r=this._drawingOptions,a=r[e],l=c=>{r.updateProperty(e,c);const h=this.#t.updateProperty(e,c);h&&this.#u(h),this.parent?.drawLayer.updateProperties(this._drawId,r.toSVGProperties())};this.addCommands({cmd:l.bind(this,n),undo:l.bind(this,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:t,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){this.parent?.drawLayer.updateProperties(this._drawId,bt._mergeSVGProperties(this.#t.getPathResizingSVGProperties(this.#m()),{bbox:this.#g()}))}_onResized(){this.parent?.drawLayer.updateProperties(this._drawId,bt._mergeSVGProperties(this.#t.getPathResizedSVGProperties(this.#m()),{bbox:this.#g()}))}_onTranslating(t,e){this.parent?.drawLayer.updateProperties(this._drawId,{bbox:this.#g()})}_onTranslated(){this.parent?.drawLayer.updateProperties(this._drawId,bt._mergeSVGProperties(this.#t.getPathTranslatedSVGProperties(this.#m(),this.parentDimensions),{bbox:this.#g()}))}_onStartDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,this.#e&&(this.#e=!1,this.commit(),this.parent.setSelected(this),t&&this.isOnScreen&&this.div.focus())}remove(){this.#c(),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#f(),this.#u(this.#t.box),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){let e=!1;this.parent&&!t?(this._uiManager.removeShouldRescale(this),this.#c()):t&&(this._uiManager.addShouldRescale(this),this.#f(t),e=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(t),e&&this.select()}#c(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())}#f(t=this.parent){if(!(this._drawId!==null&&this.parent===t)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,t.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=this.#d(this.#t,t)}}#p([t,e,n,r]){const{parentDimensions:[a,l],rotation:c}=this;switch(c){case 90:return[e,1-t,n*(l/a),r*(a/l)];case 180:return[1-t,1-e,n,r];case 270:return[1-e,t,n*(l/a),r*(a/l)];default:return[t,e,n,r]}}#m(){const{x:t,y:e,width:n,height:r,parentDimensions:[a,l],rotation:c}=this;switch(c){case 90:return[1-e,t,n*(a/l),r*(l/a)];case 180:return[1-t,1-e,n,r];case 270:return[e,1-t,n*(a/l),r*(l/a)];default:return[t,e,n,r]}}#u(t){if([this.x,this.y,this.width,this.height]=this.#p(t),this.div){this.fixAndSetPosition();const[e,n]=this.parentDimensions;this.setDims(this.width*e,this.height*n)}this._onResized()}#g(){const{x:t,y:e,width:n,height:r,rotation:a,parentRotation:l,parentDimensions:[c,h]}=this;switch((a*4+l)/90){case 1:return[1-e-r,t,r,n];case 2:return[1-t-n,1-e-r,n,r];case 3:return[e,1-t-n,r,n];case 4:return[t,e-n*(c/h),r*(h/c),n*(c/h)];case 5:return[1-e,t,n*(c/h),r*(h/c)];case 6:return[1-t-r*(h/c),1-e,r*(h/c),n*(c/h)];case 7:return[e-n*(c/h),1-t-r*(h/c),n*(c/h),r*(h/c)];case 8:return[t-n,e-r,n,r];case 9:return[1-e,t-n,r,n];case 10:return[1-t,1-e,n,r];case 11:return[e-r,1-t,r,n];case 12:return[t-r*(h/c),e,r*(h/c),n*(c/h)];case 13:return[1-e-n*(c/h),t-r*(h/c),n*(c/h),r*(h/c)];case 14:return[1-t,1-e-n*(c/h),r*(h/c),n*(c/h)];case 15:return[e,1-t,n*(c/h),r*(h/c)];default:return[t,e,n,r]}}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,bt._mergeSVGProperties({bbox:this.#g()},this.#t.updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&this.#u(this.#t.updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let t,e;this._isCopy&&(t=this.x,e=this.y);const n=super.render();n.classList.add("draw");const r=document.createElement("div");n.append(r),r.setAttribute("aria-hidden","true"),r.className="internal";const[a,l]=this.parentDimensions;return this.setDims(this.width*a,this.height*l),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(t,e),n}static createDrawerInstance(t,e,n,r,a){Vt("Not implemented")}static startDrawing(t,e,n,r){const{target:a,offsetX:l,offsetY:c,pointerId:h,pointerType:d}=r;if(bt.#o&&bt.#o!==d)return;const{viewport:{rotation:p}}=t,{width:m,height:y}=a.getBoundingClientRect(),w=bt.#i=new AbortController,b=t.combinedSignal(w);if(bt.#s||=h,bt.#o??=d,window.addEventListener("pointerup",x=>{bt.#s===x.pointerId?this._endDraw(x):bt.#a?.delete(x.pointerId)},{signal:b}),window.addEventListener("pointercancel",x=>{bt.#s===x.pointerId?this._currentParent.endDrawingSession():bt.#a?.delete(x.pointerId)},{signal:b}),window.addEventListener("pointerdown",x=>{bt.#o===x.pointerType&&((bt.#a||=new Set).add(x.pointerId),bt.#n.isCancellable()&&(bt.#n.removeLastElement(),bt.#n.isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:b}),window.addEventListener("contextmenu",pn,{signal:b}),a.addEventListener("pointermove",this._drawMove.bind(this),{signal:b}),a.addEventListener("touchmove",x=>{x.timeStamp===bt.#h&&re(x)},{signal:b}),t.toggleDrawing(),e._editorUndoBar?.hide(),bt.#n){t.drawLayer.updateProperties(this._currentDrawId,bt.#n.startNew(l,c,m,y,p));return}e.updateUIForDefaultProperties(this),bt.#n=this.createDrawerInstance(l,c,m,y,p),bt.#r=this.getDefaultDrawingOptions(),this._currentParent=t,{id:this._currentDrawId}=t.drawLayer.draw(this._mergeSVGProperties(bt.#r.toSVGProperties(),bt.#n.defaultSVGProperties),!0,!1)}static _drawMove(t){if(bt.#h=-1,!bt.#n)return;const{offsetX:e,offsetY:n,pointerId:r}=t;if(bt.#s===r){if(bt.#a?.size>=1){this._endDraw(t);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,bt.#n.add(e,n)),bt.#h=t.timeStamp,re(t)}}static _cleanup(t){t&&(this._currentDrawId=-1,this._currentParent=null,bt.#n=null,bt.#r=null,bt.#o=null,bt.#h=NaN),bt.#i&&(bt.#i.abort(),bt.#i=null,bt.#s=NaN,bt.#a=null)}static _endDraw(t){const e=this._currentParent;if(e){if(e.toggleDrawing(!0),this._cleanup(!1),t?.target===e.div&&e.drawLayer.updateProperties(this._currentDrawId,bt.#n.end(t.offsetX,t.offsetY)),this.supportMultipleDrawings){const n=bt.#n,r=this._currentDrawId,a=n.getLastElement();e.addCommands({cmd:()=>{e.drawLayer.updateProperties(r,n.setLastElement(a))},undo:()=>{e.drawLayer.updateProperties(r,n.removeLastElement())},mustExec:!1,type:It.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(t){const e=this._currentParent;if(!e)return null;if(e.toggleDrawing(!0),e.cleanUndoStack(It.DRAW_STEP),!bt.#n.isEmpty()){const{pageDimensions:[n,r],scale:a}=e,l=e.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:bt.#n.getOutlines(n*a,r*a,a,this._INNER_MARGIN),drawingOptions:bt.#r,mustBeCommitted:!t});return this._cleanup(!0),l}return e.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(t){}static deserializeDraw(t,e,n,r,a,l){Vt("Not implemented")}static async deserialize(t,e,n){const{rawDims:{pageWidth:r,pageHeight:a,pageX:l,pageY:c}}=e.viewport,h=this.deserializeDraw(l,c,r,a,this._INNER_MARGIN,t),d=await super.deserialize(t,e,n);return d.createDrawingOptions(t),d.#l({drawOutlines:h}),d.#f(),d.onScaleChanging(),d.rotate(),d}serializeDraw(t){const[e,n]=this.pageTranslation,[r,a]=this.pageDimensions;return this.#t.serialize([e,n,r,a],t)}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}}class hk{#t=new Float64Array(6);#e;#n;#i;#r;#s;#o="";#a=0;#h=new Po;#l;#d;constructor(t,e,n,r,a,l){this.#l=n,this.#d=r,this.#i=a,this.#r=l,[t,e]=this.#c(t,e);const c=this.#e=[NaN,NaN,NaN,NaN,t,e];this.#s=[t,e],this.#n=[{line:c,points:this.#s}],this.#t.set(c,0)}updateProperty(t,e){t==="stroke-width"&&(this.#r=e)}#c(t,e){return ot._normalizePoint(t,e,this.#l,this.#d,this.#i)}isEmpty(){return!this.#n||this.#n.length===0}isCancellable(){return this.#s.length<=10}add(t,e){[t,e]=this.#c(t,e);const[n,r,a,l]=this.#t.subarray(2,6),c=t-a,h=e-l;return Math.hypot(this.#l*c,this.#d*h)<=2?null:(this.#s.push(t,e),isNaN(n)?(this.#t.set([a,l,t,e],2),this.#e.push(NaN,NaN,NaN,NaN,t,e),{path:{d:this.toSVGPath()}}):(isNaN(this.#t[0])&&this.#e.splice(6,6),this.#t.set([n,r,a,l,t,e],0),this.#e.push(...ot.createBezierPoints(n,r,a,l,t,e)),{path:{d:this.toSVGPath()}}))}end(t,e){const n=this.add(t,e);return n||(this.#s.length===2?{path:{d:this.toSVGPath()}}:null)}startNew(t,e,n,r,a){this.#l=n,this.#d=r,this.#i=a,[t,e]=this.#c(t,e);const l=this.#e=[NaN,NaN,NaN,NaN,t,e];this.#s=[t,e];const c=this.#n.at(-1);return c&&(c.line=new Float32Array(c.line),c.points=new Float32Array(c.points)),this.#n.push({line:l,points:this.#s}),this.#t.set(l,0),this.#a=0,this.toSVGPath(),null}getLastElement(){return this.#n.at(-1)}setLastElement(t){return this.#n?(this.#n.push(t),this.#e=t.line,this.#s=t.points,this.#a=0,{path:{d:this.toSVGPath()}}):this.#h.setLastElement(t)}removeLastElement(){if(!this.#n)return this.#h.removeLastElement();this.#n.pop(),this.#o="";for(let t=0,e=this.#n.length;t<e;t++){const{line:n,points:r}=this.#n[t];this.#e=n,this.#s=r,this.#a=0,this.toSVGPath()}return{path:{d:this.#o}}}toSVGPath(){const t=ot.svgRound(this.#e[4]),e=ot.svgRound(this.#e[5]);if(this.#s.length===2)return this.#o=`${this.#o} M ${t} ${e} Z`,this.#o;if(this.#s.length<=6){const r=this.#o.lastIndexOf("M");this.#o=`${this.#o.slice(0,r)} M ${t} ${e}`,this.#a=6}if(this.#s.length===4){const r=ot.svgRound(this.#e[10]),a=ot.svgRound(this.#e[11]);return this.#o=`${this.#o} L ${r} ${a}`,this.#a=12,this.#o}const n=[];this.#a===0&&(n.push(`M ${t} ${e}`),this.#a=6);for(let r=this.#a,a=this.#e.length;r<a;r+=6){const[l,c,h,d,p,m]=this.#e.slice(r,r+6).map(ot.svgRound);n.push(`C${l} ${c} ${h} ${d} ${p} ${m}`)}return this.#o+=n.join(" "),this.#a=this.#e.length,this.#o}getOutlines(t,e,n,r){const a=this.#n.at(-1);return a.line=new Float32Array(a.line),a.points=new Float32Array(a.points),this.#h.build(this.#n,t,e,n,this.#i,this.#r,r),this.#t=null,this.#e=null,this.#n=null,this.#o=null,this.#h}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}class Po extends ot{#t;#e=0;#n;#i;#r;#s;#o;#a;#h;build(t,e,n,r,a,l,c){this.#r=e,this.#s=n,this.#o=r,this.#a=a,this.#h=l,this.#n=c??0,this.#i=t,this.#c()}get thickness(){return this.#h}setLastElement(t){return this.#i.push(t),{path:{d:this.toSVGPath()}}}removeLastElement(){return this.#i.pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const t=[];for(const{line:e}of this.#i){if(t.push(`M${ot.svgRound(e[4])} ${ot.svgRound(e[5])}`),e.length===6){t.push("Z");continue}if(e.length===12&&isNaN(e[6])){t.push(`L${ot.svgRound(e[10])} ${ot.svgRound(e[11])}`);continue}for(let n=6,r=e.length;n<r;n+=6){const[a,l,c,h,d,p]=e.subarray(n,n+6).map(ot.svgRound);t.push(`C${a} ${l} ${c} ${h} ${d} ${p}`)}}return t.join("")}serialize([t,e,n,r],a){const l=[],c=[],[h,d,p,m]=this.#d();let y,w,b,x,S,E,T,_,P;switch(this.#a){case 0:P=ot._rescale,y=t,w=e+r,b=n,x=-r,S=t+h*n,E=e+(1-d-m)*r,T=t+(h+p)*n,_=e+(1-d)*r;break;case 90:P=ot._rescaleAndSwap,y=t,w=e,b=n,x=r,S=t+d*n,E=e+h*r,T=t+(d+m)*n,_=e+(h+p)*r;break;case 180:P=ot._rescale,y=t+n,w=e,b=-n,x=r,S=t+(1-h-p)*n,E=e+d*r,T=t+(1-h)*n,_=e+(d+m)*r;break;case 270:P=ot._rescaleAndSwap,y=t+n,w=e+r,b=-n,x=-r,S=t+(1-d-m)*n,E=e+(1-h-p)*r,T=t+(1-d)*n,_=e+(1-h)*r;break}for(const{line:k,points:D}of this.#i)l.push(P(k,y,w,b,x,a?new Array(k.length):null)),c.push(P(D,y,w,b,x,a?new Array(D.length):null));return{lines:l,points:c,rect:[S,E,T,_]}}static deserialize(t,e,n,r,a,{paths:{lines:l,points:c},rotation:h,thickness:d}){const p=[];let m,y,w,b,x;switch(h){case 0:x=ot._rescale,m=-t/n,y=e/r+1,w=1/n,b=-1/r;break;case 90:x=ot._rescaleAndSwap,m=-e/r,y=-t/n,w=1/r,b=1/n;break;case 180:x=ot._rescale,m=t/n+1,y=-e/r,w=-1/n,b=1/r;break;case 270:x=ot._rescaleAndSwap,m=e/r+1,y=t/n+1,w=-1/r,b=-1/n;break}if(!l){l=[];for(const E of c){const T=E.length;if(T===2){l.push(new Float32Array([NaN,NaN,NaN,NaN,E[0],E[1]]));continue}if(T===4){l.push(new Float32Array([NaN,NaN,NaN,NaN,E[0],E[1],NaN,NaN,NaN,NaN,E[2],E[3]]));continue}const _=new Float32Array(3*(T-2));l.push(_);let[P,k,D,N]=E.subarray(0,4);_.set([NaN,NaN,NaN,NaN,P,k],0);for(let L=4;L<T;L+=2){const $=E[L],K=E[L+1];_.set(ot.createBezierPoints(P,k,D,N,$,K),(L-2)*3),[P,k,D,N]=[D,N,$,K]}}}for(let E=0,T=l.length;E<T;E++)p.push({line:x(l[E].map(_=>_??NaN),m,y,w,b),points:x(c[E].map(_=>_??NaN),m,y,w,b)});const S=new this.prototype.constructor;return S.build(p,n,r,1,h,d,a),S}#l(t=this.#h){const e=this.#n+t/2*this.#o;return this.#a%180===0?[e/this.#r,e/this.#s]:[e/this.#s,e/this.#r]}#d(){const[t,e,n,r]=this.#t,[a,l]=this.#l(0);return[t+a,e+l,n-2*a,r-2*l]}#c(){const t=this.#t=new Float32Array([1/0,1/0,-1/0,-1/0]);for(const{line:r}of this.#i){if(r.length<=12){for(let c=4,h=r.length;c<h;c+=6)pt.pointBoundingBox(r[c],r[c+1],t);continue}let a=r[4],l=r[5];for(let c=6,h=r.length;c<h;c+=6){const[d,p,m,y,w,b]=r.subarray(c,c+6);pt.bezierBoundingBox(a,l,d,p,m,y,w,b,t),a=w,l=b}}const[e,n]=this.#l();t[0]=Le(t[0]-e,0,1),t[1]=Le(t[1]-n,0,1),t[2]=Le(t[2]+e,0,1),t[3]=Le(t[3]+n,0,1),t[2]-=t[0],t[3]-=t[1]}get box(){return this.#t}updateProperty(t,e){return t==="stroke-width"?this.#f(e):null}#f(t){const[e,n]=this.#l();this.#h=t;const[r,a]=this.#l(),[l,c]=[r-e,a-n],h=this.#t;return h[0]-=l,h[1]-=c,h[2]+=2*l,h[3]+=2*c,h}updateParentDimensions([t,e],n){const[r,a]=this.#l();this.#r=t,this.#s=e,this.#o=n;const[l,c]=this.#l(),h=l-r,d=c-a,p=this.#t;return p[0]-=h,p[1]-=d,p[2]+=2*h,p[3]+=2*d,p}updateRotation(t){return this.#e=t,{path:{transform:this.rotationTransform}}}get viewBox(){return this.#t.map(ot.svgRound).join(" ")}get defaultProperties(){const[t,e]=this.#t;return{root:{viewBox:this.viewBox},path:{"transform-origin":`${ot.svgRound(t)} ${ot.svgRound(e)}`}}}get rotationTransform(){const[,,t,e]=this.#t;let n=0,r=0,a=0,l=0,c=0,h=0;switch(this.#e){case 90:r=e/t,a=-t/e,c=t;break;case 180:n=-1,l=-1,c=t,h=e;break;case 270:r=-e/t,a=t/e,h=e;break;default:return""}return`matrix(${n} ${r} ${a} ${l} ${ot.svgRound(c)} ${ot.svgRound(h)})`}getPathResizingSVGProperties([t,e,n,r]){const[a,l]=this.#l(),[c,h,d,p]=this.#t;if(Math.abs(d-a)<=ot.PRECISION||Math.abs(p-l)<=ot.PRECISION){const x=t+n/2-(c+d/2),S=e+r/2-(h+p/2);return{path:{"transform-origin":`${ot.svgRound(t)} ${ot.svgRound(e)}`,transform:`${this.rotationTransform} translate(${x} ${S})`}}}const m=(n-2*a)/(d-2*a),y=(r-2*l)/(p-2*l),w=d/n,b=p/r;return{path:{"transform-origin":`${ot.svgRound(c)} ${ot.svgRound(h)}`,transform:`${this.rotationTransform} scale(${w} ${b}) translate(${ot.svgRound(a)} ${ot.svgRound(l)}) scale(${m} ${y}) translate(${ot.svgRound(-a)} ${ot.svgRound(-l)})`}}}getPathResizedSVGProperties([t,e,n,r]){const[a,l]=this.#l(),c=this.#t,[h,d,p,m]=c;if(c[0]=t,c[1]=e,c[2]=n,c[3]=r,Math.abs(p-a)<=ot.PRECISION||Math.abs(m-l)<=ot.PRECISION){const S=t+n/2-(h+p/2),E=e+r/2-(d+m/2);for(const{line:T,points:_}of this.#i)ot._translate(T,S,E,T),ot._translate(_,S,E,_);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${ot.svgRound(t)} ${ot.svgRound(e)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const y=(n-2*a)/(p-2*a),w=(r-2*l)/(m-2*l),b=-y*(h+a)+t+a,x=-w*(d+l)+e+l;if(y!==1||w!==1||b!==0||x!==0)for(const{line:S,points:E}of this.#i)ot._rescale(S,b,x,y,w,S),ot._rescale(E,b,x,y,w,E);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${ot.svgRound(t)} ${ot.svgRound(e)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([t,e],n){const[r,a]=n,l=this.#t,c=t-l[0],h=e-l[1];if(this.#r===r&&this.#s===a)for(const{line:d,points:p}of this.#i)ot._translate(d,c,h,d),ot._translate(p,c,h,p);else{const d=this.#r/r,p=this.#s/a;this.#r=r,this.#s=a;for(const{line:m,points:y}of this.#i)ot._rescale(m,c,h,d,p,m),ot._rescale(y,c,h,d,p,y);l[2]*=d,l[3]*=p}return l[0]=t,l[1]=e,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${ot.svgRound(t)} ${ot.svgRound(e)}`}}}get defaultSVGProperties(){const t=this.#t;return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${ot.svgRound(t[0])} ${ot.svgRound(t[1])}`,transform:this.rotationTransform||null},bbox:t}}}class Sl extends Z0{constructor(t){super(),this._viewParameters=t,super.updateProperties({fill:"none",stroke:vt._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(t,e){t==="stroke-width"&&(e??=this["stroke-width"],e*=this._viewParameters.realScale),super.updateSVGProperty(t,e)}clone(){const t=new Sl(this._viewParameters);return t.updateAll(this),t}}class Ed extends bt{static _type="ink";static _editorType=Et.INK;static _defaultDrawingOptions=null;constructor(t){super({...t,name:"inkEditor"}),this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(t,e){vt.initialize(t,e),this._defaultDrawingOptions=new Sl(e.viewParameters)}static getDefaultDrawingOptions(t){const e=this._defaultDrawingOptions.clone();return e.updateProperties(t),e}static get supportMultipleDrawings(){return!0}static get typesMap(){return Mt(this,"typesMap",new Map([[It.INK_THICKNESS,"stroke-width"],[It.INK_COLOR,"stroke"],[It.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(t,e,n,r,a){return new hk(t,e,n,r,a,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(t,e,n,r,a,l){return Po.deserialize(t,e,n,r,a,l)}static async deserialize(t,e,n){let r=null;if(t instanceof Ad){const{data:{inkLists:l,rect:c,rotation:h,id:d,color:p,opacity:m,borderStyle:{rawWidth:y},popupRef:w},parent:{page:{pageNumber:b}}}=t;r=t={annotationType:Et.INK,color:Array.from(p),thickness:y,opacity:m,paths:{points:l},boxes:null,pageIndex:b-1,rect:c.slice(0),rotation:h,annotationElementId:d,id:d,deleted:!1,popupRef:w}}const a=await super.deserialize(t,e,n);return a._initialData=r,a}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:t,_drawingOptions:e,parent:n}=this;e.updateSVGProperty("stroke-width"),n.drawLayer.updateProperties(t,e.toSVGProperties())}static onScaleChangingWhenDrawing(){const t=this._currentParent;t&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),t.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:t,thickness:e,opacity:n}){this._drawingOptions=Ed.getDefaultDrawingOptions({stroke:pt.makeHexColor(...t),"stroke-width":e,"stroke-opacity":n})}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:e,points:n,rect:r}=this.serializeDraw(t),{_drawingOptions:{stroke:a,"stroke-opacity":l,"stroke-width":c}}=this,h={annotationType:Et.INK,color:vt._colorManager.convert(a),opacity:l,thickness:c,paths:{lines:e,points:n},pageIndex:this.pageIndex,rect:r,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?(h.isCopy=!0,h):this.annotationElementId&&!this.#t(h)?null:(h.id=this.annotationElementId,h)}#t(t){const{color:e,thickness:n,opacity:r,pageIndex:a}=this._initialData;return this._hasBeenMoved||this._hasBeenResized||t.color.some((l,c)=>l!==e[c])||t.thickness!==n||t.opacity!==r||t.pageIndex!==a}renderAnnotationElement(t){const{points:e,rect:n}=this.serializeDraw(!1);return t.updateEdited({rect:n,thickness:this._drawingOptions["stroke-width"],points:e}),null}}class Sh extends Po{toSVGPath(){let t=super.toSVGPath();return t.endsWith("Z")||(t+="Z"),t}}const tl=8,qr=3;class Qi{static#t={maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16};static#e(t,e,n,r){return n-=t,r-=e,n===0?r>0?0:4:n===1?r+6:2-r}static#n=new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]);static#i(t,e,n,r,a,l,c){const h=this.#e(n,r,a,l);for(let d=0;d<8;d++){const p=(-d+h-c+16)%8,m=this.#n[2*p],y=this.#n[2*p+1];if(t[(n+m)*e+(r+y)]!==0)return p}return-1}static#r(t,e,n,r,a,l,c){const h=this.#e(n,r,a,l);for(let d=0;d<8;d++){const p=(d+h+c+16)%8,m=this.#n[2*p],y=this.#n[2*p+1];if(t[(n+m)*e+(r+y)]!==0)return p}return-1}static#s(t,e,n,r){const a=t.length,l=new Int32Array(a);for(let p=0;p<a;p++)l[p]=t[p]<=r?1:0;for(let p=1;p<n-1;p++)l[p*e]=l[p*e+e-1]=0;for(let p=0;p<e;p++)l[p]=l[e*n-1-p]=0;let c=1,h;const d=[];for(let p=1;p<n-1;p++){h=1;for(let m=1;m<e-1;m++){const y=p*e+m,w=l[y];if(w===0)continue;let b=p,x=m;if(w===1&&l[y-1]===0)c+=1,x-=1;else if(w>=1&&l[y+1]===0)c+=1,x+=1,w>1&&(h=w);else{w!==1&&(h=Math.abs(w));continue}const S=[m,p],E=x===m+1,T={isHole:E,points:S,id:c,parent:0};d.push(T);let _;for(const Z of d)if(Z.id===h){_=Z;break}_?_.isHole?T.parent=E?_.parent:h:T.parent=E?h:_.parent:T.parent=E?h:0;const P=this.#i(l,e,p,m,b,x,0);if(P===-1){l[y]=-c,l[y]!==1&&(h=Math.abs(l[y]));continue}let k=this.#n[2*P],D=this.#n[2*P+1];const N=p+k,L=m+D;b=N,x=L;let $=p,K=m;for(;;){const Z=this.#r(l,e,$,K,b,x,1);k=this.#n[2*Z],D=this.#n[2*Z+1];const ft=$+k,dt=K+D;S.push(dt,ft);const nt=$*e+K;if(l[nt+1]===0?l[nt]=-c:l[nt]===1&&(l[nt]=c),ft===p&&dt===m&&$===N&&K===L){l[y]!==1&&(h=Math.abs(l[y]));break}else b=$,x=K,$=ft,K=dt}}}return d}static#o(t,e,n,r){if(n-e<=4){for(let N=e;N<n-2;N+=2)r.push(t[N],t[N+1]);return}const a=t[e],l=t[e+1],c=t[n-4]-a,h=t[n-3]-l,d=Math.hypot(c,h),p=c/d,m=h/d,y=p*l-m*a,w=h/c,b=1/d,x=Math.atan(w),S=Math.cos(x),E=Math.sin(x),T=b*(Math.abs(S)+Math.abs(E)),_=b*(1-T+T**2),P=Math.max(Math.atan(Math.abs(E+S)*_),Math.atan(Math.abs(E-S)*_));let k=0,D=e;for(let N=e+2;N<n-2;N+=2){const L=Math.abs(y-p*t[N+1]+m*t[N]);L>k&&(D=N,k=L)}k>(d*P)**2?(this.#o(t,e,D+2,r),this.#o(t,D,n,r)):r.push(a,l)}static#a(t){const e=[],n=t.length;return this.#o(t,0,n,e),e.push(t[n-2],t[n-1]),e.length<=4?null:e}static#h(t,e,n,r,a,l){const c=new Float32Array(l**2),h=-2*r**2,d=l>>1;for(let x=0;x<l;x++){const S=(x-d)**2;for(let E=0;E<l;E++)c[x*l+E]=Math.exp((S+(E-d)**2)/h)}const p=new Float32Array(256),m=-2*a**2;for(let x=0;x<256;x++)p[x]=Math.exp(x**2/m);const y=t.length,w=new Uint8Array(y),b=new Uint32Array(256);for(let x=0;x<n;x++)for(let S=0;S<e;S++){const E=x*e+S,T=t[E];let _=0,P=0;for(let D=0;D<l;D++){const N=x+D-d;if(!(N<0||N>=n))for(let L=0;L<l;L++){const $=S+L-d;if($<0||$>=e)continue;const K=t[N*e+$],Z=c[D*l+L]*p[Math.abs(K-T)];_+=K*Z,P+=Z}}const k=w[E]=Math.round(_/P);b[k]++}return[w,b]}static#l(t){const e=new Uint32Array(256);for(const n of t)e[n]++;return e}static#d(t){const e=t.length,n=new Uint8ClampedArray(e>>2);let r=-1/0,a=1/0;for(let c=0,h=n.length;c<h;c++){if(t[(c<<2)+3]===0){r=n[c]=255;continue}const p=n[c]=t[c<<2];p>r&&(r=p),p<a&&(a=p)}const l=255/(r-a);for(let c=0;c<e;c++)n[c]=(n[c]-a)*l;return n}static#c(t){let e,n=-1/0,r=-1/0;const a=t.findIndex(h=>h!==0);let l=a,c=a;for(e=a;e<256;e++){const h=t[e];h>n&&(e-l>r&&(r=e-l,c=e-1),n=h,l=e)}for(e=c-1;e>=0&&!(t[e]>t[e+1]);e--);return e}static#f(t){const e=t,{width:n,height:r}=t,{maxDim:a}=this.#t;let l=n,c=r;if(n>a||r>a){let y=n,w=r,b=Math.log2(Math.max(n,r)/a);const x=Math.floor(b);b=b===x?x-1:x;for(let E=0;E<b;E++){l=Math.ceil(y/2),c=Math.ceil(w/2);const T=new OffscreenCanvas(l,c);T.getContext("2d").drawImage(t,0,0,y,w,0,0,l,c),y=l,w=c,t!==e&&t.close(),t=T.transferToImageBitmap()}const S=Math.min(a/l,a/c);l=Math.round(l*S),c=Math.round(c*S)}const d=new OffscreenCanvas(l,c).getContext("2d",{willReadFrequently:!0});d.filter="grayscale(1)",d.drawImage(t,0,0,t.width,t.height,0,0,l,c);const p=d.getImageData(0,0,l,c).data;return[this.#d(p),l,c]}static extractContoursFromText(t,{fontFamily:e,fontStyle:n,fontWeight:r},a,l,c,h){let d=new OffscreenCanvas(1,1),p=d.getContext("2d",{alpha:!1});const m=200,y=p.font=`${n} ${r} ${m}px ${e}`,{actualBoundingBoxLeft:w,actualBoundingBoxRight:b,actualBoundingBoxAscent:x,actualBoundingBoxDescent:S,fontBoundingBoxAscent:E,fontBoundingBoxDescent:T,width:_}=p.measureText(t),P=1.5,k=Math.ceil(Math.max(Math.abs(w)+Math.abs(b)||0,_)*P),D=Math.ceil(Math.max(Math.abs(x)+Math.abs(S)||m,Math.abs(E)+Math.abs(T)||m)*P);d=new OffscreenCanvas(k,D),p=d.getContext("2d",{alpha:!0,willReadFrequently:!0}),p.font=y,p.filter="grayscale(1)",p.fillStyle="white",p.fillRect(0,0,k,D),p.fillStyle="black",p.fillText(t,k*(P-1)/2,D*(3-P)/2);const N=this.#d(p.getImageData(0,0,k,D).data),L=this.#l(N),$=this.#c(L),K=this.#s(N,k,D,$);return this.processDrawnLines({lines:{curves:K,width:k,height:D},pageWidth:a,pageHeight:l,rotation:c,innerMargin:h,mustSmooth:!0,areContours:!0})}static process(t,e,n,r,a){const[l,c,h]=this.#f(t),[d,p]=this.#h(l,c,h,Math.hypot(c,h)*this.#t.sigmaSFactor,this.#t.sigmaR,this.#t.kernelSize),m=this.#c(p),y=this.#s(d,c,h,m);return this.processDrawnLines({lines:{curves:y,width:c,height:h},pageWidth:e,pageHeight:n,rotation:r,innerMargin:a,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:t,pageWidth:e,pageHeight:n,rotation:r,innerMargin:a,mustSmooth:l,areContours:c}){r%180!==0&&([e,n]=[n,e]);const{curves:h,width:d,height:p}=t,m=t.thickness??0,y=[],w=Math.min(e/d,n/p),b=w/e,x=w/n,S=[];for(const{points:T}of h){const _=l?this.#a(T):T;if(!_)continue;S.push(_);const P=_.length,k=new Float32Array(P),D=new Float32Array(3*(P===2?2:P-2));if(y.push({line:D,points:k}),P===2){k[0]=_[0]*b,k[1]=_[1]*x,D.set([NaN,NaN,NaN,NaN,k[0],k[1]],0);continue}let[N,L,$,K]=_;N*=b,L*=x,$*=b,K*=x,k.set([N,L,$,K],0),D.set([NaN,NaN,NaN,NaN,N,L],0);for(let Z=4;Z<P;Z+=2){const ft=k[Z]=_[Z]*b,dt=k[Z+1]=_[Z+1]*x;D.set(ot.createBezierPoints(N,L,$,K,ft,dt),(Z-2)*3),[N,L,$,K]=[$,K,ft,dt]}}if(y.length===0)return null;const E=c?new Sh:new Po;return E.build(y,e,n,1,r,c?0:m,a),{outline:E,newCurves:S,areContours:c,thickness:m,width:d,height:p}}static async compressSignature({outlines:t,areContours:e,thickness:n,width:r,height:a}){let l=1/0,c=-1/0,h=0;for(const _ of t){h+=_.length;for(let P=2,k=_.length;P<k;P++){const D=_[P]-_[P-2];l=Math.min(l,D),c=Math.max(c,D)}}let d;l>=-128&&c<=127?d=Int8Array:l>=-32768&&c<=32767?d=Int16Array:d=Int32Array;const p=t.length,m=tl+qr*p,y=new Uint32Array(m);let w=0;y[w++]=m*Uint32Array.BYTES_PER_ELEMENT+(h-2*p)*d.BYTES_PER_ELEMENT,y[w++]=0,y[w++]=r,y[w++]=a,y[w++]=e?0:1,y[w++]=Math.max(0,Math.floor(n??0)),y[w++]=p,y[w++]=d.BYTES_PER_ELEMENT;for(const _ of t)y[w++]=_.length-2,y[w++]=_[0],y[w++]=_[1];const b=new CompressionStream("deflate-raw"),x=b.writable.getWriter();await x.ready,x.write(y);const S=d.prototype.constructor;for(const _ of t){const P=new S(_.length-2);for(let k=2,D=_.length;k<D;k++)P[k-2]=_[k]-_[k-2];x.write(P)}x.close();const E=await new Response(b.readable).arrayBuffer(),T=new Uint8Array(E);return A0(T)}static async decompressSignature(t){try{const e=zC(t),{readable:n,writable:r}=new DecompressionStream("deflate-raw"),a=r.getWriter();await a.ready,a.write(e).then(async()=>{await a.ready,await a.close()}).catch(()=>{});let l=null,c=0;for await(const _ of n)l||=new Uint8Array(new Uint32Array(_.buffer,0,4)[0]),l.set(_,c),c+=_.length;const h=new Uint32Array(l.buffer,0,l.length>>2),d=h[1];if(d!==0)throw new Error(`Invalid version: ${d}`);const p=h[2],m=h[3],y=h[4]===0,w=h[5],b=h[6],x=h[7],S=[],E=(tl+qr*b)*Uint32Array.BYTES_PER_ELEMENT;let T;switch(x){case Int8Array.BYTES_PER_ELEMENT:T=new Int8Array(l.buffer,E);break;case Int16Array.BYTES_PER_ELEMENT:T=new Int16Array(l.buffer,E);break;case Int32Array.BYTES_PER_ELEMENT:T=new Int32Array(l.buffer,E);break}c=0;for(let _=0;_<b;_++){const P=h[qr*_+tl],k=new Float32Array(P+2);S.push(k);for(let D=0;D<qr-1;D++)k[D]=h[qr*_+tl+D+1];for(let D=0;D<P;D++)k[D+2]=k[D]+T[c++]}return{areContours:y,thickness:w,outlines:S,width:p,height:m}}catch(e){return _t(`decompressSignature: ${e}`),null}}}class _d extends Z0{constructor(){super(),super.updateProperties({fill:vt._defaultLineColor,"stroke-width":0})}clone(){const t=new _d;return t.updateAll(this),t}}class Cd extends Sl{constructor(t){super(t),super.updateProperties({stroke:vt._defaultLineColor,"stroke-width":1})}clone(){const t=new Cd(this._viewParameters);return t.updateAll(this),t}}class Fn extends bt{#t=!1;#e=null;#n=null;#i=null;static _type="signature";static _editorType=Et.SIGNATURE;static _defaultDrawingOptions=null;constructor(t){super({...t,mustBeCommitted:!0,name:"signatureEditor"}),this._willKeepAspectRatio=!0,this.#n=t.signatureData||null,this.#e=null,this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(t,e){vt.initialize(t,e),this._defaultDrawingOptions=new _d,this._defaultDrawnSignatureOptions=new Cd(e.viewParameters)}static getDefaultDrawingOptions(t){const e=this._defaultDrawingOptions.clone();return e.updateProperties(t),e}static get supportMultipleDrawings(){return!1}static get typesMap(){return Mt(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!this.#e}}static computeTelemetryFinalData(t){const e=t.get("hasDescription");return{hasAltText:e.get(!0)??0,hasNoAltText:e.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let t,e;const{_isCopy:n}=this;if(n&&(this._isCopy=!1,t=this.x,e=this.y),super.render(),this._drawId===null)if(this.#n){const{lines:r,mustSmooth:a,areContours:l,description:c,uuid:h,heightInPage:d}=this.#n,{rawDims:{pageWidth:p,pageHeight:m},rotation:y}=this.parent.viewport,w=Qi.processDrawnLines({lines:r,pageWidth:p,pageHeight:m,rotation:y,innerMargin:Fn._INNER_MARGIN,mustSmooth:a,areContours:l});this.addSignature(w,d,c,h)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);return n&&(this._isCopy=!0,this._moveAfterPaste(t,e)),this.div}setUuid(t){this.#i=t,this.addEditToolbar()}getUuid(){return this.#i}get description(){return this.#e}set description(t){this.#e=t,super.addEditToolbar().then(e=>{e?.updateEditSignatureButton(t)})}getSignaturePreview(){const{newCurves:t,areContours:e,thickness:n,width:r,height:a}=this.#n,l=Math.max(r,a),c=Qi.processDrawnLines({lines:{curves:t.map(h=>({points:h})),thickness:n,width:r,height:a},pageWidth:l,pageHeight:l,rotation:0,innerMargin:0,mustSmooth:!1,areContours:e});return{areContours:e,outline:c.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(t,e,n,r){const{x:a,y:l}=this,{outline:c}=this.#n=t;this.#t=c instanceof Sh,this.description=n,this.div.setAttribute("data-l10n-args",JSON.stringify({description:n}));let h;this.#t?h=Fn.getDefaultDrawingOptions():(h=Fn._defaultDrawnSignatureOptions.clone(),h.updateProperties({"stroke-width":c.thickness})),this._addOutlines({drawOutlines:c,drawingOptions:h});const[d,p]=this.parentDimensions,[,m]=this.pageDimensions;let y=e/m;y=y>=1?.5:y,this.width*=y/this.height,this.width>=1&&(y*=.9/this.width,this.width=.9),this.height=y,this.setDims(d*this.width,p*this.height),this.x=a,this.y=l,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(r),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!r,hasDescription:!!n}}),this.div.hidden=!1}getFromImage(t){const{rawDims:{pageWidth:e,pageHeight:n},rotation:r}=this.parent.viewport;return Qi.process(t,e,n,r,Fn._INNER_MARGIN)}getFromText(t,e){const{rawDims:{pageWidth:n,pageHeight:r},rotation:a}=this.parent.viewport;return Qi.extractContoursFromText(t,e,n,r,a,Fn._INNER_MARGIN)}getDrawnSignature(t){const{rawDims:{pageWidth:e,pageHeight:n},rotation:r}=this.parent.viewport;return Qi.processDrawnLines({lines:t,pageWidth:e,pageHeight:n,rotation:r,innerMargin:Fn._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:t,thickness:e}){t?this._drawingOptions=Fn.getDefaultDrawingOptions():(this._drawingOptions=Fn._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":e}))}serialize(t=!1){if(this.isEmpty())return null;const{lines:e,points:n,rect:r}=this.serializeDraw(t),{_drawingOptions:{"stroke-width":a}}=this,l={annotationType:Et.SIGNATURE,isSignature:!0,areContours:this.#t,color:[0,0,0],thickness:this.#t?0:a,pageIndex:this.pageIndex,rect:r,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?(l.paths={lines:e,points:n},l.uuid=this.#i,l.isCopy=!0):l.lines=e,this.#e&&(l.accessibilityData={type:"Figure",alt:this.#e}),l}static deserializeDraw(t,e,n,r,a,l){return l.areContours?Sh.deserialize(t,e,n,r,a,l):Po.deserialize(t,e,n,r,a,l)}static async deserialize(t,e,n){const r=await super.deserialize(t,e,n);return r.#t=t.areContours,r.#e=t.accessibilityData?.alt||"",r.#i=t.uuid,r}}class dk extends vt{#t=null;#e=null;#n=null;#i=null;#r=null;#s="";#o=null;#a=!1;#h=null;#l=!1;#d=!1;static _type="stamp";static _editorType=Et.STAMP;constructor(t){super({...t,name:"stampEditor"}),this.#i=t.bitmapUrl,this.#r=t.bitmapFile,this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(t,e){vt.initialize(t,e)}static isHandlingMimeForPasting(t){return pl.includes(t)}static paste(t,e){e.pasteEditor({mode:Et.STAMP},{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){return{type:"stamp",hasAltText:!!this.altTextData?.altText}}static computeTelemetryFinalData(t){const e=t.get("hasAltText");return{hasAltText:e.get(!0)??0,hasNoAltText:e.get(!1)??0}}#c(t,e=!1){if(!t){this.remove();return}this.#t=t.bitmap,e||(this.#e=t.id,this.#l=t.isSvg),t.file&&(this.#s=t.file.name),this.#m()}#f(){if(this.#n=null,this._uiManager.enableWaiting(!1),!!this.#o){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#t){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#t){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}}async mlGuessAltText(t=null,e=!0){if(this.hasAltTextData())return null;const{mlManager:n}=this._uiManager;if(!n)throw new Error("No ML.");if(!await n.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:r,width:a,height:l}=t||this.copyCanvas(null,null,!0).imageData,c=await n.guess({name:"altText",request:{data:r,width:a,height:l,channels:r.length/(a*l)}});if(!c)throw new Error("No response from the AI service.");if(c.error)throw new Error("Error from the AI service.");if(c.cancel)return null;if(!c.output)throw new Error("No valid response from the AI service.");const h=c.output;return await this.setGuessedAltText(h),e&&!this.hasAltTextData()&&(this.altTextData={alt:h,decorative:!1}),h}#p(){if(this.#e){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(this.#e).then(n=>this.#c(n,!0)).finally(()=>this.#f());return}if(this.#i){const n=this.#i;this.#i=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromUrl(n).then(r=>this.#c(r)).finally(()=>this.#f());return}if(this.#r){const n=this.#r;this.#r=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromFile(n).then(r=>this.#c(r)).finally(()=>this.#f());return}const t=document.createElement("input");t.type="file",t.accept=pl.join(",");const e=this._uiManager._signal;this.#n=new Promise(n=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const r=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),this.#c(r)}n()},{signal:e}),t.addEventListener("cancel",()=>{this.remove(),n()},{signal:e})}).finally(()=>this.#f()),t.click()}remove(){this.#e&&(this.#t=null,this._uiManager.imageManager.deleteId(this.#e),this.#o?.remove(),this.#o=null,this.#h&&(clearTimeout(this.#h),this.#h=null)),super.remove()}rebuild(){if(!this.parent){this.#e&&this.#p();return}super.rebuild(),this.div!==null&&(this.#e&&this.#o===null&&this.#p(),this.isAttachedToDOM||this.parent.add(this))}onceAdded(t){this._isDraggable=!0,t&&this.div.focus()}isEmpty(){return!(this.#n||this.#t||this.#i||this.#r||this.#e||this.#a)}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let t,e;return this._isCopy&&(t=this.x,e=this.y),super.render(),this.div.hidden=!0,this.createAltText(),this.#a||(this.#t?this.#m():this.#p()),this._isCopy&&this._moveAfterPaste(t,e),this._uiManager.addShouldRescale(this),this.div}setCanvas(t,e){const{id:n,bitmap:r}=this._uiManager.imageManager.getFromCanvas(t,e);e.remove(),n&&this._uiManager.imageManager.isValidId(n)&&(this.#e=n,r&&(this.#t=r),this.#a=!1,this.#m())}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;this.#h!==null&&clearTimeout(this.#h);const t=200;this.#h=setTimeout(()=>{this.#h=null,this.#g()},t)}#m(){const{div:t}=this;let{width:e,height:n}=this.#t;const[r,a]=this.pageDimensions,l=.75;if(this.width)e=this.width*r,n=this.height*a;else if(e>l*r||n>l*a){const p=Math.min(l*r/e,l*a/n);e*=p,n*=p}const[c,h]=this.parentDimensions;this.setDims(e*c/r,n*h/a),this._uiManager.enableWaiting(!1);const d=this.#o=document.createElement("canvas");d.setAttribute("role","img"),this.addContainer(d),this.width=e/r,this.height=n/a,this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),this.#g(),this.#d||(this.parent.addUndoableEditor(this),this.#d=!0),this._reportTelemetry({action:"inserted_image"}),this.#s&&this.div.setAttribute("aria-description",this.#s),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")}copyCanvas(t,e,n=!1){t||(t=224);const{width:r,height:a}=this.#t,l=new Cn;let c=this.#t,h=r,d=a,p=null;if(e){if(r>e||a>e){const D=Math.min(e/r,e/a);h=Math.floor(r*D),d=Math.floor(a*D)}p=document.createElement("canvas");const y=p.width=Math.ceil(h*l.sx),w=p.height=Math.ceil(d*l.sy);this.#l||(c=this.#u(y,w));const b=p.getContext("2d");b.filter=this._uiManager.hcmFilter;let x="white",S="#cfcfd8";this._uiManager.hcmFilter!=="none"?S="black":window.matchMedia?.("(prefers-color-scheme: dark)").matches&&(x="#8f8f9d",S="#42414d");const E=15,T=E*l.sx,_=E*l.sy,P=new OffscreenCanvas(T*2,_*2),k=P.getContext("2d");k.fillStyle=x,k.fillRect(0,0,T*2,_*2),k.fillStyle=S,k.fillRect(0,0,T,_),k.fillRect(T,_,T,_),b.fillStyle=b.createPattern(P,"repeat"),b.fillRect(0,0,y,w),b.drawImage(c,0,0,c.width,c.height,0,0,y,w)}let m=null;if(n){let y,w;if(l.symmetric&&c.width<t&&c.height<t)y=c.width,w=c.height;else if(c=this.#t,r>t||a>t){const S=Math.min(t/r,t/a);y=Math.floor(r*S),w=Math.floor(a*S),this.#l||(c=this.#u(y,w))}const x=new OffscreenCanvas(y,w).getContext("2d",{willReadFrequently:!0});x.drawImage(c,0,0,c.width,c.height,0,0,y,w),m={width:y,height:w,data:x.getImageData(0,0,y,w).data}}return{canvas:p,width:h,height:d,imageData:m}}#u(t,e){const{width:n,height:r}=this.#t;let a=n,l=r,c=this.#t;for(;a>2*t||l>2*e;){const h=a,d=l;a>2*t&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2)),l>2*e&&(l=l>=16384?Math.floor(l/2)-1:Math.ceil(l/2));const p=new OffscreenCanvas(a,l);p.getContext("2d").drawImage(c,0,0,h,d,0,0,a,l),c=p.transferToImageBitmap()}return c}#g(){const[t,e]=this.parentDimensions,{width:n,height:r}=this,a=new Cn,l=Math.ceil(n*t*a.sx),c=Math.ceil(r*e*a.sy),h=this.#o;if(!h||h.width===l&&h.height===c)return;h.width=l,h.height=c;const d=this.#l?this.#t:this.#u(l,c),p=h.getContext("2d");p.filter=this._uiManager.hcmFilter,p.drawImage(d,0,0,d.width,d.height,0,0,l,c)}#y(t){if(t){if(this.#l){const r=this._uiManager.imageManager.getSvgUrl(this.#e);if(r)return r}const e=document.createElement("canvas");return{width:e.width,height:e.height}=this.#t,e.getContext("2d").drawImage(this.#t,0,0),e.toDataURL()}if(this.#l){const[e,n]=this.pageDimensions,r=Math.round(this.width*e*ss.PDF_TO_CSS_UNITS),a=Math.round(this.height*n*ss.PDF_TO_CSS_UNITS),l=new OffscreenCanvas(r,a);return l.getContext("2d").drawImage(this.#t,0,0,this.#t.width,this.#t.height,0,0,r,a),l.transferToImageBitmap()}return structuredClone(this.#t)}static async deserialize(t,e,n){let r=null,a=!1;if(t instanceof q0){const{data:{rect:x,rotation:S,id:E,structParent:T,popupRef:_},container:P,parent:{page:{pageNumber:k}},canvas:D}=t;let N,L;D?(delete t.canvas,{id:N,bitmap:L}=n.imageManager.getFromCanvas(P.id,D),D.remove()):(a=!0,t._hasNoCanvas=!0);const $=(await e._structTree.getAriaAttributes(`${cd}${E}`))?.get("aria-label")||"";r=t={annotationType:Et.STAMP,bitmapId:N,bitmap:L,pageIndex:k-1,rect:x.slice(0),rotation:S,annotationElementId:E,id:E,deleted:!1,accessibilityData:{decorative:!1,altText:$},isSvg:!1,structParent:T,popupRef:_}}const l=await super.deserialize(t,e,n),{rect:c,bitmap:h,bitmapUrl:d,bitmapId:p,isSvg:m,accessibilityData:y}=t;a?(n.addMissingCanvas(t.id,l),l.#a=!0):p&&n.imageManager.isValidId(p)?(l.#e=p,h&&(l.#t=h)):l.#i=d,l.#l=m;const[w,b]=l.pageDimensions;return l.width=(c[2]-c[0])/w,l.height=(c[3]-c[1])/b,y&&(l.altTextData=y),l._initialData=r,l.#d=!!r,l}serialize(t=!1,e=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const n={annotationType:Et.STAMP,bitmapId:this.#e,pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:this.#l,structTreeParentId:this._structTreeParentId};if(t)return n.bitmapUrl=this.#y(!0),n.accessibilityData=this.serializeAltText(!0),n.isCopy=!0,n;const{decorative:r,altText:a}=this.serializeAltText(!1);if(!r&&a&&(n.accessibilityData={type:"Figure",alt:a}),this.annotationElementId){const c=this.#v(n);if(c.isSame)return null;c.isSameAltText?delete n.accessibilityData:n.accessibilityData.structParent=this._initialData.structParent??-1}if(n.id=this.annotationElementId,e===null)return n;e.stamps||=new Map;const l=this.#l?(n.rect[2]-n.rect[0])*(n.rect[3]-n.rect[1]):null;if(!e.stamps.has(this.#e))e.stamps.set(this.#e,{area:l,serialized:n}),n.bitmap=this.#y(!1);else if(this.#l){const c=e.stamps.get(this.#e);l>c.area&&(c.area=l,c.serialized.bitmap.close(),c.serialized.bitmap=this.#y(!1))}return n}#v(t){const{pageIndex:e,accessibilityData:{altText:n}}=this._initialData,r=t.pageIndex===e,a=(t.accessibilityData?.alt||"")===n;return{isSame:!this._hasBeenMoved&&!this._hasBeenResized&&r&&a,isSameAltText:a}}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}}class jn{#t;#e=!1;#n=null;#i=null;#r=null;#s=new Map;#o=!1;#a=!1;#h=!1;#l=null;#d=null;#c=null;#f=null;#p=null;#m=-1;#u;static _initialized=!1;static#g=new Map([pe,Ed,dk,ie,Fn].map(t=>[t._editorType,t]));constructor({uiManager:t,pageIndex:e,div:n,structTreeLayer:r,accessibilityManager:a,annotationLayer:l,drawLayer:c,textLayer:h,viewport:d,l10n:p}){const m=[...jn.#g.values()];if(!jn._initialized){jn._initialized=!0;for(const y of m)y.initialize(p,t)}t.registerEditorTypes(m),this.#u=t,this.pageIndex=e,this.div=n,this.#t=a,this.#n=l,this.viewport=d,this.#c=h,this.drawLayer=c,this._structTree=r,this.#u.addLayer(this)}get isEmpty(){return this.#s.size===0}get isInvisible(){return this.isEmpty&&this.#u.getMode()===Et.NONE}updateToolbar(t){this.#u.updateToolbar(t)}updateMode(t=this.#u.getMode()){switch(this.#A(),t){case Et.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Et.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case Et.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:e}=this.div;for(const n of jn.#g.values())e.toggle(`${n._type}Editing`,t===n._editorType);this.div.hidden=!1}hasTextLayer(t){return t===this.#c?.div}setEditingState(t){this.#u.setEditingState(t)}addCommands(t){this.#u.addCommands(t)}cleanUndoStack(t){this.#u.cleanUndoStack(t)}toggleDrawing(t=!1){this.div.classList.toggle("drawing",!t)}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}toggleAnnotationLayerPointerEvents(t=!1){this.#n?.div.classList.toggle("disabled",!t)}async enable(){this.#h=!0,this.div.tabIndex=0,this.togglePointerEvents(!0),this.#p?.abort(),this.#p=null;const t=new Set;for(const n of this.#s.values())n.enableEditing(),n.show(!0),n.annotationElementId&&(this.#u.removeChangedExistingAnnotation(n),t.add(n.annotationElementId));if(!this.#n){this.#h=!1;return}const e=this.#n.getEditableAnnotations();for(const n of e){if(n.hide(),this.#u.isDeletedAnnotationElement(n.data.id)||t.has(n.data.id))continue;const r=await this.deserialize(n);r&&(this.addOrRebuild(r),r.enableEditing())}this.#h=!1}disable(){if(this.#a=!0,this.div.tabIndex=-1,this.togglePointerEvents(!1),this.#c&&!this.#p){this.#p=new AbortController;const r=this.#u.combinedSignal(this.#p);this.#c.div.addEventListener("pointerdown",a=>{const{clientX:c,clientY:h,timeStamp:d}=a,p=this.#m;if(d-p>500){this.#m=d;return}this.#m=-1;const{classList:m}=this.div;m.toggle("getElements",!0);const y=document.elementsFromPoint(c,h);if(m.toggle("getElements",!1),!this.div.contains(y[0]))return;let w;const b=new RegExp(`^${y0}[0-9]+$`);for(const S of y)if(b.test(S.id)){w=S.id;break}if(!w)return;const x=this.#s.get(w);x?.annotationElementId===null&&(a.stopPropagation(),a.preventDefault(),x.dblclick())},{signal:r,capture:!0})}const t=new Map,e=new Map;for(const r of this.#s.values())if(r.disableEditing(),!!r.annotationElementId){if(r.serialize()!==null){t.set(r.annotationElementId,r);continue}else e.set(r.annotationElementId,r);this.getEditableAnnotation(r.annotationElementId)?.show(),r.remove()}if(this.#n){const r=this.#n.getEditableAnnotations();for(const a of r){const{id:l}=a.data;if(this.#u.isDeletedAnnotationElement(l))continue;let c=e.get(l);if(c){c.resetAnnotationElement(a),c.show(!1),a.show();continue}c=t.get(l),c&&(this.#u.addChangedExistingAnnotation(c),c.renderAnnotationElement(a)&&c.show(!1)),a.show()}}this.#A(),this.isEmpty&&(this.div.hidden=!0);const{classList:n}=this.div;for(const r of jn.#g.values())n.remove(`${r._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),this.#a=!1}getEditableAnnotation(t){return this.#n?.getEditableAnnotation(t)||null}setActiveEditor(t){this.#u.getActive()!==t&&this.#u.setActiveEditor(t)}enableTextSelection(){if(this.div.tabIndex=-1,this.#c?.div&&!this.#f){this.#f=new AbortController;const t=this.#u.combinedSignal(this.#f);this.#c.div.addEventListener("pointerdown",this.#y.bind(this),{signal:t}),this.#c.div.classList.add("highlighting")}}disableTextSelection(){this.div.tabIndex=0,this.#c?.div&&this.#f&&(this.#f.abort(),this.#f=null,this.#c.div.classList.remove("highlighting"))}#y(t){this.#u.unselectAll();const{target:e}=t;if(e===this.#c.div||(e.getAttribute("role")==="img"||e.classList.contains("endOfContent"))&&this.#c.div.contains(e)){const{isMac:n}=xe.platform;if(t.button!==0||t.ctrlKey&&n)return;this.#u.showAllEditors("highlight",!0,!0),this.#c.div.classList.add("free"),this.toggleDrawing(),ie.startHighlighting(this,this.#u.direction==="ltr",{target:this.#c.div,x:t.x,y:t.y}),this.#c.div.addEventListener("pointerup",()=>{this.#c.div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:this.#u._signal}),t.preventDefault()}}enableClick(){if(this.#i)return;this.#i=new AbortController;const t=this.#u.combinedSignal(this.#i);this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:t});const e=this.pointerup.bind(this);this.div.addEventListener("pointerup",e,{signal:t}),this.div.addEventListener("pointercancel",e,{signal:t})}disableClick(){this.#i?.abort(),this.#i=null}attach(t){this.#s.set(t.id,t);const{annotationElementId:e}=t;e&&this.#u.isDeletedAnnotationElement(e)&&this.#u.removeDeletedAnnotationElement(t)}detach(t){this.#s.delete(t.id),this.#t?.removePointerInTextLayer(t.contentDiv),!this.#a&&t.annotationElementId&&this.#u.addDeletedAnnotationElement(t)}remove(t){this.detach(t),this.#u.removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1}changeParent(t){t.parent!==this&&(t.parent&&t.annotationElementId&&(this.#u.addDeletedAnnotationElement(t.annotationElementId),vt.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),t.parent?.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(!(t.parent===this&&t.isAttachedToDOM)){if(this.changeParent(t),this.#u.addEditor(t),this.attach(t),!t.isAttachedToDOM){const e=t.render();this.div.append(e),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(!this.#h),this.#u.addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}moveEditorInDOM(t){if(!t.isAttachedToDOM)return;const{activeElement:e}=document;t.div.contains(e)&&!this.#r&&(t._focusEventsAllowed=!1,this.#r=setTimeout(()=>{this.#r=null,t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this.#u._signal}),e.focus())},0)),t._structTreeParentId=this.#t?.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||=this,t.rebuild(),t.show()):this.add(t)}addUndoableEditor(t){const e=()=>t._uiManager.rebuild(t),n=()=>{t.remove()};this.addCommands({cmd:e,undo:n,mustExec:!1})}getNextId(){return this.#u.getId()}get#v(){return jn.#g.get(this.#u.getMode())}combinedSignal(t){return this.#u.combinedSignal(t)}#b(t){const e=this.#v;return e?new e.prototype.constructor(t):null}canCreateNewEmptyEditor(){return this.#v?.canCreateNewEmptyEditor()}async pasteEditor(t,e){this.updateToolbar(t),await this.#u.updateMode(t.mode);const{offsetX:n,offsetY:r}=this.#x(),a=this.getNextId(),l=this.#b({parent:this,id:a,x:n,y:r,uiManager:this.#u,isCentered:!0,...e});l&&this.add(l)}async deserialize(t){return await jn.#g.get(t.annotationType??t.annotationEditorType)?.deserialize(t,this,this.#u)||null}createAndAddNewEditor(t,e,n={}){const r=this.getNextId(),a=this.#b({parent:this,id:r,x:t.offsetX,y:t.offsetY,uiManager:this.#u,isCentered:e,...n});return a&&this.add(a),a}#x(){const{x:t,y:e,width:n,height:r}=this.div.getBoundingClientRect(),a=Math.max(0,t),l=Math.max(0,e),c=Math.min(window.innerWidth,t+n),h=Math.min(window.innerHeight,e+r),d=(a+c)/2-t,p=(l+h)/2-e,[m,y]=this.viewport.rotation%180===0?[d,p]:[p,d];return{offsetX:m,offsetY:y}}addNewEditor(t={}){this.createAndAddNewEditor(this.#x(),!0,t)}setSelected(t){this.#u.setSelected(t)}toggleSelected(t){this.#u.toggleSelected(t)}unselect(t){this.#u.unselect(t)}pointerup(t){const{isMac:e}=xe.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div||!this.#o||(this.#o=!1,this.#v?.isDrawer&&this.#v.supportMultipleDrawings))return;if(!this.#e){this.#e=!0;return}const n=this.#u.getMode();if(n===Et.STAMP||n===Et.SIGNATURE){this.#u.unselectAll();return}this.createAndAddNewEditor(t,!1)}pointerdown(t){if(this.#u.getMode()===Et.HIGHLIGHT&&this.enableTextSelection(),this.#o){this.#o=!1;return}const{isMac:e}=xe.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div)return;if(this.#o=!0,this.#v?.isDrawer){this.startDrawingSession(t);return}const n=this.#u.getActive();this.#e=!n||n.isEmpty()}startDrawingSession(t){if(this.div.focus({preventScroll:!0}),this.#l){this.#v.startDrawing(this,this.#u,!1,t);return}this.#u.setCurrentDrawingSession(this),this.#l=new AbortController;const e=this.#u.combinedSignal(this.#l);this.div.addEventListener("blur",({relatedTarget:n})=>{n&&!this.div.contains(n)&&(this.#d=null,this.commitOrRemove())},{signal:e}),this.#v.startDrawing(this,this.#u,!1,t)}pause(t){if(t){const{activeElement:e}=document;this.div.contains(e)&&(this.#d=e);return}this.#d&&setTimeout(()=>{this.#d?.focus(),this.#d=null},0)}endDrawingSession(t=!1){return this.#l?(this.#u.setCurrentDrawingSession(null),this.#l.abort(),this.#l=null,this.#d=null,this.#v.endDrawing(t)):null}findNewParent(t,e,n){const r=this.#u.findParent(e,n);return r===null||r===this?!1:(r.changeParent(t),!0)}commitOrRemove(){return this.#l?(this.endDrawingSession(),!0):!1}onScaleChanging(){this.#l&&this.#v.onScaleChangingWhenDrawing(this)}destroy(){this.commitOrRemove(),this.#u.getActive()?.parent===this&&(this.#u.commitOrRemove(),this.#u.setActiveEditor(null)),this.#r&&(clearTimeout(this.#r),this.#r=null);for(const t of this.#s.values())this.#t?.removePointerInTextLayer(t.contentDiv),t.setParent(null),t.isAttachedToDOM=!1,t.div.remove();this.div=null,this.#s.clear(),this.#u.removeLayer(this)}#A(){for(const t of this.#s.values())t.isEmpty()&&t.remove()}render({viewport:t}){this.viewport=t,Ri(this.div,t);for(const e of this.#u.getEditors(this.pageIndex))this.add(e),e.rebuild();this.updateMode()}update({viewport:t}){this.#u.commitOrRemove(),this.#A();const e=this.viewport.rotation,n=t.rotation;if(this.viewport=t,Ri(this.div,{rotation:n}),e!==n)for(const r of this.#s.values())r.rotate(n)}get pageDimensions(){const{pageWidth:t,pageHeight:e}=this.viewport.rawDims;return[t,e]}get scale(){return this.#u.viewParameters.realScale}}class we{#t=null;#e=new Map;#n=new Map;static#i=0;constructor({pageIndex:t}){this.pageIndex=t}setParent(t){if(!this.#t){this.#t=t;return}if(this.#t!==t){if(this.#e.size>0)for(const e of this.#e.values())e.remove(),t.append(e);this.#t=t}}static get _svgFactory(){return Mt(this,"_svgFactory",new yo)}static#r(t,[e,n,r,a]){const{style:l}=t;l.top=`${100*n}%`,l.left=`${100*e}%`,l.width=`${100*r}%`,l.height=`${100*a}%`}#s(){const t=we._svgFactory.create(1,1,!0);return this.#t.append(t),t.setAttribute("aria-hidden",!0),t}#o(t,e){const n=we._svgFactory.createElement("clipPath");t.append(n);const r=`clip_${e}`;n.setAttribute("id",r),n.setAttribute("clipPathUnits","objectBoundingBox");const a=we._svgFactory.createElement("use");return n.append(a),a.setAttribute("href",`#${e}`),a.classList.add("clip"),r}#a(t,e){for(const[n,r]of Object.entries(e))r===null?t.removeAttribute(n):t.setAttribute(n,r)}draw(t,e=!1,n=!1){const r=we.#i++,a=this.#s(),l=we._svgFactory.createElement("defs");a.append(l);const c=we._svgFactory.createElement("path");l.append(c);const h=`path_p${this.pageIndex}_${r}`;c.setAttribute("id",h),c.setAttribute("vector-effect","non-scaling-stroke"),e&&this.#n.set(r,c);const d=n?this.#o(l,h):null,p=we._svgFactory.createElement("use");return a.append(p),p.setAttribute("href",`#${h}`),this.updateProperties(a,t),this.#e.set(r,a),{id:r,clipPathId:`url(#${d})`}}drawOutline(t,e){const n=we.#i++,r=this.#s(),a=we._svgFactory.createElement("defs");r.append(a);const l=we._svgFactory.createElement("path");a.append(l);const c=`path_p${this.pageIndex}_${n}`;l.setAttribute("id",c),l.setAttribute("vector-effect","non-scaling-stroke");let h;if(e){const m=we._svgFactory.createElement("mask");a.append(m),h=`mask_p${this.pageIndex}_${n}`,m.setAttribute("id",h),m.setAttribute("maskUnits","objectBoundingBox");const y=we._svgFactory.createElement("rect");m.append(y),y.setAttribute("width","1"),y.setAttribute("height","1"),y.setAttribute("fill","white");const w=we._svgFactory.createElement("use");m.append(w),w.setAttribute("href",`#${c}`),w.setAttribute("stroke","none"),w.setAttribute("fill","black"),w.setAttribute("fill-rule","nonzero"),w.classList.add("mask")}const d=we._svgFactory.createElement("use");r.append(d),d.setAttribute("href",`#${c}`),h&&d.setAttribute("mask",`url(#${h})`);const p=d.cloneNode();return r.append(p),d.classList.add("mainOutline"),p.classList.add("secondaryOutline"),this.updateProperties(r,t),this.#e.set(n,r),n}finalizeDraw(t,e){this.#n.delete(t),this.updateProperties(t,e)}updateProperties(t,e){if(!e)return;const{root:n,bbox:r,rootClass:a,path:l}=e,c=typeof t=="number"?this.#e.get(t):t;if(c){if(n&&this.#a(c,n),r&&we.#r(c,r),a){const{classList:h}=c;for(const[d,p]of Object.entries(a))h.toggle(d,p)}if(l){const d=c.firstChild.firstChild;this.#a(d,l)}}}updateParent(t,e){if(e===this)return;const n=this.#e.get(t);n&&(e.#t.append(n),this.#e.delete(t),e.#e.set(t,n))}remove(t){this.#n.delete(t),this.#t!==null&&(this.#e.get(t).remove(),this.#e.delete(t))}destroy(){this.#t=null;for(const t of this.#e.values())t.remove();this.#e.clear(),this.#n.clear()}}globalThis._pdfjsTestingUtils={HighlightOutliner:xh};globalThis.pdfjsLib={AbortException:ni,AnnotationEditorLayer:jn,AnnotationEditorParamsType:It,AnnotationEditorType:Et,AnnotationEditorUIManager:ii,AnnotationLayer:Sd,AnnotationMode:Vn,AnnotationType:ne,build:U0,ColorPicker:Je,createValidAbsoluteUrl:od,DOMSVGFactory:yo,DrawLayer:we,FeatureTest:xe,fetchData:sr,getDocument:vd,getFilenameFromUrl:S0,getPdfFilenameFromUrl:E0,getUuid:ld,getXfaPageViewport:_0,GlobalWorkerOptions:Ti,ImageKind:so,InvalidPDFException:fl,isDataScheme:_o,isPdfFile:xl,isValidExplicitDest:P0,MathClamp:Le,noContextMenu:pn,normalizeUnicode:x0,OPS:fo,OutputScale:Cn,PasswordResponses:w0,PDFDataRangeTransport:bd,PDFDateString:ud,PDFWorker:be,PermissionFlag:v0,PixelsPerInch:ss,RenderingCancelledException:bl,ResponseException:po,setLayerDimensions:Ri,shadow:Mt,SignatureExtractor:Qi,stopEvent:re,SupportedImageMimeTypes:pl,TextLayer:mo,TouchManager:To,updateUrlHash:ad,Util:pt,VerbosityLevel:Ao,version:H0,XfaLayer:xd};const fk=Object.freeze(Object.defineProperty({__proto__:null,AbortException:ni,AnnotationEditorLayer:jn,AnnotationEditorParamsType:It,AnnotationEditorType:Et,AnnotationEditorUIManager:ii,AnnotationLayer:Sd,AnnotationMode:Vn,AnnotationType:ne,ColorPicker:Je,DOMSVGFactory:yo,DrawLayer:we,FeatureTest:xe,GlobalWorkerOptions:Ti,ImageKind:so,InvalidPDFException:fl,MathClamp:Le,OPS:fo,OutputScale:Cn,PDFDataRangeTransport:bd,PDFDateString:ud,PDFWorker:be,PasswordResponses:w0,PermissionFlag:v0,PixelsPerInch:ss,RenderingCancelledException:bl,ResponseException:po,SignatureExtractor:Qi,SupportedImageMimeTypes:pl,TextLayer:mo,TouchManager:To,Util:pt,VerbosityLevel:Ao,XfaLayer:xd,build:U0,createValidAbsoluteUrl:od,fetchData:sr,getDocument:vd,getFilenameFromUrl:S0,getPdfFilenameFromUrl:E0,getUuid:ld,getXfaPageViewport:_0,isDataScheme:_o,isPdfFile:xl,isValidExplicitDest:P0,noContextMenu:pn,normalizeUnicode:x0,setLayerDimensions:Ri,shadow:Mt,stopEvent:re,updateUrlHash:ad,version:H0},Symbol.toStringTag,{value:"Module"}));var hy=Object.prototype.hasOwnProperty;function dy(s,t,e){for(e of s.keys())if(Xs(e,t))return e}function Xs(s,t){var e,n,r;if(s===t)return!0;if(s&&t&&(e=s.constructor)===t.constructor){if(e===Date)return s.getTime()===t.getTime();if(e===RegExp)return s.toString()===t.toString();if(e===Array){if((n=s.length)===t.length)for(;n--&&Xs(s[n],t[n]););return n===-1}if(e===Set){if(s.size!==t.size)return!1;for(n of s)if(r=n,r&&typeof r=="object"&&(r=dy(t,r),!r)||!t.has(r))return!1;return!0}if(e===Map){if(s.size!==t.size)return!1;for(n of s)if(r=n[0],r&&typeof r=="object"&&(r=dy(t,r),!r)||!Xs(n[1],t.get(r)))return!1;return!0}if(e===ArrayBuffer)s=new Uint8Array(s),t=new Uint8Array(t);else if(e===DataView){if((n=s.byteLength)===t.byteLength)for(;n--&&s.getInt8(n)===t.getInt8(n););return n===-1}if(ArrayBuffer.isView(s)){if((n=s.byteLength)===t.byteLength)for(;n--&&s[n]===t[n];);return n===-1}if(!e||typeof s=="object"){n=0;for(e in s)if(hy.call(s,e)&&++n&&!hy.call(t,e)||!(e in t)||!Xs(s[e],t[e]))return!1;return Object.keys(t).length===n}}return s!==s&&t!==t}function Ro(s){let t=!1;return{promise:new Promise((n,r)=>{s.then(a=>!t&&n(a)).catch(a=>!t&&r(a))}),cancel(){t=!0}}}const pk=["onCopy","onCut","onPaste"],mk=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],gk=["onFocus","onBlur"],yk=["onInput","onInvalid","onReset","onSubmit"],vk=["onLoad","onError"],wk=["onKeyDown","onKeyPress","onKeyUp"],bk=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],xk=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],Ak=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],Sk=["onSelect"],Ek=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],_k=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],Ck=["onScroll"],Tk=["onWheel"],kk=["onAnimationStart","onAnimationEnd","onAnimationIteration"],Pk=["onTransitionEnd"],Rk=["onToggle"],Mk=["onChange"],Lk=[...pk,...mk,...gk,...yk,...vk,...wk,...bk,...xk,...Ak,...Sk,...Ek,..._k,...Ck,...Tk,...kk,...Pk,...Mk,...Rk];function J0(s,t){const e={};for(const n of Lk){const r=s[n];r&&(t?e[n]=(a=>r(a,t(n))):e[n]=r)}return e}var Ik="Invariant failed";function Bt(s,t){if(!s)throw new Error(Ik)}var Gu,fy;function Dk(){if(fy)return Gu;fy=1;var s=function(){};return Gu=s,Gu}var Nk=Dk();const Ie=by(Nk),tw=z.createContext(null),Fk="noopener noreferrer nofollow";class Ok{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(t){this.pdfDocument=t}setViewer(t){this.pdfViewer=t}setExternalLinkRel(t){this.externalLinkRel=t}setExternalLinkTarget(t){this.externalLinkTarget=t}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return Bt(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(t){Bt(this.pdfViewer),this.pdfViewer.currentPageNumber=t}get rotation(){return 0}set rotation(t){}goToDestination(t){return new Promise(e=>{Bt(this.pdfDocument),Bt(t),typeof t=="string"?this.pdfDocument.getDestination(t).then(e):Array.isArray(t)?e(t):t.then(e)}).then(e=>{Bt(Array.isArray(e));const n=e[0];new Promise(r=>{Bt(this.pdfDocument),n instanceof Object?this.pdfDocument.getPageIndex(n).then(a=>{r(a)}).catch(()=>{Bt(!1)}):typeof n=="number"?r(n):Bt(!1)}).then(r=>{const a=r+1;Bt(this.pdfViewer),Bt(a>=1&&a<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:e,pageIndex:r,pageNumber:a})})})}navigateTo(t){this.goToDestination(t)}goToPage(t){const e=t-1;Bt(this.pdfViewer),Bt(t>=1&&t<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:e,pageNumber:t})}addLinkAttributes(t,e,n){t.href=e,t.rel=this.externalLinkRel||Fk,t.target=n?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}function Ks({children:s,type:t}){return F.jsx("div",{className:`react-pdf__message react-pdf__message--${t}`,children:s})}const py={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};function jk(s,t){switch(t.type){case"RESOLVE":return{value:t.value,error:void 0};case"REJECT":return{value:!1,error:t.error};case"RESET":return{value:void 0,error:void 0};default:return s}}function Qs(){return z.useReducer(jk,{value:void 0,error:void 0})}const El=typeof window<"u",ew=El&&window.location.protocol==="file:";function Vk(s){return typeof s<"u"}function qi(s){return Vk(s)&&s!==null}function Bk(s){return typeof s=="string"}function zk(s){return s instanceof ArrayBuffer}function Hk(s){return Bt(El),s instanceof Blob}function Eh(s){return Bk(s)&&/^data:/.test(s)}function my(s){Bt(Eh(s));const[t="",e=""]=s.split(",");return t.split(";").indexOf("base64")!==-1?atob(e):unescape(e)}function Uk(){return El&&window.devicePixelRatio||1}const nw="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function gy(){Ie(!ew,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${nw}`)}function $k(){Ie(!ew,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${nw}`)}function os(s){s?.cancel&&s.cancel()}function _h(s,t){return Object.defineProperty(s,"width",{get(){return this.view[2]*t},configurable:!0}),Object.defineProperty(s,"height",{get(){return this.view[3]*t},configurable:!0}),Object.defineProperty(s,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(s,"originalHeight",{get(){return this.view[3]},configurable:!0}),s}function Gk(s){return s.name==="RenderingCancelledException"}function Wk(s){return new Promise((t,e)=>{const n=new FileReader;n.onload=()=>{if(!n.result)return e(new Error("Error while reading a file."));t(n.result)},n.onerror=r=>{if(!r.target)return e(new Error("Error while reading a file."));const{error:a}=r.target;if(!a)return e(new Error("Error while reading a file."));switch(a.code){case a.NOT_FOUND_ERR:return e(new Error("Error while reading a file: File not found."));case a.SECURITY_ERR:return e(new Error("Error while reading a file: Security error."));case a.ABORT_ERR:return e(new Error("Error while reading a file: Aborted."));default:return e(new Error("Error while reading a file."))}},n.readAsArrayBuffer(s)})}const{PDFDataRangeTransport:Xk}=fk,Kk=(s,t)=>{switch(t){case py.NEED_PASSWORD:{const e=prompt("Enter the password to open this PDF file.");s(e);break}case py.INCORRECT_PASSWORD:{const e=prompt("Invalid password. Please try again.");s(e);break}}};function yy(s){return typeof s=="object"&&s!==null&&("data"in s||"range"in s||"url"in s)}const qk=z.forwardRef(function({children:t,className:e,error:n="Failed to load PDF file.",externalLinkRel:r,externalLinkTarget:a,file:l,inputRef:c,imageResourcesPath:h,loading:d="Loading PDF",noData:p="No PDF file specified.",onItemClick:m,onLoadError:y,onLoadProgress:w,onLoadSuccess:b,onPassword:x=Kk,onSourceError:S,onSourceSuccess:E,options:T,renderMode:_,rotate:P,scale:k,...D},N){const[L,$]=Qs(),{value:K,error:Z}=L,[ft,dt]=Qs(),{value:nt,error:xt}=ft,G=z.useRef(new Ok),U=z.useRef([]),j=z.useRef(void 0),tt=z.useRef(void 0);l&&l!==j.current&&yy(l)&&(Ie(!Xs(l,j.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),j.current=l),T&&T!==tt.current&&(Ie(!Xs(T,tt.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),tt.current=T);const Y=z.useRef({scrollPageIntoView:Lt=>{const{dest:jt,pageNumber:Yt,pageIndex:Jt=Yt-1}=Lt;if(m){m({dest:jt,pageIndex:Jt,pageNumber:Yt});return}const kn=U.current[Jt];if(kn){kn.scrollIntoView();return}Ie(!1,`An internal link leading to page ${Yt} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});z.useImperativeHandle(N,()=>({linkService:G,pages:U,viewer:Y}),[]);function I(){E&&E()}function H(){Z&&(Ie(!1,Z.toString()),S&&S(Z))}function J(){$({type:"RESET"})}z.useEffect(J,[l,$]);const st=z.useCallback(async()=>{if(!l)return null;if(typeof l=="string")return Eh(l)?{data:my(l)}:(gy(),{url:l});if(l instanceof Xk)return{range:l};if(zk(l))return{data:l};if(El&&Hk(l))return{data:await Wk(l)};if(Bt(typeof l=="object"),Bt(yy(l)),"url"in l&&typeof l.url=="string"){if(Eh(l.url)){const{url:Lt,...jt}=l;return{data:my(Lt),...jt}}gy()}return l},[l]);z.useEffect(()=>{const Lt=Ro(st());return Lt.promise.then(jt=>{$({type:"RESOLVE",value:jt})}).catch(jt=>{$({type:"REJECT",error:jt})}),()=>{os(Lt)}},[st,$]),z.useEffect(()=>{if(!(typeof K>"u")){if(K===!1){H();return}I()}},[K]);function mt(){nt&&(b&&b(nt),U.current=new Array(nt.numPages),G.current.setDocument(nt))}function wt(){xt&&(Ie(!1,xt.toString()),y&&y(xt))}z.useEffect(function(){dt({type:"RESET"})},[dt,K]),z.useEffect(function(){if(!K)return;const jt=T?{...K,...T}:K,Yt=vd(jt);w&&(Yt.onProgress=w),x&&(Yt.onPassword=x);const Jt=Yt,kn=Jt.promise.then(si=>{dt({type:"RESOLVE",value:si})}).catch(si=>{Jt.destroyed||dt({type:"REJECT",error:si})});return()=>{kn.finally(()=>Jt.destroy())}},[T,dt,K]),z.useEffect(()=>{if(!(typeof nt>"u")){if(nt===!1){wt();return}mt()}},[nt]),z.useEffect(function(){G.current.setViewer(Y.current),G.current.setExternalLinkRel(r),G.current.setExternalLinkTarget(a)},[r,a]);const et=z.useCallback((Lt,jt)=>{U.current[Lt]=jt},[]),Ct=z.useCallback(Lt=>{delete U.current[Lt]},[]),kt=z.useMemo(()=>({imageResourcesPath:h,linkService:G.current,onItemClick:m,pdf:nt,registerPage:et,renderMode:_,rotate:P,scale:k,unregisterPage:Ct}),[h,m,nt,et,_,P,k,Ct]),Tt=z.useMemo(()=>J0(D,()=>nt),[D,nt]);function me(){function Lt(Yt){return!!Yt?.pdf}if(!Lt(kt))throw new Error("pdf is undefined");const jt=typeof t=="function"?t(kt):t;return F.jsx(tw.Provider,{value:kt,children:jt})}function Ae(){return l?nt==null?F.jsx(Ks,{type:"loading",children:typeof d=="function"?d():d}):nt===!1?F.jsx(Ks,{type:"error",children:typeof n=="function"?n():n}):me():F.jsx(Ks,{type:"no-data",children:typeof p=="function"?p():p})}return F.jsx("div",{className:Zs("react-pdf__Document",e),ref:c,...Tt,children:Ae()})});function iw(){return z.useContext(tw)}function sw(){for(var s=[],t=0;t<arguments.length;t++)s[t]=arguments[t];var e=s.filter(Boolean);if(e.length<=1){var n=e[0];return n||null}return function(a){for(var l=0,c=e;l<c.length;l++){var h=c[l];typeof h=="function"?h(a):h&&(h.current=a)}}}const rw=z.createContext(null);function _l(){return z.useContext(rw)}function Yk(){const s=iw(),t=_l();Bt(t);const e={...s,...t},{imageResourcesPath:n,linkService:r,onGetAnnotationsError:a,onGetAnnotationsSuccess:l,onRenderAnnotationLayerError:c,onRenderAnnotationLayerSuccess:h,page:d,pdf:p,renderForms:m,rotate:y,scale:w=1}=e;Bt(p),Bt(d),Bt(r);const[b,x]=Qs(),{value:S,error:E}=b,T=z.useRef(null);Ie(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function _(){S&&l&&l(S)}function P(){E&&(Ie(!1,E.toString()),a&&a(E))}z.useEffect(function(){x({type:"RESET"})},[x,d]),z.useEffect(function(){if(!d)return;const $=Ro(d.getAnnotations()),K=$;return $.promise.then(Z=>{x({type:"RESOLVE",value:Z})}).catch(Z=>{x({type:"REJECT",error:Z})}),()=>{os(K)}},[x,d]),z.useEffect(()=>{if(S!==void 0){if(S===!1){P();return}_()}},[S]);function k(){h&&h()}function D(L){Ie(!1,`${L}`),c&&c(L)}const N=z.useMemo(()=>d.getViewport({scale:w,rotation:y}),[d,y,w]);return z.useEffect(function(){if(!p||!d||!r||!S)return;const{current:$}=T;if(!$)return;const K=N.clone({dontFlip:!0}),Z={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:$,l10n:null,page:d,structTreeLayer:null,viewport:K},ft={annotations:S,annotationStorage:p.annotationStorage,div:$,imageResourcesPath:n,linkService:r,page:d,renderForms:m,viewport:K};$.innerHTML="";try{new Sd(Z).render(ft),k()}catch(dt){D(dt)}return()=>{}},[S,n,r,d,p,m,N]),F.jsx("div",{className:Zs("react-pdf__Page__annotations","annotationLayer"),ref:T})}const ow={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},Qk=/^H(\d+)$/;function Zk(s){return s in ow}function Cl(s){return"children"in s}function aw(s){return Cl(s)?s.children.length===1&&0 in s.children&&"id"in s.children[0]:!1}function Jk(s){const t={};if(Cl(s)){const{role:e}=s,n=e.match(Qk);if(n)t.role="heading",t["aria-level"]=Number(n[1]);else if(Zk(e)){const r=ow[e];r&&(t.role=r)}}return t}function lw(s){const t={};if(Cl(s)){if(s.alt!==void 0&&(t["aria-label"]=s.alt),s.lang!==void 0&&(t.lang=s.lang),aw(s)){const[e]=s.children;if(e){const n=lw(e);return{...t,...n}}}}else"id"in s&&(t["aria-owns"]=s.id);return t}function tP(s){return s?{...Jk(s),...lw(s)}:null}function cw({className:s,node:t}){const e=z.useMemo(()=>tP(t),[t]),n=z.useMemo(()=>!Cl(t)||aw(t)?null:t.children.map((r,a)=>F.jsx(cw,{node:r},a)),[t]);return F.jsx("span",{className:s,...e,children:n})}function eP(){const s=_l();Bt(s);const{onGetStructTreeError:t,onGetStructTreeSuccess:e}=s,[n,r]=Qs(),{value:a,error:l}=n,{customTextRenderer:c,page:h}=s;function d(){a&&e&&e(a)}function p(){l&&(Ie(!1,l.toString()),t&&t(l))}return z.useEffect(function(){r({type:"RESET"})},[r,h]),z.useEffect(function(){if(c||!h)return;const y=Ro(h.getStructTree()),w=y;return y.promise.then(b=>{r({type:"RESOLVE",value:b})}).catch(b=>{r({type:"REJECT",error:b})}),()=>os(w)},[c,h,r]),z.useEffect(()=>{if(a!==void 0){if(a===!1){p();return}d()}},[a]),a?F.jsx(cw,{className:"react-pdf__Page__structTree structTree",node:a}):null}const vy=Vn;function nP(s){const t=_l();Bt(t);const e={...t,...s},{_className:n,canvasBackground:r,devicePixelRatio:a=Uk(),onRenderError:l,onRenderSuccess:c,page:h,renderForms:d,renderTextLayer:p,rotate:m,scale:y}=e,{canvasRef:w}=s;Bt(h);const b=z.useRef(null);function x(){h&&c&&c(_h(h,y))}function S(P){Gk(P)||(Ie(!1,P.toString()),l&&l(P))}const E=z.useMemo(()=>h.getViewport({scale:y*a,rotation:m}),[a,h,m,y]),T=z.useMemo(()=>h.getViewport({scale:y,rotation:m}),[h,m,y]);z.useEffect(function(){if(!h)return;h.cleanup();const{current:k}=b;if(!k)return;k.width=E.width,k.height=E.height,k.style.width=`${Math.floor(T.width)}px`,k.style.height=`${Math.floor(T.height)}px`,k.style.visibility="hidden";const D={annotationMode:d?vy.ENABLE_FORMS:vy.ENABLE,canvasContext:k.getContext("2d",{alpha:!1}),viewport:E};r&&(D.background=r);const N=h.render(D),L=N;return N.promise.then(()=>{k.style.visibility="",x()}).catch(S),()=>os(L)},[r,h,d,E,T]);const _=z.useCallback(()=>{const{current:P}=b;P&&(P.width=0,P.height=0)},[]);return z.useEffect(()=>_,[_]),F.jsx("canvas",{className:`${n}__canvas`,dir:"ltr",ref:sw(w,b),style:{display:"block",userSelect:"none"},children:p?F.jsx(eP,{}):null})}function iP(s){return"str"in s}function sP(){const s=_l();Bt(s);const{customTextRenderer:t,onGetTextError:e,onGetTextSuccess:n,onRenderTextLayerError:r,onRenderTextLayerSuccess:a,page:l,pageIndex:c,pageNumber:h,rotate:d,scale:p}=s;Bt(l);const[m,y]=Qs(),{value:w,error:b}=m,x=z.useRef(null);Ie(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function S(){w&&n&&n(w)}function E(){b&&(Ie(!1,b.toString()),e&&e(b))}z.useEffect(function(){y({type:"RESET"})},[l,y]),z.useEffect(function(){if(!l)return;const L=Ro(l.getTextContent()),$=L;return L.promise.then(K=>{y({type:"RESOLVE",value:K})}).catch(K=>{y({type:"REJECT",error:K})}),()=>os($)},[l,y]),z.useEffect(()=>{if(w!==void 0){if(w===!1){E();return}S()}},[w]);const T=z.useCallback(()=>{a&&a()},[a]),_=z.useCallback(N=>{Ie(!1,N.toString()),r&&r(N)},[r]);function P(){const N=x.current;N&&N.classList.add("selecting")}function k(){const N=x.current;N&&N.classList.remove("selecting")}const D=z.useMemo(()=>l.getViewport({scale:p,rotation:d}),[l,d,p]);return z.useLayoutEffect(function(){if(!l||!w)return;const{current:L}=x;if(!L)return;L.innerHTML="";const $=l.streamTextContent({includeMarkedContent:!0}),K={container:L,textContentSource:$,viewport:D},Z=new mo(K),ft=Z;return Z.render().then(()=>{const dt=document.createElement("div");dt.className="endOfContent",L.append(dt);const nt=L.querySelectorAll('[role="presentation"]');if(t){let xt=0;w.items.forEach((G,U)=>{if(!iP(G))return;const j=nt[xt];if(!j)return;const tt=t({pageIndex:c,pageNumber:h,itemIndex:U,...G});j.innerHTML=tt,xt+=G.str&&G.hasEOL?2:1})}T()}).catch(_),()=>os(ft)},[t,_,T,l,c,h,w,D]),F.jsx("div",{className:Zs("react-pdf__Page__textContent","textLayer"),onMouseUp:k,onMouseDown:P,ref:x})}const wy=1;function rP(s){const e={...iw(),...s},{_className:n="react-pdf__Page",_enableRegisterUnregisterPage:r=!0,canvasBackground:a,canvasRef:l,children:c,className:h,customRenderer:d,customTextRenderer:p,devicePixelRatio:m,error:y="Failed to load the page.",height:w,inputRef:b,loading:x="Loading page",noData:S="No page specified.",onGetAnnotationsError:E,onGetAnnotationsSuccess:T,onGetStructTreeError:_,onGetStructTreeSuccess:P,onGetTextError:k,onGetTextSuccess:D,onLoadError:N,onLoadSuccess:L,onRenderAnnotationLayerError:$,onRenderAnnotationLayerSuccess:K,onRenderError:Z,onRenderSuccess:ft,onRenderTextLayerError:dt,onRenderTextLayerSuccess:nt,pageIndex:xt,pageNumber:G,pdf:U,registerPage:j,renderAnnotationLayer:tt=!0,renderForms:Y=!1,renderMode:I="canvas",renderTextLayer:H=!0,rotate:J,scale:st=wy,unregisterPage:mt,width:wt,...et}=e,[Ct,kt]=Qs(),{value:Tt,error:me}=Ct,Ae=z.useRef(null);Bt(U);const Lt=qi(G)?G-1:xt??null,jt=G??(qi(xt)?xt+1:null),Yt=J??(Tt?Tt.rotate:null),Jt=z.useMemo(()=>{if(!Tt)return null;let en=1;const gn=st??wy;if(wt||w){const yn=Tt.getViewport({scale:1,rotation:Yt});wt?en=wt/yn.width:w&&(en=w/yn.height)}return gn*en},[w,Tt,Yt,st,wt]);z.useEffect(function(){return()=>{qi(Lt)&&r&&mt&&mt(Lt)}},[r,U,Lt,mt]);function kn(){if(L){if(!Tt||!Jt)return;L(_h(Tt,Jt))}if(r&&j){if(!qi(Lt)||!Ae.current)return;j(Lt,Ae.current)}}function si(){me&&(Ie(!1,me.toString()),N&&N(me))}z.useEffect(function(){kt({type:"RESET"})},[kt,U,Lt]),z.useEffect(function(){if(!U||!jt)return;const gn=Ro(U.getPage(jt)),yn=gn;return gn.promise.then(Un=>{kt({type:"RESOLVE",value:Un})}).catch(Un=>{kt({type:"REJECT",error:Un})}),()=>os(yn)},[kt,U,jt]),z.useEffect(()=>{if(Tt!==void 0){if(Tt===!1){si();return}kn()}},[Tt,Jt]);const Li=z.useMemo(()=>qi(Lt)&&jt&&qi(Yt)&&qi(Jt)?{_className:n,canvasBackground:a,customTextRenderer:p,devicePixelRatio:m,onGetAnnotationsError:E,onGetAnnotationsSuccess:T,onGetStructTreeError:_,onGetStructTreeSuccess:P,onGetTextError:k,onGetTextSuccess:D,onRenderAnnotationLayerError:$,onRenderAnnotationLayerSuccess:K,onRenderError:Z,onRenderSuccess:ft,onRenderTextLayerError:dt,onRenderTextLayerSuccess:nt,page:Tt,pageIndex:Lt,pageNumber:jt,renderForms:Y,renderTextLayer:H,rotate:Yt,scale:Jt}:null,[n,a,p,m,E,T,_,P,k,D,$,K,Z,ft,dt,nt,Tt,Lt,jt,Y,H,Yt,Jt]),Ii=z.useMemo(()=>J0(et,()=>Tt&&(Jt?_h(Tt,Jt):void 0)),[et,Tt,Jt]),mn=`${Lt}@${Jt}/${Yt}`;function rr(){switch(I){case"custom":return Bt(d),F.jsx(d,{},`${mn}_custom`);case"none":return null;case"canvas":default:return F.jsx(nP,{canvasRef:l},`${mn}_canvas`)}}function Mo(){return H?F.jsx(sP,{},`${mn}_text`):null}function Lo(){return tt?F.jsx(Yk,{},`${mn}_annotations`):null}function Io(){function en(yn){return!!yn?.page}if(!en(Li))throw new Error("page is undefined");const gn=typeof c=="function"?c(Li):c;return F.jsxs(rw.Provider,{value:Li,children:[rr(),Mo(),Lo(),gn]})}function Do(){return jt?U===null||Tt===void 0||Tt===null?F.jsx(Ks,{type:"loading",children:typeof x=="function"?x():x}):U===!1||Tt===!1?F.jsx(Ks,{type:"error",children:typeof y=="function"?y():y}):Io():F.jsx(Ks,{type:"no-data",children:typeof S=="function"?S():S})}return F.jsx("div",{className:Zs(n,h),"data-page-number":jt,ref:sw(b,Ae),style:{"--scale-round-x":"1px","--scale-round-y":"1px","--scale-factor":"1","--user-unit":`${Jt}`,"--total-scale-factor":"calc(var(--scale-factor) * var(--user-unit))",backgroundColor:a||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"},...Ii,children:Do()})}$k();Ti.workerSrc="pdf.worker.mjs";Ti.workerSrc="https://unpkg.com/pdfjs-dist@2.10.377/es5/build/pdf.worker.min.js";function oP(){const[s,t]=z.useState(1200),[e,n]=z.useState(!1);z.useEffect(()=>{t(window.innerWidth)},[]);const r=()=>{const l=document.createElement("a");l.href=pdfFile,l.download="Lee_Wei_Ying_Resume.pdf",l.target="_blank",document.body.appendChild(l),l.click(),document.body.removeChild(l)},a=()=>{n(!0),document.getElementById("resume-preview")?.scrollIntoView({behavior:"smooth"})};return F.jsx("div",{className:"min-h-screen pt-20 pb-16",children:F.jsxs("div",{className:"container mx-auto px-4 text-center",children:[F.jsxs(Ot.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"mb-16",children:[F.jsx("h1",{className:"text-4xl md:text-5xl mb-6",children:"Resume"}),F.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto mb-8",children:"Download my resume or preview it below"}),F.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[F.jsx(Ot.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:F.jsxs(Ci,{size:"lg",onClick:r,className:"px-8 py-3 text-lg",children:[F.jsx(MC,{size:20,className:"mr-2"}),"Download Resume"]})}),F.jsx(Ot.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:F.jsx(Ci,{variant:"outline",size:"lg",onClick:a,className:"px-8 py-3 text-lg",children:"Preview Resume"})})]})]}),e&&F.jsx("div",{id:"resume-preview",className:"resume my-8 flex justify-center",children:F.jsx(qk,{file:pdfFile,children:F.jsx(rP,{pageNumber:1,scale:s>786?1.7:.6})})})]})})}function aP(){const s=new Date().getFullYear(),t=[{name:"Email",icon:Rx,href:"mailto:leeweiying.info@gmail.com",color:"hover:text-blue-500"},{name:"LinkedIn",icon:Ay,href:"https://www.linkedin.com/in/lee-weiying",color:"hover:text-[#0077B5]"},{name:"GitHub",icon:rl,href:"https://github.com/emery97",color:"hover:text-gray-600 dark:hover:text-gray-400"},{name:"Telegram",icon:Dx,href:"https://t.me/getanicesleep",color:"hover:text-[#0088cc]"}];return F.jsx("footer",{className:"bg-background border-t border-border pt-16 pb-32 px-4",children:F.jsxs("div",{className:"flex flex-col items-center gap-8",children:[F.jsx("div",{className:"flex items-center gap-6",children:t.map((e,n)=>F.jsx(Ot.a,{href:e.href,target:e.href.startsWith("mailto:")?"_self":"_blank",rel:e.href.startsWith("mailto:")?"":"noopener noreferrer",className:`text-muted-foreground transition-colors duration-200 ${e.color}`,whileHover:{scale:1.1},whileTap:{scale:.95},initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:.1+n*.1},"aria-label":e.name,children:F.jsx(e.icon,{size:24})},e.name))}),F.jsx(Ot.p,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:.6},className:"text-muted-foreground text-sm text-center",children:"Built with  by wei ying"}),F.jsxs(Ot.p,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:.7},className:"text-muted-foreground text-xs text-center mb-8",children:["Last updated ",s]})]})})}function lP(){const[s,t]=z.useState("home"),[e,n]=z.useState(!1);z.useEffect(()=>{const a=localStorage.getItem("theme"),l=window.matchMedia("(prefers-color-scheme: dark)").matches;(a==="dark"||!a&&l)&&(n(!0),document.documentElement.classList.add("dark"))},[]),z.useEffect(()=>{localStorage.setItem("theme",e?"dark":"light")},[e]);const r=()=>{switch(s){case"home":return F.jsx(zg,{});case"about":return F.jsx(fC,{});case"projects":return F.jsx(AC,{});case"resume":return F.jsx(oP,{});default:return F.jsx(zg,{})}};return F.jsxs("div",{className:"min-h-screen bg-background text-foreground flex flex-col",children:[F.jsx(TA,{activeTab:s,setActiveTab:t,isDark:e,setIsDark:n}),F.jsx("main",{className:"flex-1 pt-16",children:r()}),F.jsx(aP,{})]})}px.createRoot(document.getElementById("root")).render(F.jsx(lP,{}));
